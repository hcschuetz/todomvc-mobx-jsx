var gl=Object.defineProperty;var wl=(e,t,n)=>t in e?gl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ln=(e,t,n)=>(wl(e,typeof t!="symbol"?t+"":t,n),n),Ol=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var Nn=(e,t,n)=>(Ol(e,t,"read from private field"),n?n.call(e):t.get(e)),bs=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function A(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var Sl={};function Eo(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:Sl}var _i=Object.assign,Qn=Object.getOwnPropertyDescriptor,je=Object.defineProperty,wn=Object.prototype,no=[];Object.freeze(no);var xo={};Object.freeze(xo);var Al=typeof Proxy<"u",Tl=Object.toString();function bi(){Al||A("Proxy not available")}function gi(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var xt=function(){};function de(e){return typeof e=="function"}function dt(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function _r(e){return e!==null&&typeof e=="object"}function Fe(e){if(!_r(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===Tl}function wi(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function On(e,t,n){je(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Oi(e,t,n){je(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function st(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return _r(r)&&r[n]===!0}}function qt(e){return e instanceof Map}function Sn(e){return e instanceof Set}var Si=typeof Object.getOwnPropertySymbols<"u";function Cl(e){var t=Object.keys(e);if(!Si)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return wn.propertyIsEnumerable.call(e,r)})):t}var Nt=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Si?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Ai(e){return e===null?null:typeof e=="object"?""+e:e}function Ve(e,t){return wn.hasOwnProperty.call(e,t)}var Pl=Object.getOwnPropertyDescriptors||function(t){var n={};return Nt(t).forEach(function(r){n[r]=Qn(t,r)}),n};function gs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,El(r.key),r)}}function jo(e,t,n){return t&&gs(e.prototype,t),n&&gs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt.apply(this,arguments)}function Ti(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ro(e,t)}function ro(e,t){return ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},ro(e,t)}function Gr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Il(e,t){if(e){if(typeof e=="string")return ws(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ws(e,t)}}function ws(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jt(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Il(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kl(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function El(e){var t=kl(e,"string");return typeof t=="symbol"?t:String(t)}var xe=Symbol("mobx-stored-annotations");function we(e){function t(n,r){if(An(r))return e.decorate_20223_(n,r);Jt(n,r,e)}return Object.assign(t,e)}function Jt(e,t,n){Ve(e,xe)||On(e,xe,tt({},e[xe])),Ll(n)||(e[xe][t]=n)}function xl(e){return Ve(e,xe)||On(e,xe,tt({},e[xe])),e[xe]}function An(e){return typeof e=="object"&&typeof e.kind=="string"}var O=Symbol("mobx administration"),Tn=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=E.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return Ki(this)},t.reportChanged=function(){ae(),zi(this),le()},t.toString=function(){return this.name_},e}(),Do=st("Atom",Tn);function Be(e,t,n){t===void 0&&(t=xt),n===void 0&&(n=xt);var r=new Tn(e);return t!==xt&&ea(r,t),n!==xt&&Lo(r,n),r}function jl(e,t){return e===t}function Dl(e,t){return Ho(e,t)}function Rl(e,t){return Ho(e,t,1)}function Ml(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var ht={identity:jl,structural:Dl,default:Ml,shallow:Rl};function pt(e,t,n){return Ue(e)?e:Array.isArray(e)?k.array(e,{name:n}):Fe(e)?k.object(e,void 0,{name:n}):qt(e)?k.map(e,{name:n}):Sn(e)?k.set(e,{name:n}):typeof e=="function"&&!Xt(e)&&!Ft(e)?wi(e)?mt(e):Vt(n,e):e}function Nl(e,t,n){if(e==null||L(e)||Y(e)||G(e)||ne(e))return e;if(Array.isArray(e))return k.array(e,{name:n,deep:!1});if(Fe(e))return k.object(e,void 0,{name:n,deep:!1});if(qt(e))return k.map(e,{name:n,deep:!1});if(Sn(e))return k.set(e,{name:n,deep:!1})}function br(e){return e}function $l(e,t){return Ho(e,t)?t:e}var Ci="override",Vl=we({annotationType_:Ci,make_:Fl,extend_:Bl,decorate_20223_:Ul});function Ll(e){return e.annotationType_===Ci}function Fl(e,t){return 0}function Bl(e,t,n,r){A("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function Ul(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function Cn(e,t){return{annotationType_:e,options_:t,make_:Gl,extend_:Wl,decorate_20223_:Kl}}function Gl(e,t,n,r){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(Xt(n.value))return 1;var s=Pi(e,this,t,n,!1);return je(r,t,s),2}function Wl(e,t,n,r){var o=Pi(e,this,t,n);return e.defineProperty_(t,o,r)}function Kl(e,t){var n=t.kind,r=t.name,o=t.addInitializer,s=this,i=function(c){var u,f,d,h;return nt((u=(f=s.options_)==null?void 0:f.name)!=null?u:r.toString(),c,(d=(h=s.options_)==null?void 0:h.autoAction)!=null?d:!1)};if(n=="field"){o(function(){Jt(this,r,s)});return}if(n=="method"){var a;return Xt(e)||(e=i(e)),(a=this.options_)!=null&&a.bound&&o(function(){var l=this,c=l[r].bind(l);c.isMobxAction=!0,l[r]=c}),e}A("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function zl(e,t,n,r){t.annotationType_,r.value}function Pi(e,t,n,r,o){var s,i,a,l,c,u,f;o===void 0&&(o=y.safeDescriptors),zl(e,t,n,r);var d=r.value;if((s=t.options_)!=null&&s.bound){var h;d=d.bind((h=e.proxy_)!=null?h:e.target_)}return{value:nt((i=(a=t.options_)==null?void 0:a.name)!=null?i:n.toString(),d,(l=(c=t.options_)==null?void 0:c.autoAction)!=null?l:!1,(u=t.options_)!=null&&u.bound?(f=e.proxy_)!=null?f:e.target_:void 0),configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function Ii(e,t){return{annotationType_:e,options_:t,make_:Hl,extend_:ql,decorate_20223_:Jl}}function Hl(e,t,n,r){var o;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!Ve(e.target_,t)||!Ft(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(Ft(n.value))return 1;var s=ki(e,this,t,n,!1,!1);return je(r,t,s),2}function ql(e,t,n,r){var o,s=ki(e,this,t,n,(o=this.options_)==null?void 0:o.bound);return e.defineProperty_(t,s,r)}function Jl(e,t){var n,r=t.name,o=t.addInitializer;return Ft(e)||(e=mt(e)),(n=this.options_)!=null&&n.bound&&o(function(){var s=this,i=s[r].bind(s);i.isMobXFlow=!0,s[r]=i}),e}function Xl(e,t,n,r){t.annotationType_,r.value}function ki(e,t,n,r,o,s){s===void 0&&(s=y.safeDescriptors),Xl(e,t,n,r);var i=r.value;if(Ft(i)||(i=mt(i)),o){var a;i=i.bind((a=e.proxy_)!=null?a:e.target_),i.isMobXFlow=!0}return{value:i,configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function Ro(e,t){return{annotationType_:e,options_:t,make_:Yl,extend_:Ql,decorate_20223_:Zl}}function Yl(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function Ql(e,t,n,r){return eu(e,this,t,n),e.defineComputedProperty_(t,tt({},this.options_,{get:n.get,set:n.set}),r)}function Zl(e,t){var n=this,r=t.name,o=t.addInitializer;return o(function(){var s=Pt(this)[O],i=tt({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),s.values_.set(r,new $t(i))}),function(){return this[O].getObservablePropValue_(r)}}function eu(e,t,n,r){t.annotationType_,r.get}function gr(e,t){return{annotationType_:e,options_:t,make_:tu,extend_:nu,decorate_20223_:ru}}function tu(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function nu(e,t,n,r){var o,s;return ou(e,this),e.defineObservableProperty_(t,n.value,(o=(s=this.options_)==null?void 0:s.enhancer)!=null?o:pt,r)}function ru(e,t){var n=this,r=t.kind,o=t.name,s=new WeakSet;function i(a,l){var c,u,f=Pt(a)[O],d=new Qe(l,(c=(u=n.options_)==null?void 0:u.enhancer)!=null?c:pt,"ObservableObject."+o.toString(),!1);f.values_.set(o,d),s.add(a)}if(r=="accessor")return{get:function(){return s.has(this)||i(this,e.get.call(this)),this[O].getObservablePropValue_(o)},set:function(l){return s.has(this)||i(this,l),this[O].setObservablePropValue_(o,l)},init:function(l){return s.has(this)||i(this,l),l}}}function ou(e,t,n,r){t.annotationType_}var su="true",iu=Ei();function Ei(e){return{annotationType_:su,options_:e,make_:au,extend_:lu,decorate_20223_:uu}}function au(e,t,n,r){var o,s;if(n.get)return N.make_(e,t,n,r);if(n.set){var i=nt(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:y.safeDescriptors?e.isPlainObject_:!0,set:i})===null?0:2:(je(r,t,{configurable:!0,set:i}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(wi(n.value)){var l,c=(l=this.options_)!=null&&l.autoBind?mt.bound:mt;return c.make_(e,t,n,r)}var u=(a=this.options_)!=null&&a.autoBind?Vt.bound:Vt;return u.make_(e,t,n,r)}var f=((o=this.options_)==null?void 0:o.deep)===!1?k.ref:k;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var d;n.value=n.value.bind((d=e.proxy_)!=null?d:e.target_)}return f.make_(e,t,n,r)}function lu(e,t,n,r){var o,s;if(n.get)return N.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:y.safeDescriptors?e.isPlainObject_:!0,set:nt(t.toString(),n.set)},r);if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var i;n.value=n.value.bind((i=e.proxy_)!=null?i:e.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?k.ref:k;return a.extend_(e,t,n,r)}function uu(e,t){A("'"+this.annotationType_+"' cannot be used as a decorator")}var cu="observable",fu="observable.ref",du="observable.shallow",hu="observable.struct",xi={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(xi);function $n(e){return e||xi}var oo=gr(cu),pu=gr(fu,{enhancer:br}),vu=gr(du,{enhancer:Nl}),mu=gr(hu,{enhancer:$l}),ji=we(oo);function Vn(e){return e.deep===!0?pt:e.deep===!1?br:_u(e.defaultDecorator)}function yu(e){var t;return e?(t=e.defaultDecorator)!=null?t:Ei(e):void 0}function _u(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:pt}function Di(e,t,n){if(An(t))return oo.decorate_20223_(e,t);if(dt(t)){Jt(e,t,oo);return}return Ue(e)?e:Fe(e)?k.object(e,t,n):Array.isArray(e)?k.array(e,t):qt(e)?k.map(e,t):Sn(e)?k.set(e,t):typeof e=="object"&&e!==null?e:k.box(e,t)}_i(Di,ji);var bu={box:function(t,n){var r=$n(n);return new Qe(t,Vn(r),r.name,!0,r.equals)},array:function(t,n){var r=$n(n);return(y.useProxies===!1||r.proxy===!1?Ec:gc)(t,Vn(r),r.name)},map:function(t,n){var r=$n(n);return new Wo(t,Vn(r),r.name)},set:function(t,n){var r=$n(n);return new Ko(t,Vn(r),r.name)},object:function(t,n,r){return it(function(){return Fo(y.useProxies===!1||(r==null?void 0:r.proxy)===!1?Pt({},r):vc({},r),t,n)})},ref:we(pu),shallow:we(vu),deep:ji,struct:we(mu)},k=_i(Di,bu),Ri="computed",gu="computed.struct",so=Ro(Ri),wu=Ro(gu,{equals:ht.structural}),N=function(t,n){if(An(n))return so.decorate_20223_(t,n);if(dt(n))return Jt(t,n,so);if(Fe(t))return we(Ro(Ri,t));var r=Fe(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new $t(r)};Object.assign(N,so);N.struct=we(wu);var Os,Ss,Zn=0,Ou=1,Su=(Os=(Ss=Qn(function(){},"name"))==null?void 0:Ss.configurable)!=null?Os:!1,As={value:"action",configurable:!0,writable:!1,enumerable:!1};function nt(e,t,n,r){n===void 0&&(n=!1);function o(){return Mi(e,n,t,r||this,arguments)}return o.isMobxAction=!0,o.toString=function(){return t.toString()},Su&&(As.value=e,je(o,"name",As)),o}function Mi(e,t,n,r,o){var s=Ni(e,t);try{return n.apply(r,o)}catch(i){throw s.error_=i,i}finally{$i(s)}}function Ni(e,t,n,r){var o=!1,s=0,i=y.trackingDerivation,a=!t||!i;ae();var l=y.allowStateChanges;a&&(Tt(),l=wr(!0));var c=Sr(!0),u={runAsAction_:a,prevDerivation_:i,prevAllowStateChanges_:l,prevAllowStateReads_:c,notifySpy_:o,startTime_:s,actionId_:Ou++,parentActionId_:Zn};return Zn=u.actionId_,u}function $i(e){Zn!==e.actionId_&&A(30),Zn=e.parentActionId_,e.error_!==void 0&&(y.suppressReactionErrors=!0),Or(e.prevAllowStateChanges_),Dt(e.prevAllowStateReads_),le(),e.runAsAction_&&Le(e.prevDerivation_),y.suppressReactionErrors=!1}function Mo(e,t){var n=wr(e);try{return t()}finally{Or(n)}}function wr(e){var t=y.allowStateChanges;return y.allowStateChanges=e,t}function Or(e){y.allowStateChanges=e}var Vi;Vi=Symbol.toPrimitive;var Qe=function(e){Ti(t,e);function t(r,o,s,i,a){var l;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=ht.default),l=e.call(this,s)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=o,l.name_=s,l.equals=a,l.value_=o(r,void 0,s),l}var n=t.prototype;return n.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},n.set=function(o){this.value_,o=this.prepareNewValue_(o),o!==y.UNCHANGED&&this.setNewValue_(o)},n.prepareNewValue_=function(o){if(me(this)){var s=ye(this,{object:this,type:De,newValue:o});if(!s)return y.UNCHANGED;o=s.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?y.UNCHANGED:o},n.setNewValue_=function(o){var s=this.value_;this.value_=o,this.reportChanged(),Oe(this)&&Se(this,{type:De,object:this,newValue:o,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(o){return Pn(this,o)},n.observe_=function(o,s){return s&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:De,newValue:this.value_,oldValue:void 0}),In(this,o)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return Ai(this.get())},n[Vi]=function(){return this.valueOf()},t}(Tn),No=st("ObservableValue",Qe),Li;Li=Symbol.toPrimitive;var $t=function(){function e(n){this.dependenciesState_=E.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=E.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new tr(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=er.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||A(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=nt("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?ht.structural:ht.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){Ru(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing_&&A(32,this.name_,this.derivation),y.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)io(this)&&(this.warnAboutUntrackedRead_(),ae(),this.value_=this.computeValue_(!1),le());else if(Ki(this),io(this)){var r=y.trackingContext;this.keepAlive_&&!r&&(y.trackingContext=this),this.trackAndCompute()&&Du(this),y.trackingContext=r}var o=this.value_;if(Kn(o))throw o.cause;return o},t.set=function(r){if(this.setter_){this.isRunningSetter_&&A(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter_=!1}}else A(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===E.NOT_TRACKING_,s=this.computeValue_(!0),i=o||Kn(r)||Kn(s)||!this.equals_(r,s);return i&&(this.value_=s),i},t.computeValue_=function(r){this.isComputing_=!0;var o=wr(!1),s;if(r)s=Fi(this,this.derivation,this.scope_);else if(y.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(i){s=new tr(i)}return Or(o),this.isComputing_=!1,s},t.suspend_=function(){this.keepAlive_||(ao(this),this.value_=void 0)},t.observe_=function(r,o){var s=this,i=!0,a=void 0;return Vo(function(){var l=s.get();if(!i||o){var c=Tt();r({observableKind:"computed",debugObjectName:s.name_,type:De,object:s,newValue:l,oldValue:a}),Le(c)}i=!1,a=l})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Ai(this.get())},t[Li]=function(){return this.valueOf()},e}(),vt=st("ComputedValue",$t),E;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(E||(E={}));var er;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(er||(er={}));var tr=function(t){this.cause=void 0,this.cause=t};function Kn(e){return e instanceof tr}function io(e){switch(e.dependenciesState_){case E.UP_TO_DATE_:return!1;case E.NOT_TRACKING_:case E.STALE_:return!0;case E.POSSIBLY_STALE_:{for(var t=Sr(!0),n=Tt(),r=e.observing_,o=r.length,s=0;s<o;s++){var i=r[s];if(vt(i)){if(y.disableErrorBoundaries)i.get();else try{i.get()}catch{return Le(n),Dt(t),!0}if(e.dependenciesState_===E.STALE_)return Le(n),Dt(t),!0}}return Bi(e),Le(n),Dt(t),!1}}}function Au(){return y.trackingDerivation!==null}function Fi(e,t,n){var r=Sr(!0);Bi(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++y.runId;var o=y.trackingDerivation;y.trackingDerivation=e,y.inBatch++;var s;if(y.disableErrorBoundaries===!0)s=t.call(n);else try{s=t.call(n)}catch(i){s=new tr(i)}return y.inBatch--,y.trackingDerivation=o,Tu(e),Dt(r),s}function Tu(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=E.UP_TO_DATE_,o=0,s=e.unboundDepsCount_,i=0;i<s;i++){var a=n[i];a.diffValue_===0&&(a.diffValue_=1,o!==i&&(n[o]=a),o++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=o,e.newObserving_=null,s=t.length;s--;){var l=t[s];l.diffValue_===0&&Gi(l,e),l.diffValue_=0}for(;o--;){var c=n[o];c.diffValue_===1&&(c.diffValue_=0,ju(c,e))}r!==E.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function ao(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Gi(t[n],e);e.dependenciesState_=E.NOT_TRACKING_}function $o(e){var t=Tt();try{return e()}finally{Le(t)}}function Tt(){var e=y.trackingDerivation;return y.trackingDerivation=null,e}function Le(e){y.trackingDerivation=e}function Sr(e){var t=y.allowStateReads;return y.allowStateReads=e,t}function Dt(e){y.allowStateReads=e}function Bi(e){if(e.dependenciesState_!==E.UP_TO_DATE_){e.dependenciesState_=E.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=E.UP_TO_DATE_}}var Cu=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],un=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},zn=!0,Ui=!1,y=function(){var e=Eo();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(zn=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new un().version&&(zn=!1),zn?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new un):(setTimeout(function(){Ui||A(35)},1),new un)}();function Pu(){if((y.pendingReactions.length||y.inBatch||y.isRunningReactions)&&A(36),Ui=!0,zn){var e=Eo();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),y=new un}}function Iu(){return y}function ku(){var e=new un;for(var t in e)Cu.indexOf(t)===-1&&(y[t]=e[t]);y.allowStateChanges=!y.enforceActions}function Eu(e){return e.observers_&&e.observers_.size>0}function xu(e){return e.observers_}function ju(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Gi(e,t){e.observers_.delete(t),e.observers_.size===0&&Wi(e)}function Wi(e){e.isPendingUnobservation_===!1&&(e.isPendingUnobservation_=!0,y.pendingUnobservations.push(e))}function ae(){y.inBatch++}function le(){if(--y.inBatch===0){Hi();for(var e=y.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,n.observers_.size===0&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof $t&&n.suspend_())}y.pendingUnobservations=[]}}function Ki(e){var t=y.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&y.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(e.observers_.size===0&&y.inBatch>0&&Wi(e),!1)}function zi(e){e.lowestObserverState_!==E.STALE_&&(e.lowestObserverState_=E.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===E.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=E.STALE_}))}function Du(e){e.lowestObserverState_!==E.STALE_&&(e.lowestObserverState_=E.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===E.POSSIBLY_STALE_?t.dependenciesState_=E.STALE_:t.dependenciesState_===E.UP_TO_DATE_&&(e.lowestObserverState_=E.UP_TO_DATE_)}))}function Ru(e){e.lowestObserverState_===E.UP_TO_DATE_&&(e.lowestObserverState_=E.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===E.UP_TO_DATE_&&(t.dependenciesState_=E.POSSIBLY_STALE_,t.onBecomeStale_())}))}var pn=function(){function e(n,r,o,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=E.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=er.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=s}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,y.pendingReactions.push(this),Hi())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){ae(),this.isScheduled_=!1;var r=y.trackingContext;if(y.trackingContext=this,io(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}y.trackingContext=r,le()}},t.track=function(r){if(!this.isDisposed_){ae(),this.isRunning_=!0;var o=y.trackingContext;y.trackingContext=this;var s=Fi(this,r,void 0);y.trackingContext=o,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&ao(this),Kn(s)&&this.reportExceptionInDerivation_(s.cause),le()}},t.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(y.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";y.suppressReactionErrors||console.error(s,r),y.globalReactionErrorHandlers.forEach(function(i){return i(r,o)})},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(ae(),ao(this),le()))},t.getDisposer_=function(r){var o=this,s=function i(){o.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",i)};return r==null||r.addEventListener==null||r.addEventListener("abort",s),s[O]=this,s},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},e}();function Mu(e){return y.globalReactionErrorHandlers.push(e),function(){var t=y.globalReactionErrorHandlers.indexOf(e);t>=0&&y.globalReactionErrorHandlers.splice(t,1)}}var Nu=100,lo=function(t){return t()};function Hi(){y.inBatch>0||y.isRunningReactions||lo($u)}function $u(){y.isRunningReactions=!0;for(var e=y.pendingReactions,t=0;e.length>0;){++t===Nu&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}y.isRunningReactions=!1}var nr=st("Reaction",pn);function Vu(e){var t=lo;lo=function(r){return e(function(){return t(r)})}}function cn(){return!1}function qi(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Ji="action",Lu="action.bound",Xi="autoAction",Fu="autoAction.bound",Yi="<unnamed action>",uo=Cn(Ji),Bu=Cn(Lu,{bound:!0}),co=Cn(Xi,{autoAction:!0}),Uu=Cn(Fu,{autoAction:!0,bound:!0});function Qi(e){var t=function(r,o){if(de(r))return nt(r.name||Yi,r,e);if(de(o))return nt(r,o,e);if(An(o))return(e?co:uo).decorate_20223_(r,o);if(dt(o))return Jt(r,o,e?co:uo);if(dt(r))return we(Cn(e?Xi:Ji,{name:r,autoAction:e}))};return t}var S=Qi(!1);Object.assign(S,uo);var Vt=Qi(!0);Object.assign(Vt,co);S.bound=we(Bu);Vt.bound=we(Uu);function fo(e){return Mi(e.name||Yi,!1,e,this,void 0)}function Xt(e){return de(e)&&e.isMobxAction===!0}function Vo(e,t){var n,r,o,s,i;t===void 0&&(t=xo);var a=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",l=!t.scheduler&&!t.delay,c;if(l)c=new pn(a,function(){this.track(d)},t.onError,t.requiresObservable);else{var u=Zi(t),f=!1;c=new pn(a,function(){f||(f=!0,u(function(){f=!1,c.isDisposed_||c.track(d)}))},t.onError,t.requiresObservable)}function d(){e(c)}return(o=t)!=null&&(s=o.signal)!=null&&s.aborted||c.schedule_(),c.getDisposer_((i=t)==null?void 0:i.signal)}var Gu=function(t){return t()};function Zi(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Gu}function Lt(e,t,n){var r,o,s,i;n===void 0&&(n=xo);var a=(r=n.name)!=null?r:"Reaction",l=S(a,n.onError?Wu(n.onError,t):t),c=!n.scheduler&&!n.delay,u=Zi(n),f=!0,d=!1,h,v,m=n.compareStructural?ht.structural:n.equals||ht.default,w=new pn(a,function(){f||c?j():d||(d=!0,u(j))},n.onError,n.requiresObservable);function j(){if(d=!1,!w.isDisposed_){var x=!1;w.track(function(){var g=Mo(!1,function(){return e(w)});x=f||!m(h,g),v=h,h=g}),(f&&n.fireImmediately||!f&&x)&&l(h,v,w),f=!1}}return(o=n)!=null&&(s=o.signal)!=null&&s.aborted||w.schedule_(),w.getDisposer_((i=n)==null?void 0:i.signal)}function Wu(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var Ku="onBO",zu="onBUO";function ea(e,t,n){return ta(Ku,e,t,n)}function Lo(e,t,n){return ta(zu,e,t,n)}function ta(e,t,n,r){var o=typeof r=="function"?Ge(t,n):Ge(t),s=de(r)?r:n,i=e+"L";return o[i]?o[i].add(s):o[i]=new Set([s]),function(){var a=o[i];a&&(a.delete(s),a.size===0&&delete o[i])}}var Hu="never",Ln="always",qu="observed";function na(e){e.isolateGlobalState===!0&&Pu();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(y.useProxies=t===Ln?!0:t===Hu?!1:typeof Proxy<"u"),t==="ifavailable"&&(y.verifyProxies=!0),n!==void 0){var r=n===Ln?Ln:n===qu;y.enforceActions=r,y.allowStateChanges=!(r===!0||r===Ln)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in e&&(y[o]=!!e[o])}),y.allowStateReads=!y.observableRequiresReaction,e.reactionScheduler&&Vu(e.reactionScheduler)}function Fo(e,t,n,r){var o=Pl(t);return it(function(){var s=Pt(e,r)[O];Nt(o).forEach(function(i){s.extend_(i,o[i],n&&i in n?n[i]:!0)})}),e}function Ju(e,t){return ra(Ge(e,t))}function ra(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=Yu(e.observing_).map(ra)),t}function Xu(e,t){return oa(Ge(e,t))}function oa(e){var t={name:e.name_};return Eu(e)&&(t.observers=Array.from(xu(e)).map(oa)),t}function Yu(e){return Array.from(new Set(e))}var Qu=0;function Ar(){this.message="FLOW_CANCELLED"}Ar.prototype=Object.create(Error.prototype);function Zu(e){return e instanceof Ar}var Wr=Ii("flow"),ec=Ii("flow.bound",{bound:!0}),mt=Object.assign(function(t,n){if(An(n))return Wr.decorate_20223_(t,n);if(dt(n))return Jt(t,n,Wr);var r=t,o=r.name||"<unnamed flow>",s=function(){var a=this,l=arguments,c=++Qu,u=S(o+" - runid: "+c+" - init",r).apply(a,l),f,d=void 0,h=new Promise(function(v,m){var w=0;f=m;function j(_){d=void 0;var C;try{C=S(o+" - runid: "+c+" - yield "+w++,u.next).call(u,_)}catch(D){return m(D)}g(C)}function x(_){d=void 0;var C;try{C=S(o+" - runid: "+c+" - yield "+w++,u.throw).call(u,_)}catch(D){return m(D)}g(C)}function g(_){if(de(_==null?void 0:_.then)){_.then(g,m);return}return _.done?v(_.value):(d=Promise.resolve(_.value),d.then(j,x))}j(void 0)});return h.cancel=S(o+" - runid: "+c+" - cancel",function(){try{d&&Ts(d);var v=u.return(void 0),m=Promise.resolve(v.value);m.then(xt,xt),Ts(m),f(new Ar)}catch(w){f(w)}}),h};return s.isMobXFlow=!0,s},Wr);mt.bound=we(ec);function Ts(e){de(e.cancel)&&e.cancel()}function tc(e){return e}function Ft(e){return(e==null?void 0:e.isMobXFlow)===!0}function nc(e,t,n){var r;return G(e)||Y(e)||No(e)?r=We(e):L(e)&&(r=We(e,t)),r.dehancer=typeof t=="function"?t:n,function(){r.dehancer=void 0}}function Yt(e,t,n){return de(n)?oc(e,t,n):rc(e,t)}function rc(e,t){return We(e).intercept_(t)}function oc(e,t,n){return We(e,t).intercept_(n)}function sa(e,t){if(t===void 0)return vt(e);if(L(e)===!1||!e[O].values_.has(t))return!1;var n=Ge(e,t);return vt(n)}function sc(e){return sa(e)}function ic(e,t){return sa(e,t)}function ia(e,t){return e?t!==void 0?L(e)?e[O].values_.has(t):!1:L(e)||!!e[O]||Do(e)||nr(e)||vt(e):!1}function Ue(e){return ia(e)}function ac(e,t){return ia(e,t)}function yt(e){if(L(e))return e[O].keys_();if(G(e)||ne(e))return Array.from(e.keys());if(Y(e))return e.map(function(t,n){return n});A(5)}function Bo(e){if(L(e))return yt(e).map(function(t){return e[t]});if(G(e))return yt(e).map(function(t){return e.get(t)});if(ne(e))return Array.from(e.values());if(Y(e))return e.slice();A(6)}function aa(e){if(L(e))return yt(e).map(function(t){return[t,e[t]]});if(G(e))return yt(e).map(function(t){return[t,e.get(t)]});if(ne(e))return Array.from(e.entries());if(Y(e))return e.map(function(t,n){return[n,t]});A(7)}function rt(e,t,n){if(arguments.length===2&&!ne(e)){ae();var r=t;try{for(var o in r)rt(e,o,r[o])}finally{le()}return}L(e)?e[O].set_(t,n):G(e)?e.set(t,n):ne(e)?e.add(t):Y(e)?(typeof t!="number"&&(t=parseInt(t,10)),t<0&&A("Invalid index: '"+t+"'"),ae(),t>=e.length&&(e.length=t+1),e[t]=n,le()):A(8)}function Ae(e,t){L(e)?e[O].delete_(t):G(e)||ne(e)?e.delete(t):Y(e)?(typeof t!="number"&&(t=parseInt(t,10)),e.splice(t,1)):A(9)}function Uo(e,t){if(L(e))return e[O].has_(t);if(G(e))return e.has(t);if(ne(e))return e.has(t);if(Y(e))return t>=0&&t<e.length;A(10)}function la(e,t){if(Uo(e,t)){if(L(e))return e[O].get_(t);if(G(e))return e.get(t);if(Y(e))return e[t];A(11)}}function lc(e,t,n){if(L(e))return e[O].defineProperty_(t,n);A(39)}function ua(e){if(L(e))return e[O].ownKeys_();A(38)}function Ct(e,t,n,r){return de(n)?cc(e,t,n,r):uc(e,t,n)}function uc(e,t,n){return We(e).observe_(t,n)}function cc(e,t,n,r){return We(e,t).observe_(n,r)}function Fn(e,t,n){return e.set(t,n),n}function Et(e,t){if(e==null||typeof e!="object"||e instanceof Date||!Ue(e))return e;if(No(e)||vt(e))return Et(e.get(),t);if(t.has(e))return t.get(e);if(Y(e)){var n=Fn(t,e,new Array(e.length));return e.forEach(function(i,a){n[a]=Et(i,t)}),n}if(ne(e)){var r=Fn(t,e,new Set);return e.forEach(function(i){r.add(Et(i,t))}),r}if(G(e)){var o=Fn(t,e,new Map);return e.forEach(function(i,a){o.set(a,Et(i,t))}),o}else{var s=Fn(t,e,{});return ua(e).forEach(function(i){wn.propertyIsEnumerable.call(e,i)&&(s[i]=Et(e[i],t))}),s}}function ho(e,t){return Et(e,new Map)}function fc(){}function Ee(e,t){t===void 0&&(t=void 0),ae();try{return e.apply(t)}finally{le()}}function dc(e,t,n){return arguments.length===1||t&&typeof t=="object"?hc(e,t):ca(e,t,n||{})}function ca(e,t,n){var r;if(typeof n.timeout=="number"){var o=new Error("WHEN_TIMEOUT");r=setTimeout(function(){if(!i[O].isDisposed_)if(i(),n.onError)n.onError(o);else throw o},n.timeout)}n.name="When";var s=nt("When-effect",t),i=Vo(function(a){var l=Mo(!1,e);l&&(a.dispose(),r&&clearTimeout(r),s())},n);return i}function hc(e,t){var n;if(t!=null&&(n=t.signal)!=null&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var r,o,s=new Promise(function(i,a){var l,c=ca(e,i,tt({},t,{onError:a}));r=function(){c(),a(new Error("WHEN_CANCELLED"))},o=function(){c(),a(new Error("WHEN_ABORTED"))},t==null||(l=t.signal)==null||l.addEventListener==null||l.addEventListener("abort",o)}).finally(function(){var i;return t==null||(i=t.signal)==null||i.removeEventListener==null?void 0:i.removeEventListener("abort",o)});return s.cancel=r,s}function kt(e){return e[O]}var pc={has:function(t,n){return kt(t).has_(n)},get:function(t,n){return kt(t).get_(n)},set:function(t,n,r){var o;return dt(n)?(o=kt(t).set_(n,r,!0))!=null?o:!0:!1},deleteProperty:function(t,n){var r;return dt(n)?(r=kt(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var o;return(o=kt(t).defineProperty_(n,r))!=null?o:!0},ownKeys:function(t){return kt(t).ownKeys_()},preventExtensions:function(t){A(13)}};function vc(e,t){var n,r;return bi(),e=Pt(e,t),(r=(n=e[O]).proxy_)!=null?r:n.proxy_=new Proxy(e,pc)}function me(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Pn(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),gi(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function ye(e,t){var n=Tt();try{for(var r=[].concat(e.interceptors_||[]),o=0,s=r.length;o<s&&(t=r[o](t),t&&!t.type&&A(14),!!t);o++);return t}finally{Le(n)}}function Oe(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function In(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),gi(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Se(e,t){var n=Tt(),r=e.changeListeners_;if(r){r=r.slice();for(var o=0,s=r.length;o<s;o++)r[o](t);Le(n)}}function mc(e,t,n){return it(function(){var r,o=Pt(e,n)[O];(r=t)!=null||(t=xl(e)),Nt(t).forEach(function(s){return o.make_(s,t[s])})}),e}var Kr=Symbol("mobx-keys");function yc(e,t,n){return Fe(e)?Fo(e,e,t,n):(it(function(){var r=Pt(e,n)[O];if(!e[Kr]){var o=Object.getPrototypeOf(e),s=new Set([].concat(Nt(e),Nt(o)));s.delete("constructor"),s.delete(O),On(o,Kr,s)}e[Kr].forEach(function(i){return r.make_(i,t&&i in t?t[i]:!0)})}),e)}var Cs="splice",De="update",_c=1e4,bc={get:function(t,n){var r=t[O];return n===O?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Ve(rr,n)?rr[n]:t[n]},set:function(t,n,r){var o=t[O];return n==="length"&&o.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function(){A(15)}},Go=function(){function e(n,r,o,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=s,this.atom_=new Tn(n),this.enhancer_=function(i,a){return r(i,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return Pn(this,r)},t.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),In(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&A("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var s=new Array(r-o),i=0;i<r-o;i++)s[i]=void 0;this.spliceWithArray_(o,0,s)}else this.spliceWithArray_(r,o-r)},t.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&A(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&ba(r+o+1)},t.spliceWithArray_=function(r,o,s){var i=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?o=a-r:o==null?o=0:o=Math.max(0,Math.min(o,a-r)),s===void 0&&(s=no),me(this)){var l=ye(this,{object:this.proxy_,type:Cs,index:r,removedCount:o,added:s});if(!l)return no;o=l.removedCount,s=l.added}if(s=s.length===0?s:s.map(function(f){return i.enhancer_(f,void 0)}),this.legacyMode_){var c=s.length-o;this.updateArrayLength_(a,c)}var u=this.spliceItemsIntoValues_(r,o,s);return(o!==0||s.length!==0)&&this.notifyArraySplice_(r,s,u),this.dehanceValues_(u)},t.spliceItemsIntoValues_=function(r,o,s){if(s.length<_c){var i;return(i=this.values_).splice.apply(i,[r,o].concat(s))}else{var a=this.values_.slice(r,r+o),l=this.values_.slice(r+o);this.values_.length+=s.length-o;for(var c=0;c<s.length;c++)this.values_[r+c]=s[c];for(var u=0;u<l.length;u++)this.values_[r+s.length+u]=l[u];return a}},t.notifyArrayChildUpdate_=function(r,o,s){var i=!this.owned_&&cn(),a=Oe(this),l=a||i?{observableKind:"array",object:this.proxy_,type:De,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:s}:null;this.atom_.reportChanged(),a&&Se(this,l)},t.notifyArraySplice_=function(r,o,s){var i=!this.owned_&&cn(),a=Oe(this),l=a||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Cs,index:r,removed:s,added:o,removedCount:s.length,addedCount:o.length}:null;this.atom_.reportChanged(),a&&Se(this,l)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,o){var s=this.values_;if(this.legacyMode_&&r>s.length&&A(17,r,s.length),r<s.length){this.atom_;var i=s[r];if(me(this)){var a=ye(this,{type:De,object:this.proxy_,index:r,newValue:o});if(!a)return;o=a.newValue}o=this.enhancer_(o,i);var l=o!==i;l&&(s[r]=o,this.notifyArrayChildUpdate_(r,o,i))}else{for(var c=new Array(r+1-s.length),u=0;u<c.length-1;u++)c[u]=void 0;c[c.length-1]=o,this.spliceWithArray_(s.length,0,c)}},e}();function gc(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),bi(),it(function(){var o=new Go(n,t,r,!1);Oi(o.values_,O,o);var s=new Proxy(o.values_,bc);return o.proxy_=s,e&&e.length&&o.spliceWithArray_(0,0,e),s})}var rr={clear:function(){return this.splice(0)},replace:function(t){var n=this[O];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];var i=this[O];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray_(t);case 2:return i.spliceWithArray_(t,n)}return i.spliceWithArray_(t,n,o)},spliceWithArray:function(t,n,r){return this[O].spliceWithArray_(t,n,r)},push:function(){for(var t=this[O],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[O].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[O],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return y.trackingDerivation&&A(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){y.trackingDerivation&&A(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[O],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};R("at",pe);R("concat",pe);R("flat",pe);R("includes",pe);R("indexOf",pe);R("join",pe);R("lastIndexOf",pe);R("slice",pe);R("toString",pe);R("toLocaleString",pe);R("toSorted",pe);R("toSpliced",pe);R("with",pe);R("every",Pe);R("filter",Pe);R("find",Pe);R("findIndex",Pe);R("findLast",Pe);R("findLastIndex",Pe);R("flatMap",Pe);R("forEach",Pe);R("map",Pe);R("some",Pe);R("toReversed",Pe);R("reduce",fa);R("reduceRight",fa);function R(e,t){typeof Array.prototype[e]=="function"&&(rr[e]=t(e))}function pe(e){return function(){var t=this[O];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Pe(e){return function(t,n){var r=this,o=this[O];o.atom_.reportObserved();var s=o.dehanceValues_(o.values_);return s[e](function(i,a){return t.call(n,i,a,r)})}}function fa(e){return function(){var t=this,n=this[O];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(s,i,a){return o(s,i,a,t)},r[e].apply(r,arguments)}}var wc=st("ObservableArrayAdministration",Go);function Y(e){return _r(e)&&wc(e[O])}var da,ha,Oc={},Ye="add",or="delete";da=Symbol.iterator;ha=Symbol.toStringTag;var Wo=function(){function e(n,r,o){var s=this;r===void 0&&(r=pt),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[O]=Oc,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,de(Map)||A(18),it(function(){s.keysAtom_=Be("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var o=this;if(!y.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var i=s=new Qe(this.has_(r),br,"ObservableMap.key?",!1);this.hasMap_.set(r,i),Lo(i,function(){return o.hasMap_.delete(r)})}return s.get()},t.set=function(r,o){var s=this.has_(r);if(me(this)){var i=ye(this,{type:s?De:Ye,object:this,newValue:o,name:r});if(!i)return this;o=i.newValue}return s?this.updateValue_(r,o):this.addValue_(r,o),this},t.delete=function(r){var o=this;if(this.keysAtom_,me(this)){var s=ye(this,{type:or,object:this,name:r});if(!s)return!1}if(this.has_(r)){var i=cn(),a=Oe(this),l=a||i?{observableKind:"map",debugObjectName:this.name_,type:or,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Ee(function(){var c;o.keysAtom_.reportChanged(),(c=o.hasMap_.get(r))==null||c.setNewValue_(!1);var u=o.data_.get(r);u.setNewValue_(void 0),o.data_.delete(r)}),a&&Se(this,l),!0}return!1},t.updateValue_=function(r,o){var s=this.data_.get(r);if(o=s.prepareNewValue_(o),o!==y.UNCHANGED){var i=cn(),a=Oe(this),l=a||i?{observableKind:"map",debugObjectName:this.name_,type:De,object:this,oldValue:s.value_,name:r,newValue:o}:null;s.setNewValue_(o),a&&Se(this,l)}},t.addValue_=function(r,o){var s=this;this.keysAtom_,Ee(function(){var c,u=new Qe(o,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,u),o=u.value_,(c=s.hasMap_.get(r))==null||c.setNewValue_(!0),s.keysAtom_.reportChanged()});var i=cn(),a=Oe(this),l=a||i?{observableKind:"map",debugObjectName:this.name_,type:Ye,object:this,name:r,newValue:o}:null;a&&Se(this,l)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,o=this.keys();return vn({next:function(){var i=o.next(),a=i.done,l=i.value;return{done:a,value:a?void 0:r.get(l)}}})},t.entries=function(){var r=this,o=this.keys();return vn({next:function(){var i=o.next(),a=i.done,l=i.value;return{done:a,value:a?void 0:[l,r.get(l)]}}})},t[da]=function(){return this.entries()},t.forEach=function(r,o){for(var s=jt(this),i;!(i=s()).done;){var a=i.value,l=a[0],c=a[1];r.call(o,c,l,this)}},t.merge=function(r){var o=this;return G(r)&&(r=new Map(r)),Ee(function(){Fe(r)?Cl(r).forEach(function(s){return o.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var i=s[0],a=s[1];return o.set(i,a)}):qt(r)?(r.constructor!==Map&&A(19,r),r.forEach(function(s,i){return o.set(i,s)})):r!=null&&A(20,r)}),this},t.clear=function(){var r=this;Ee(function(){$o(function(){for(var o=jt(r.keys()),s;!(s=o()).done;){var i=s.value;r.delete(i)}})})},t.replace=function(r){var o=this;return Ee(function(){for(var s=Sc(r),i=new Map,a=!1,l=jt(o.data_.keys()),c;!(c=l()).done;){var u=c.value;if(!s.has(u)){var f=o.delete(u);if(f)a=!0;else{var d=o.data_.get(u);i.set(u,d)}}}for(var h=jt(s.entries()),v;!(v=h()).done;){var m=v.value,w=m[0],j=m[1],x=o.data_.has(w);if(o.set(w,j),o.data_.has(w)){var g=o.data_.get(w);i.set(w,g),x||(a=!0)}}if(!a)if(o.data_.size!==i.size)o.keysAtom_.reportChanged();else for(var _=o.data_.keys(),C=i.keys(),D=_.next(),Z=C.next();!D.done;){if(D.value!==Z.value){o.keysAtom_.reportChanged();break}D=_.next(),Z=C.next()}o.data_=i}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,o){return In(this,r)},t.intercept_=function(r){return Pn(this,r)},jo(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:ha,get:function(){return"Map"}}]),e}(),G=st("ObservableMap",Wo);function Sc(e){if(qt(e)||G(e))return e;if(Array.isArray(e))return new Map(e);if(Fe(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return A(21,e)}var pa,va,Ac={};pa=Symbol.iterator;va=Symbol.toStringTag;var Ko=function(){function e(n,r,o){var s=this;r===void 0&&(r=pt),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[O]=Ac,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,de(Set)||A(22),this.enhancer_=function(i,a){return r(i,a,o)},it(function(){s.atom_=Be(s.name_),n&&s.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Ee(function(){$o(function(){for(var o=jt(r.data_.values()),s;!(s=o()).done;){var i=s.value;r.delete(i)}})})},t.forEach=function(r,o){for(var s=jt(this),i;!(i=s()).done;){var a=i.value;r.call(o,a,a,this)}},t.add=function(r){var o=this;if(this.atom_,me(this)){var s=ye(this,{type:Ye,object:this,newValue:r});if(!s)return this}if(!this.has(r)){Ee(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var i=!1,a=Oe(this),l=a||i?{observableKind:"set",debugObjectName:this.name_,type:Ye,object:this,newValue:r}:null;a&&Se(this,l)}return this},t.delete=function(r){var o=this;if(me(this)){var s=ye(this,{type:or,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var i=!1,a=Oe(this),l=a||i?{observableKind:"set",debugObjectName:this.name_,type:or,object:this,oldValue:r}:null;return Ee(function(){o.atom_.reportChanged(),o.data_.delete(r)}),a&&Se(this,l),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=0,o=Array.from(this.keys()),s=Array.from(this.values());return vn({next:function(){var a=r;return r+=1,a<s.length?{value:[o[a],s[a]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,o=0,s=Array.from(this.data_.values());return vn({next:function(){return o<s.length?{value:r.dehanceValue_(s[o++]),done:!1}:{done:!0}}})},t.replace=function(r){var o=this;return ne(r)&&(r=new Set(r)),Ee(function(){Array.isArray(r)?(o.clear(),r.forEach(function(s){return o.add(s)})):Sn(r)?(o.clear(),r.forEach(function(s){return o.add(s)})):r!=null&&A("Cannot initialize set from "+r)}),this},t.observe_=function(r,o){return In(this,r)},t.intercept_=function(r){return Pn(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[pa]=function(){return this.values()},jo(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:va,get:function(){return"Set"}}]),e}(),ne=st("ObservableSet",Ko),Ps=Object.create(null),Is="remove",ma=function(){function e(n,r,o,s){r===void 0&&(r=new Map),s===void 0&&(s=iu),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=o,this.defaultAnnotation_=s,this.keysAtom_=new Tn("ObservableObject.keys"),this.isPlainObject_=Fe(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,o){var s=this.values_.get(r);if(s instanceof $t)return s.set(o),!0;if(me(this)){var i=ye(this,{type:De,object:this.proxy_||this.target_,name:r,newValue:o});if(!i)return null;o=i.newValue}if(o=s.prepareNewValue_(o),o!==y.UNCHANGED){var a=Oe(this),l=!1,c=a||l?{type:De,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:o}:null;s.setNewValue_(o),a&&Se(this,c)}return!0},t.get_=function(r){return y.trackingDerivation&&!Ve(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,o,s){return s===void 0&&(s=!1),Ve(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):s?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},t.has_=function(r){if(!y.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new Qe(r in this.target_,br,"ObservableObject.key?",!1),this.pendingKeys_.set(r,o)),o.get()},t.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(r in this.target_)){var s;if((s=this.target_[xe])!=null&&s[r])return;A(1,o.annotationType_,this.name_+"."+r.toString())}for(var i=this.target_;i&&i!==wn;){var a=Qn(i,r);if(a){var l=o.make_(this,r,a,i);if(l===0)return;if(l===1)break}i=Object.getPrototypeOf(i)}Es(this,o,r)}},t.extend_=function(r,o,s,i){if(i===void 0&&(i=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,o,i);var a=s.extend_(this,r,o,i);return a&&Es(this,s,r),a},t.defineProperty_=function(r,o,s){s===void 0&&(s=!1),this.keysAtom_;try{ae();var i=this.delete_(r);if(!i)return i;if(me(this)){var a=ye(this,{object:this.proxy_||this.target_,name:r,type:Ye,newValue:o.value});if(!a)return null;var l=a.newValue;o.value!==l&&(o=tt({},o,{value:l}))}if(s){if(!Reflect.defineProperty(this.target_,r,o))return!1}else je(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{le()}return!0},t.defineObservableProperty_=function(r,o,s,i){i===void 0&&(i=!1),this.keysAtom_;try{ae();var a=this.delete_(r);if(!a)return a;if(me(this)){var l=ye(this,{object:this.proxy_||this.target_,name:r,type:Ye,newValue:o});if(!l)return null;o=l.newValue}var c=ks(r),u={configurable:y.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:c.get,set:c.set};if(i){if(!Reflect.defineProperty(this.target_,r,u))return!1}else je(this.target_,r,u);var f=new Qe(o,s,"ObservableObject.key",!1);this.values_.set(r,f),this.notifyPropertyAddition_(r,f.value_)}finally{le()}return!0},t.defineComputedProperty_=function(r,o,s){s===void 0&&(s=!1),this.keysAtom_;try{ae();var i=this.delete_(r);if(!i)return i;if(me(this)){var a=ye(this,{object:this.proxy_||this.target_,name:r,type:Ye,newValue:void 0});if(!a)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var l=ks(r),c={configurable:y.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(s){if(!Reflect.defineProperty(this.target_,r,c))return!1}else je(this.target_,r,c);this.values_.set(r,new $t(o)),this.notifyPropertyAddition_(r,void 0)}finally{le()}return!0},t.delete_=function(r,o){if(o===void 0&&(o=!1),this.keysAtom_,!Ve(this.target_,r))return!0;if(me(this)){var s=ye(this,{object:this.proxy_||this.target_,name:r,type:Is});if(!s)return null}try{var i,a;ae();var l=Oe(this),c=!1,u=this.values_.get(r),f=void 0;if(!u&&(l||c)){var d;f=(d=Qn(this.target_,r))==null?void 0:d.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof Qe&&(f=u.value_),zi(u)),this.keysAtom_.reportChanged(),(i=this.pendingKeys_)==null||(a=i.get(r))==null||a.set(r in this.target_),l||c){var h={type:Is,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:f,name:r};l&&Se(this,h)}}finally{le()}return!0},t.observe_=function(r,o){return In(this,r)},t.intercept_=function(r){return Pn(this,r)},t.notifyPropertyAddition_=function(r,o){var s,i,a=Oe(this),l=!1;if(a||l){var c=a||l?{type:Ye,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;a&&Se(this,c)}(s=this.pendingKeys_)==null||(i=s.get(r))==null||i.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Nt(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Pt(e,t){var n;if(Ve(e,O))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",o=new ma(e,new Map,String(r),yu(t));return On(e,O,o),e}var Tc=st("ObservableObjectAdministration",ma);function ks(e){return Ps[e]||(Ps[e]={get:function(){return this[O].getObservablePropValue_(e)},set:function(n){return this[O].setObservablePropValue_(e,n)}})}function L(e){return _r(e)?Tc(e[O]):!1}function Es(e,t,n){var r;(r=e.target_[xe])==null||delete r[n]}var Cc=_a(0),Pc=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),zr=0,ya=function(){};function Ic(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}Ic(ya,Array.prototype);var zo=function(e,t,n){Ti(r,e);function r(s,i,a,l){var c;return a===void 0&&(a="ObservableArray"),l===void 0&&(l=!1),c=e.call(this)||this,it(function(){var u=new Go(a,i,l,!0);u.proxy_=Gr(c),Oi(Gr(c),O,u),s&&s.length&&c.spliceWithArray(0,0,s),Pc&&Object.defineProperty(Gr(c),"0",Cc)}),c}var o=r.prototype;return o.concat=function(){this[O].atom_.reportObserved();for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return Array.prototype.concat.apply(this.slice(),a.map(function(c){return Y(c)?c.slice():c}))},o[n]=function(){var s=this,i=0;return vn({next:function(){return i<s.length?{value:s[i++],done:!1}:{done:!0,value:void 0}}})},jo(r,[{key:"length",get:function(){return this[O].getArrayLength_()},set:function(i){this[O].setArrayLength_(i)}},{key:t,get:function(){return"Array"}}]),r}(ya,Symbol.toStringTag,Symbol.iterator);Object.entries(rr).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&On(zo.prototype,t,n)});function _a(e){return{enumerable:!1,configurable:!0,get:function(){return this[O].get_(e)},set:function(n){this[O].set_(e,n)}}}function kc(e){je(zo.prototype,""+e,_a(e))}function ba(e){if(e>zr){for(var t=zr;t<e+100;t++)kc(t);zr=e}}ba(1e3);function Ec(e,t,n){return new zo(e,t,n)}function Ge(e,t){if(typeof e=="object"&&e!==null){if(Y(e))return t!==void 0&&A(23),e[O].atom_;if(ne(e))return e.atom_;if(G(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||A(25,t,sr(e)),n}if(L(e)){if(!t)return A(26);var r=e[O].values_.get(t);return r||A(27,t,sr(e)),r}if(Do(e)||vt(e)||nr(e))return e}else if(de(e)&&nr(e[O]))return e[O];A(28)}function We(e,t){if(e||A(29),t!==void 0)return We(Ge(e,t));if(Do(e)||vt(e)||nr(e)||G(e)||ne(e))return e;if(e[O])return e[O];A(24,e)}function sr(e,t){var n;if(t!==void 0)n=Ge(e,t);else{if(Xt(e))return e.name;L(e)||G(e)||ne(e)?n=We(e):n=Ge(e)}return n.name_}function it(e){var t=Tt(),n=wr(!0);ae();try{return e()}finally{le(),Or(n),Le(t)}}var xs=wn.toString;function Ho(e,t,n){return n===void 0&&(n=-1),po(e,t,n)}function po(e,t,n,r,o){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;if(s!=="function"&&s!=="object"&&typeof t!="object")return!1;var i=xs.call(e);if(i!==xs.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=js(e),t=js(t);var a=i==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(de(l)&&l instanceof l&&de(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],o=o||[];for(var u=r.length;u--;)if(r[u]===e)return o[u]===t;if(r.push(e),o.push(t),a){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!po(e[u],t[u],n-1,r,o))return!1}else{var f=Object.keys(e),d;if(u=f.length,Object.keys(t).length!==u)return!1;for(;u--;)if(d=f[u],!(Ve(t,d)&&po(e[d],t[d],n-1,r,o)))return!1}return r.pop(),o.pop(),!0}function js(e){return Y(e)?e.slice():qt(e)||G(e)||Sn(e)||ne(e)?Array.from(e.entries()):e}function vn(e){return e[Symbol.iterator]=xc,e}function xc(){return this}["Symbol","Map","Set"].forEach(function(e){var t=Eo();typeof t[e]>"u"&&A("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:qi,extras:{getDebugName:sr},$mobx:O});const jc=Object.freeze(Object.defineProperty({__proto__:null,$mobx:O,FlowCancellationError:Ar,ObservableMap:Wo,ObservableSet:Ko,Reaction:pn,_allowStateChanges:Mo,_allowStateChangesInsideComputed:fo,_allowStateReadsEnd:Dt,_allowStateReadsStart:Sr,_autoAction:Vt,_endAction:$i,_getAdministration:We,_getGlobalState:Iu,_interceptReads:nc,_isComputingDerivation:Au,_resetGlobalState:ku,_startAction:Ni,action:S,autorun:Vo,comparer:ht,computed:N,configure:na,createAtom:Be,defineProperty:lc,entries:aa,extendObservable:Fo,flow:mt,flowResult:tc,get:la,getAtom:Ge,getDebugName:sr,getDependencyTree:Ju,getObserverTree:Xu,has:Uo,intercept:Yt,isAction:Xt,isBoxedObservable:No,isComputed:sc,isComputedProp:ic,isFlow:Ft,isFlowCancellationError:Zu,isObservable:Ue,isObservableArray:Y,isObservableMap:G,isObservableObject:L,isObservableProp:ac,isObservableSet:ne,keys:yt,makeAutoObservable:yc,makeObservable:mc,observable:k,observe:Ct,onBecomeObserved:ea,onBecomeUnobserved:Lo,onReactionError:Mu,override:Vl,ownKeys:ua,reaction:Lt,remove:Ae,runInAction:fo,set:rt,spy:qi,toJS:ho,trace:fc,transaction:Ee,untracked:$o,values:Bo,when:dc},Symbol.toStringTag,{value:"Module"}));var Dc=Object.defineProperty,Rc=(e,t,n)=>t in e?Dc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t,n)=>(Rc(e,typeof t!="symbol"?t+"":t,n),n),ga,Ds,Rs,Ms,Ns,$s;const Mc=new Map;function Nc(e,t,n){Mc.set(e,{modelClass:t,fnName:n})}var se;(function(e){e.ApplyPatches="$$applyPatches",e.ApplySnapshot="$$applySnapshot",e.Detach="$$detach",e.ApplySet="$$applySet",e.ApplyDelete="$$applyDelete",e.ApplyMethodCall="$$applyMethodCall"})(se||(se={}));new Set(Object.values(se));var U;(function(e){e.Sync="sync",e.Async="async"})(U||(U={}));var Xe;(function(e){e.Spawn="spawn",e.Return="return",e.Resume="resume",e.ResumeError="resumeError",e.Throw="throw"})(Xe||(Xe={}));let wa;function Tr(){return wa}function Vs(e){wa=e}const Oa=Symbol("modelAction");function qo(e){return typeof e=="function"&&Oa in e}const T="$modelType",ce="$modelId";function Sa(e){return e===T}class Jo extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Jo.prototype)}}function p(e){return new Jo(e)}const $c={enumerable:!1,writable:!0,configurable:!1,value:void 0};function Aa(e,t,n,r=!0){r?(Object.defineProperty(e,t,$c),e[t]=n):Object.defineProperty(e,t,{enumerable:!1,writable:r,configurable:!0,value:n})}function Re(e){if(!ie(e))return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}function ie(e){return e!==null&&typeof e=="object"}function Q(e){switch(typeof e){case"number":case"string":case"boolean":case"undefined":case"bigint":return!0}return e===null}function Vc(e,t){let n=e.indexOf(t);return n>=0?(e.splice(n,1),!0):!1}function Cr(e){return e instanceof Map||G(e)}function Pr(e){return e instanceof Set||ne(e)}function J(e){return Array.isArray(e)||Y(e)}const Ta=!1;function It(e,t){if(!ie(e))throw p(`${t} must be an object`)}function Xo(e,t){if(typeof e!="function")throw p(`${t} must be a function`)}function Lc(e,t){if(!Q(e))throw p(`${t} must be a primitive`)}const Ca=Symbol("runAfterNew"),Fc=Symbol("runBeforeOnInit");function Pa(e,t,n){let r=e[t];(!r||!Object.prototype.hasOwnProperty.call(e,t))&&(r=r?r.slice():[],Aa(e,t,r)),r.push(n)}function ir(e,t){const n=e[t];if(n)for(const r of n)r(e)}const Ls=new Set;function Ia(e,t,n){if(n){if(Ls.has(n))return;Ls.add(n)}switch(t="[mobx-keystone] "+t,e){case"warn":console.warn(t);break;case"error":console.error(t);break;default:throw p(`unknown log type - ${e}`)}}function ve(e){let t,n=!1;return(...r)=>(n||(t=e(...r),n=!0),t)}const Te=e=>e,Yo={makeObservable:jc.makeObservable};function Bc(e){return`set${e[0].toUpperCase()}${e.slice(1)}`}function kn(){return Yo.makeObservable?6:5}const En="mobx-keystone",ar=Symbol("propsType"),Fs=Symbol("fromSnapshotOverrideType"),Bs=Symbol("toSnapshotOverrideType"),ka=Symbol("modelInitialized"),Hn={},te=new WeakMap;function xn(e){return Hn[e]}function Ce(e,t,n){let r=e.get(t);return r===void 0&&(r=n(),e.set(t,r)),r}const vo=new WeakMap,Uc=new WeakMap;function Gc(e,t,n=!0){return!e&&!t?!0:!e||!t||!(e.parent===t.parent)?!1:n?e.path===t.path:!0}function Ea(e){return Ce(Uc,e,()=>Be("parentAtom"))}function Wc(e){Ea(e).reportObserved()}function Us(e){Ea(e).reportChanged()}const Qt=new WeakMap;function Bt(e){const t=Qt.get(e);return t??e}function mn(e){return X(e)?e.$:e}const _t=new WeakMap;function Ke(e,t){return!t&&Qt.has(e)?!1:_t.has(e)}function mo(e){return!Q(e)&&Ke(e,!1)}function $(e,t,n=!1){if(!n&&Qt.has(e))throw p(`${t} must be the model object instance instead of the '$' sub-object`);if(Q(e)||!Ke(e,!0))throw p(`${t} must be a tree node (usually a model or a shallow / deep child part of a model 'data' object)`)}function Kc(e,t="argument"){$(e,t,!1)}let fn=!1;function zc(e){const t=fn;fn=!0;try{fo(()=>{e()})}finally{fn=t}}const Ut=Symbol("modelMetadata"),qn=Symbol("modelUnwrappedClass"),yo=Symbol("runAfterModelDecorator");function Gt(e){if(X(e))return e.constructor[Ut];if(nn(e))return e[Ut];throw p("modelClassOrInstance must be a model class or instance")}const Hc=new WeakMap;function bt(e){return Ce(Hc,e,()=>Gt(e).modelIdProperty)}const xa=Symbol("modelProperties");function Zt(e){return e[xa]}function qc(e,t){e[xa]=t}const H=Symbol("noDefaultValue"),Qo={_setter:!1,_isId:!0,withSetter(e){const t=Object.create(this);return t._setter=e??!0,t},typedAs(){return Qo}},Gs={_defaultFn:H,_defaultValue:H,_typeChecker:void 0,_setter:!1,_isId:!1,_transform:void 0,_fromSnapshotProcessor:void 0,_toSnapshotProcessor:void 0,withSetter(e){const t=Object.create(this);return t._setter=e??!0,t},withTransform(e){const t=Object.create(this);return t._transform=Xc(e),t},withSnapshotProcessor({fromSnapshot:e,toSnapshot:t}){let n;if(this._fromSnapshotProcessor&&e){const s=this._fromSnapshotProcessor,i=e;n=a=>s(i(a))}else e?n=e:n=this._fromSnapshotProcessor;let r;if(this._toSnapshotProcessor&&t){const s=this._toSnapshotProcessor,i=t;r=a=>i(s(a))}else t?r=t:r=this._toSnapshotProcessor;const o=Object.create(this);return o._fromSnapshotProcessor=n,o._toSnapshotProcessor=r,o}};function _o(e){if(!(arguments.length>=1))return Gs;let n=Ws.get(e);return n||(n=Object.create(Gs),typeof e=="function"?n._defaultFn=e:n._defaultValue=e,Ws.set(e,n)),n}const Ws=new Map;let bo=!1;const Jc=()=>{bo=!0};function Xc(e){const t=new WeakMap,n=o=>o.originalValue==null?o.originalValue:e.transform(o),r=o=>o.transformedValue==null?o.transformedValue:e.untransform(o);return{transform(o,s,i,a){const l=Ce(t,s,()=>new Map);let c=l.get(i);(c==null?void 0:c.originalValue)!==o&&(l.delete(i),c=void 0);const u=n({originalValue:o,cachedTransformedValue:c==null?void 0:c.transformedValue,setOriginalValue:a});return l.set(i,{originalValue:o,transformedValue:u}),u},untransform(o,s,i){const a=Ce(t,s,()=>new Map);bo=!1;const l=r({transformedValue:o,cacheTransformedValue:Jc});return bo?a.set(i,{originalValue:l,transformedValue:o}):a.delete(i),l}}}function lr(e){return e._defaultFn!==H?e._defaultFn():e._defaultValue!==H?e._defaultValue:H}class re{constructor(t,n,r,o){b(this,"path"),b(this,"expectedTypeName"),b(this,"actualValue"),b(this,"typeCheckedValue"),b(this,"message"),this.path=t,this.expectedTypeName=n,this.actualValue=r,this.typeCheckedValue=o;let s=[];this.typeCheckedValue&&Ke(this.typeCheckedValue,!0)&&(s=$d(this.typeCheckedValue).path);const i=Ke(this.actualValue,!0)?z(this.actualValue):this.actualValue;this.message=`TypeCheckError: [/${[...s,...this.path].join("/")}] Expected a value of type <${this.expectedTypeName}> but got the value <${JSON.stringify(i)}> instead`}throw(){throw p(this.message)}}const Yc=[],go=new WeakMap;var V;(function(e){e.Object="object",e.Array="array",e.Primitive="primitive",e.Any="any"})(V||(V={}));function Qc(e){return J(e)?V.Array:ie(e)?V.Object:Q(e)?V.Primitive:V.Any}function Zc(e){let t=e;for(;t;){const n=go.get(t);n&&(go.delete(t),n.forEach(r=>r.invalidateCachedResult(t))),t=Nd(t)}}const wo=new WeakMap;function ef(e){const t=wo.get(e);t&&(t.forEach(n=>n.invalidateSnapshotProcessorCachedResult(e)),wo.delete(e))}class F{constructor(t,n,r,o,s,i,a){b(this,"baseType"),b(this,"_check"),b(this,"getTypeName"),b(this,"typeInfoGen"),b(this,"snapshotType"),b(this,"_fromSnapshotProcessor"),b(this,"_toSnapshotProcessor"),b(this,"checkResultCache"),b(this,"unchecked"),b(this,"_cachedTypeInfoGen"),b(this,"fromSnapshotProcessor",l=>this._fromSnapshotProcessor(l)),b(this,"_toSnapshotProcessorCache",new WeakMap),b(this,"toSnapshotProcessor",l=>{if(typeof l!="object"||l===null)return this._toSnapshotProcessor(l);if(this._toSnapshotProcessorCache.has(l))return this._toSnapshotProcessorCache.get(l);const c=this._toSnapshotProcessor(l);return this._toSnapshotProcessorCache.set(l,c),Ce(wo,l,()=>new Set).add(this),c}),this.baseType=t,this._check=n,this.getTypeName=r,this.typeInfoGen=o,this.snapshotType=s,this._fromSnapshotProcessor=i,this._toSnapshotProcessor=a,this.unchecked=!n,this._cachedTypeInfoGen=ve(o)}createCacheIfNeeded(){return this.checkResultCache||(this.checkResultCache=new WeakMap),this.checkResultCache}setCachedResult(t,n){this.createCacheIfNeeded().set(t,n),Ce(go,t,()=>new Set).add(this)}invalidateCachedResult(t){var n;(n=this.checkResultCache)==null||n.delete(t)}getCachedResult(t){var n;return(n=this.checkResultCache)==null?void 0:n.get(t)}check(t,n,r){if(this.unchecked)return null;if(!Ke(t,!0))return this._check(t,n,r);let o=this.getCachedResult(t);return o===void 0&&(o=this._check(t,Yc,void 0),this.setCachedResult(t,o)),o?new re([...n,...o.path],o.expectedTypeName,o.actualValue,r):null}get typeInfo(){return this._cachedTypeInfoGen(this)}invalidateSnapshotProcessorCachedResult(t){this._toSnapshotProcessorCache.delete(t)}}const ja=Symbol("lateTypeCheker");function he(e,t){let n;const r=function(){return n||(n=e(),n)};r[ja]=!0;const o=ve(t);return Object.defineProperty(r,"typeInfo",{enumerable:!0,configurable:!0,get(){return o(r)}}),r}function Zo(e){return typeof e=="function"&&ja in e}class W{constructor(t){b(this,"thisType"),this.thisType=t}}function be(e){const n=ge(e).typeInfo;if(!n)throw p(`type info not found for ${e}`);return n}const Ks=new WeakMap;function Ir(e){if(!nn(e)&&typeof e=="function"){const t=e;return he(()=>Ir(t()),r=>new zs(r,t()))}else{const t=e,n=Ks.get(t);if(n)return n;const r=s=>new zs(s,t),o=he(()=>{const s=te.get(t),i=`Model(${s.name})`,a=Gt(t).dataType,l=a?M(a):void 0,c=new F(V.Object,(u,f,d)=>u instanceof t?l?l.check(u.$,f,d):null:new re(f,i,u,d),()=>i,r,u=>ie(u)?u[T]!==void 0?u[T]===s.name?c:null:l&&l.snapshotType(u)?c:null:null,u=>u[T]?u:{...u,[T]:s.name},u=>u);return c},r);return Ks.set(t,o),o}}class zs extends W{constructor(t,n){super(t),b(this,"modelClass"),b(this,"_props",ve(()=>{const r=Zt(this.modelClass),o={};return Object.keys(r).forEach(s=>{const i=r[s],a=i._typeChecker;let l;a&&(l=be(a));let c=!1,u;i._defaultFn!==H?(u=i._defaultFn,c=!0):i._defaultValue!==H&&(u=i._defaultValue,c=!0),o[s]={type:a,typeInfo:l,hasDefault:c,default:u}}),o})),this.modelClass=n}get props(){return this._props()}get modelType(){return te.get(this.modelClass).name}}function tf(){Ra(e=>nn(e)?Ir(e):void 0)}const en=[];function kr(e){Lc(e,"literal");let t;switch(e){case void 0:t="undefined";break;case null:t="null";break;default:t=JSON.stringify(e);break}const n=o=>new nf(o,e),r=new F(V.Primitive,(o,s,i)=>o===e?null:new re(s,t,o,i),()=>t,n,o=>o===e?r:null,Te,Te);return r}class nf extends W{constructor(t,n){super(t),b(this,"literal"),this.literal=n}}const Er=kr(void 0);en.push(e=>e===void 0?Er:void 0);const xr=kr(null);en.push(e=>e===null?xr:void 0);const jr=new F(V.Primitive,(e,t,n)=>typeof e=="boolean"?null:new re(t,"boolean",e,n),()=>"boolean",e=>new rf(e),e=>typeof e=="boolean"?jr:null,Te,Te);en.push(e=>e===Boolean?jr:void 0);class rf extends W{}const jn=new F(V.Primitive,(e,t,n)=>typeof e=="number"?null:new re(t,"number",e,n),()=>"number",e=>new of(e),e=>typeof e=="number"?jn:null,Te,Te);en.push(e=>e===Number?jn:void 0);class of extends W{}const ze=new F(V.Primitive,(e,t,n)=>typeof e=="string"?null:new re(t,"string",e,n),()=>"string",e=>new sf(e),e=>typeof e=="string"?ze:null,Te,Te);en.push(e=>e===String?ze:void 0);class sf extends W{}function af(){en.forEach(e=>{Ra(e)})}let Hs=!1;function lf(){Hs||(Hs=!0,tf(),af())}const Da=[];function Ra(e){Da.push(e)}function Ma(e){lf();for(const t of Da){const n=t(e);if(n)return n}}function M(e){let t=e;for(;;){if(t instanceof F)return t;if(Zo(t))t=t();else{const n=Ma(e);if(n)return M(n);throw p("type checker could not be resolved")}}}function Na(e){if(e instanceof F||Zo(e))return e;{const t=Ma(e);return t||void 0}}function ge(e){const t=Na(e);if(t)return t;throw p("standard type could not be resolved")}const es=new WeakMap,ut=new WeakMap;function Ie(e){return es.get(e)}function uf(e,t){if(!t||!e)return;const n=Ie(t.parent);if(n)return{parentSnapshot:n,parentPath:t}}const cf=S("unsetInternalSnapshot",e=>{const t=Ie(e);t&&(es.delete(e),t.atom.reportChanged())}),ts=S("setNewInternalSnapshot",(e,t,n,r=!1)=>{const o={untransformed:t,transformFn:n,transformed:n?n(t):t,atom:Be("snapshot")};ut.set(o.untransformed,r),o.transformed!==void 0&&ut.set(o.transformed,r),es.set(e,o),o.atom.reportChanged()}),ns=S("updateInternalSnapshot",(e,t)=>{const n=Ie(e);let r=n.untransformed;ut.get(r)?Array.isArray(r)?r=r.slice():r=Object.assign({},r):ef(r),t(r),n.untransformed=r,n.transformed=n.transformFn?n.transformFn(r):r,ut.set(n.untransformed,!1),n.transformed!==void 0&&ut.set(n.transformed,!1),n.atom.reportChanged();const s=uf(n,qe(e));if(s){const{parentSnapshot:i,parentPath:a}=s;if(i){const l=a.path;ns(a.parent,c=>{c[l]=n.transformed})}}});function ff(e){e.atom.reportObserved()}function ue(e){if(Q(e))return e;const t=ut.get(e);if(t===void 0||t===!0)return e;if(Array.isArray(e))for(let n=0;n<e.length;n++)ue(e[n]);else{const n=Object.keys(e);for(let r=0;r<n.length;r++)ue(e[n[r]])}return ut.set(e,!0),e}function z(e,t){let n=Te,r;if(arguments.length>=2?(n=M(e).toSnapshotProcessor,r=t):r=e,Q(r))return n(r);$(r,"nodeOrPrimitive");const o=Ie(r);if(!o)throw p("getSnapshot is not supported for this kind of object");return ue(o.transformed),ff(o),n(o.transformed)}function rs(e,t){const n=M(e);return n.unchecked?null:n.check(t,[],t)}let df="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",hf=(e=21)=>{let t="",n=e;for(;n--;)t+=df[Math.random()*64|0];return t};var ct;(function(e){e.DevModeOnly="devModeOnly",e.AlwaysOn="alwaysOn",e.AlwaysOff="alwaysOff"})(ct||(ct={}));let qs=0;const pf=hf();function vf(){const e=qs.toString(36)+"-"+pf;return qs++,e}let ur={modelAutoTypeChecking:ct.DevModeOnly,modelIdGenerator:vf,allowUndefinedArrayElements:!1,showDuplicateModelNameWarnings:!0};function mf(e){ur=Object.freeze({...ur,...e})}function Dr(){return ur}function Rr(){switch(Dr().modelAutoTypeChecking){case ct.DevModeOnly:return Ta;case ct.AlwaysOff:return!1;case ct.AlwaysOn:return!0;default:throw p(`invalid 'modelAutoTypeChecking' config value - ${ur.modelAutoTypeChecking}`)}}const Oo=Symbol("modelInitializers");function yf(e){return e[Oo]}function $a(e,t){const n=yf(e);if(n){const r=n.length;for(let o=0;o<r;o++)n[o](t)}}function _f(){return!!Tr()}function Va(){if(!_f())throw p("data changes must be performed inside model actions")}const So=[];function La(){return!!Tr()}function bf(e){La()?So.push(e):e()}let Hr=!1;function gf(){if(!(La()||Hr)){Hr=!0;try{for(;So.length>0;)So.shift()()}finally{Hr=!1}}}var gt;(function(e){e.OnInit="$$onInit",e.OnLazyInit="$$onLazyInit",e.OnAttachedToRootStore="$$onAttachedToRootStore",e.OnAttachedToRootStoreDisposer="$$onAttachedToRootStoreDisposer"})(gt||(gt={}));new Set(Object.values(gt));const Js=new WeakMap;function tn(e){let t=Js.get(e);return t||(t={shallow:new Set,shallowAtom:Be("shallowChildrenAtom"),deep:new Set,deepDirty:!0,deepAtom:Be("deepChildrenAtom"),extensionsData:Ga()},Js.set(e,t)),t}function Mr(e){const t=tn(e);return t.shallowAtom.reportObserved(),t.shallow}function wf(e){const t=tn(e);return t.deepDirty&&Fa(e),t.deepAtom.reportObserved(),t}function Xs(e,t){t.deep.add(e),os.forEach((n,r)=>{n.addNode(e,t.extensionsData.get(r))})}const Fa=S(e=>{const t=tn(e);if(!t.deepDirty)return t;t.deep=new Set,t.extensionsData=Ga();const n=t.shallow.values();let r=n.next();for(;!r.done;){Xs(r.value,t);const s=Fa(r.value).deep.values();let i=s.next();for(;!i.done;)Xs(i.value,t),i=s.next();r=n.next()}return t.deepDirty=!1,t.deepAtom.reportChanged(),t}),Of=S((e,t)=>{const n=tn(e);n.shallow.add(t),n.shallowAtom.reportChanged(),Ba(e,n)}),Sf=S((e,t)=>{const n=tn(e);n.shallow.delete(t),n.shallowAtom.reportChanged(),Ba(e,n)});function Ba(e,t){let n=e,r=t;for(;n;)r.deepDirty=!0,r.deepAtom.reportChanged(),n=bn(n),n&&(r=tn(n))}const os=new Map;function Ua(e){const t={};return os.set(t,e),n=>n.extensionsData.get(t)}function Ga(){const e=new WeakMap;return os.forEach((t,n)=>{e.set(n,t.initData())}),e}var yn;(function(e){e.ParentFirst="parentFirst",e.ChildrenFirst="childrenFirst"})(yn||(yn={}));function Wa(e,t,n){return $(e,"root"),n===yn.ParentFirst?Af(e,t):Ka(e,t)}function Af(e,t){const n=[e];for(;n.length>0;){const r=n.pop(),o=t(r);if(o!==void 0)return o;const s=Mr(r);n.length+=s.size;let i=n.length-1;const a=s.values();let l=a.next();for(;!l.done;)n[i--]=l.value,l=a.next()}}function Ka(e,t){const n=Mr(e).values();let r=n.next();for(;!r.done;){const s=Ka(r.value,t);if(s!==void 0)return s;r=n.next()}const o=t(e);if(o!==void 0)return o}function za(e,t,n){let r=e.get(n);return r||(r=N(()=>Cf(n,t,o=>za(e,t,o))),e.set(n,r)),r.get()}function Tf(e){const t=new WeakMap;return{walk:n=>za(t,e,n)}}function Cf(e,t,n){let r;const o=t(e),s=Mr(e),i=s.values();let a=i.next();if(o===void 0&&s.size===1)return n(a.value);for(;!a.done;){const l=n(a.value);if(l){r||(r=new Map);const c=l.keys();let u=c.next();for(;!u.done;){const f=u.value,d=l.get(f);r.set(f,d),u=c.next()}}a=i.next()}return o!==void 0&&(r||(r=new Map),r.set(o,e)),r}const Ao=new WeakMap,To=new WeakSet,Ha=S("attachToRootStore",(e,t)=>{const n=[];Wa(t,o=>{To.has(o)||(To.add(o),o instanceof Ht&&o.onAttachedToRootStore&&(ko(o,"onAttachedToRootStore",gt.OnAttachedToRootStore),n.push(o)))},yn.ParentFirst);const r=n.length;for(let o=0;o<r;o++){const s=n[o],i=s.onAttachedToRootStore(e);i&&Ao.set(s,i)}}),qa=S("detachFromRootStore",e=>{const t=[];Wa(e,r=>{if(!To.delete(r))return;const o=Ao.get(r);if(o){const s=ee({nameOrNameFn:gt.OnAttachedToRootStoreDisposer,fn:o,actionType:U.Sync}).bind(r);Ao.delete(r),t.push(s)}},yn.ChildrenFirst);const n=t.length;for(let r=0;r<n;r++)t[r]()}),Pf=new WeakMap,ss=e=>Ce(Pf,e,()=>({atom:Be("rootStore"),is:!1}));S("registerRootStore",e=>{$(e,"node");const t=ss(e);if(t.is)throw p("object already registered as root store");if(!Vd(e))throw p("a root store must not have a parent");return t.is=!0,Ha(e,e),t.atom.reportChanged(),e});S("unregisterRootStore",e=>{if(!If(e))throw p("not a root store");const t=ss(e);t.is=!1,qa(e),t.atom.reportChanged()});function If(e){return $(e,"node"),Jn(e)}function Jn(e){const t=ss(e);return t.atom.reportObserved(),t.is}const Bn=[];class Ja{constructor(){b(this,"patches",Bn),b(this,"invPatches",Bn)}reset(){this.patches=Bn,this.invPatches=Bn}record(t,n){this.patches=t,this.invPatches=n}emit(t){Xa(t,this.patches,this.invPatches,!0),this.reset()}}const Co=new WeakMap,Ys=[];function kf(e,t){$(e,"subtreeRoot"),Xo(t,"listener"),Xt(t)||(t=S(t.name||"onPatchesListener",t));let n=Co.get(e);return n||(n=[],Co.set(e,n)),n.push(t),()=>{Vc(n,t)}}function Xa(e,t,n,r){if(t.length<=0&&n.length<=0)return;if(r)for(let i=0;i<Ys.length;i++){const a=Ys[i];a(e,t,n)}const o=Co.get(e);if(o)for(let i=0;i<o.length;i++){const a=o[i];a(t,n)}const s=qe(e);if(s){const i=s.path,a=t.map(c=>Qs(c,i)),l=n.map(c=>Qs(c,i));Xa(s.parent,a,l,!1)}}function Qs(e,t){return{...e,path:[t,...e.path]}}function q(e,t,n){(e[t]!==n||n===void 0&&!(t in e))&&rt(e,t,n)}function Ya(e){if(as(e))return e.constructor[Ut];if(Wt(e))return e[Ut];throw p("modelClassOrInstance must be a model class or instance")}const Zs=new WeakMap;function is(e){if(!Wt(e)&&typeof e=="function"){const t=e;return he(()=>is(t()),r=>new ei(r,t()))}else{const t=e,n=Zs.get(t);if(n)return n;const r=s=>new ei(s,t),o=he(()=>{const s=te.get(t),i=`DataModelData(${s.name})`,a=Ya(t).dataType;if(!a)throw p(`type checking cannot be performed over data model data of type '${s.name}' since that model type has no data type declared, consider adding a data type or using types.unchecked() instead`);const l=M(a),c=new F(V.Object,(u,f,d)=>l.check(u,f,d),()=>i,r,u=>l.snapshotType(u)?c:null,u=>l.fromSnapshotProcessor(u),u=>l.toSnapshotProcessor(u));return c},r);return Zs.set(t,o),o}}class ei extends W{constructor(t,n){super(t),b(this,"modelClass"),b(this,"_props",ve(()=>{const r=Zt(this.modelClass),o={};return Object.keys(r).forEach(s=>{const i=r[s],a=i._typeChecker;let l;a&&(l=be(a));let c=!1,u;i._defaultFn!==H?(u=i._defaultFn,c=!0):i._defaultValue!==H&&(u=i._defaultValue,c=!0),o[s]={type:a,typeInfo:l,hasDefault:c,default:u}}),o})),this.modelClass=n}get props(){return this._props()}get modelType(){return te.get(this.modelClass).name}}const Ef=S("newModel",(e,t,n)=>{const{modelClass:r}=n,o=r,s=e;if(!te.get(o))throw p(`no model info for class ${o.name} could be found - did you forget to add the @model decorator?`);if(s.$=t,$a(o,s),Rr()&&Ya(o).dataType){const a=s.typeCheck();a&&a.throw()}return s}),xf=new WeakMap;class cr{constructor(t){if(b(this,ga),b(this,"$"),!ie(t))throw p("data models can only work over data objects");const{modelClass:n}=arguments[1],r=n;let o;if(mo(t))o=t;else{if(!te.get(r))throw p(`no model info for class ${r.name} could be found - did you forget to add the @model decorator?`);const c=Zt(r),u=Object.assign({},t),f=Object.keys(c);for(let d=0;d<f.length;d++){const h=f[d],v=c[h];let m=u[h],w=!1;v._transform&&(w=!0,m=v._transform.untransform(m,this,h)),m==null&&(v._defaultFn!==H?(w=!0,m=v._defaultFn()):v._defaultValue!==H&&(w=!0,m=v._defaultValue)),w&&(u[h]=m)}o=ds(u)}const s=Ce(xf,r,()=>new WeakMap),i=s.get(o);if(i)return i;s.set(o,this),Object.setPrototypeOf(this,r.prototype);const a=this;delete a[ar],Ef(this,o,{modelClass:r})}typeCheck(){const t=is(this.constructor);return rs(t,this.$)}toString(t){const n={withData:!0,...t},r=te.get(this.constructor),o=`${this.constructor.name}#${r.name}`;return n.withData?`[${o} ${JSON.stringify(z(this))}]`:`[${o}]`}}ga=ar;const jf=new Set(["onLazyInit","$","typeCheck"]);function as(e){return e instanceof cr}function Wt(e){return!(typeof e!="function"||e!==cr&&!(e.prototype instanceof cr))}var _n;(function(e){e.DevModeOnly="devModeOnly",e.On="on",e.Off="off"})(_n||(_n={}));const Qa="$frozen";class Nr{constructor(t,n=_n.DevModeOnly){b(this,"data");const r=n===_n.On||Ta;r&&Xn(t),this.data=t,r&&Object.freeze(this.data),_e(this,void 0)}}function Za(e,t=_n.DevModeOnly){return new Nr(e,t)}function Xn(e){if(!Q(e)){if(Array.isArray(e)){const t=e.length;for(let n=0;n<t;n++){const r=e[n];if(r===void 0&&!Dr().allowUndefinedArrayElements)throw p("undefined is not supported inside arrays since it is not serializable in JSON, consider using null instead");Xn(r)}Object.freeze(e);return}if(Re(e)){const t=Object.keys(e),n=t.length;for(let r=0;r<n;r++){const o=t[r],s=e[o];Xn(o),Xn(s)}Object.freeze(e);return}throw p(`frozen data must be plainly serializable to JSON, but ${e} is not`)}}function ls(e){return Re(e)&&Qa in e}var Kt;(function(e){e[e.Model=0]="Model",e[e.Array=1]="Array",e[e.PlainObject=2]="PlainObject",e[e.Frozen=3]="Frozen"})(Kt||(Kt={}));function Df(e,t){return _t.set(e,void 0),He({value:e,parentPath:t,indexChangeAllowed:!1,isDataObject:!1,cloneIfApplicable:!1}),ts(e,{[Qa]:!0,data:e.data},void 0,!0),e}function Rf(){Vr(Kt.Frozen,(e,t)=>{if(e instanceof Nr)return Df(e,t)})}function Mf(e,t,n=0){const r=Nf(e,t,n);return r?r.parent:void 0}function Nf(e,t,n=0){$(e,"child");const r=[];let o=e,s=0,i;for(;i=qe(o);){if(r.unshift(i.path),o=i.parent,t(o))return{parent:o,path:r};if(s++,n>0&&s===n)break}}let Yn=!0;function us(e){let t=Yn;Yn=!1;try{e()}finally{Yn=t}}function $f(){return Yn}var Me;(function(e){e[e.Array=0]="Array",e[e.Frozen=1]="Frozen",e[e.Model=2]="Model",e[e.PlainObject=3]="PlainObject"})(Me||(Me={}));function Vf(e,t,n){if(!J(e))return Ze(t);const r=z(e);return us(()=>{e.length>t.length&&e.splice(t.length,e.length-t.length);for(let o=0;o<e.length;o++){const s=e[o],i=$e(s,t[o],n,e);cs(i,s,n),q(e,o,i)}for(let o=e.length;o<t.length;o++)e.push($e(void 0,t[o],n,e))}),Dn(e,void 0,r),e}function Lf(){$r(Me.Array,(e,t,n)=>{if(J(t))return Vf(e,t,n)})}function Ff(e,t){return e instanceof Nr&&e.data===t.data?e:Za(t.data)}function Bf(){$r(Me.Frozen,(e,t)=>{if(ls(t))return Ff(e,t)})}function Uf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gf=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;for(o of t.entries())if(!e(o[1],n.get(o[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(t[o]!==n[o])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[o]))return!1;for(o=r;o--!==0;){var i=s[o];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n};const Wf=Uf(Gf);function el(e,t){return e+" "+t}class tl{constructor(t){b(this,"pool");var n;t=(n=Qt.get(t))!=null?n:t,this.pool=Kf(wf(t))}findModelByTypeAndId(t,n){return n?this.pool.get(el(t,n)):void 0}findModelForSnapshot(t){if(!Br(t))return;const n=t[T],r=xn(n),o=bt(r.class);return o?this.findModelByTypeAndId(n,t[o]):void 0}}const Kf=Ua({initData(){return new Map},addNode(e,t){if(X(e)){const n=e[ce];n&&t.set(el(e[T],n),e)}}});function Po(e,t){$(e,"node"),It(t,"snapshot"),zf().call(e,t)}function nl(e){const t=this,n=()=>{const r=new tl(t);$e(t,e,r,void 0)};if(J(e)){if(!J(t))throw p("if the snapshot is an array the target must be an array too");return n()}if(ls(e))throw p("applySnapshot cannot be used over frozen objects");if(Re(e)&&e[T]===void 0&&X(t)){const r=te.get(t.constructor);e={...e,[T]:r.name}}if(Br(e)){const r=e[T],o=xn(r);if(!o)throw p(`model with name "${r}" not found in the registry`);if(!X(t))throw p("the target for a model snapshot must be a model instance");if(t[T]!==r)throw p(`snapshot model type '${r}' does not match target model type '${t[T]}'`);const s=bt(o.class);if(s){const i=e[s];if(t[ce]!==i)throw p(`snapshot model id '${i}' does not match target model id '${t[ce]}'`)}return n()}if(Re(e)){if(!Re(t)&&!L(t))throw p("if the snapshot is an object the target must be an object too");return n()}throw Cr(e)?p("a snapshot must not contain maps"):Pr(e)?p("a snapshot must not contain sets"):p(`unsupported snapshot - ${e}`)}const zf=ve(()=>ee({nameOrNameFn:se.ApplySnapshot,fn:nl,actionType:U.Sync}));function Hf(e,t){const n=typeof e=="function"?e:()=>e,r=n();$(r,"node");let o=z(r);return Lt(()=>z(n()),s=>{const i=o;o=s,t(s,i)})}function Io(e,t){return e===t?!0:(mo(e)?e=z(e):Ue(e)&&(e=ho(e)),mo(t)?t=z(t):Ue(t)&&(t=ho(t)),Wf(e,t))}kn()>=6;function qf(e,t,n,r){const o=t[T],s=xn(o);if(!s)throw p(`model with name "${o}" not found in the registry`);const i=n.findModelForSnapshot(t);if(i&&(e=i),!X(e)||e[T]!==o)return Ze(t);const a=s.class,l=Zt(a),c=bt(a);if(c){const d=t[c];if(e[ce]!==d)return Ze(t)}else if(J(r)&&!Io(e,t))return Ze(t);const u=e,f=z(u);return us(()=>{const d=u.constructor,h=d.fromSnapshotProcessor?d.fromSnapshotProcessor(t):t,v=u.$,m=Object.keys(v),w=m.length;for(let g=0;g<w;g++){const _=m[g];if(!(_ in h)){const C=l[_],D=C?lr(C):H;D===H?Ae(v,_):q(v,_,D)}}const j=Object.keys(h),x=j.length;for(let g=0;g<x;g++){const _=j[g];if(!Sa(_)){const C=h[_],D=v[_];let Z=$e(D,C,n,u);if(Z==null){const at=l[_],_s=at?lr(at):H;_s!==H&&(Z=_s)}cs(Z,D,n),q(v,_,Z)}}}),Dn(u,void 0,f),u}function Jf(){$r(Me.Model,(e,t,n,r)=>{if(Br(t))return qf(e,t,n,r)})}function Xf(e,t,n){if(!Re(e)&&!L(e))return Ze(t);const r=e,o=z(r);return us(()=>{const s=Object.keys(r),i=s.length;for(let c=0;c<i;c++){const u=s[c];u in t||Ae(r,u)}const a=Object.keys(t),l=a.length;for(let c=0;c<l;c++){const u=a[c],f=t[u],d=r[u],h=$e(d,f,n,r);cs(h,d,n),q(r,u,h)}}),Dn(r,void 0,o),r}function Yf(){$r(Me.PlainObject,(e,t,n)=>{if(Re(t))return Xf(e,t,n)})}let ti=!1;function Qf(){ti||(ti=!0,Lf(),Bf(),Jf(),Yf())}const fr=[];function $r(e,t){fr.push({priority:e,reconciler:t}),fr.sort((n,r)=>n.priority-r.priority)}function $e(e,t,n,r){if(Q(t))return t;if(z(e)===t)return e;Qf();const o=fr.length;for(let s=0;s<o;s++){const{reconciler:i}=fr[s],a=i(e,t,n,r);if(a!==void 0)return a}throw Cr(t)?p("a snapshot must not contain maps"):Pr(t)?p("a snapshot must not contain sets"):p(`unsupported snapshot - ${t}`)}function cs(e,t,n){if(e!==t&&X(e)&&n.findModelByTypeAndId(e[T],e[ce])){const r=ps(e);r&&rt(r.parent,r.path,null)}}function zt(e,t,n=!1){$(e,"node"),!(t.length<=0)&&Zf().call(e,t,n)}function rl(e,t=!1){const n=this,r=new tl(n);if(t){let o=e.length;for(;o--;){const s=e[o];if(!J(s))Un(n,s,r);else{let i=s.length;for(;i--;)Un(n,s[i],r)}}}else{const o=e.length;for(let s=0;s<o;s++){const i=e[s];if(!J(i))Un(n,i,r);else{const a=i.length;for(let l=0;l<a;l++)Un(n,i[l],r)}}}}const Zf=ve(()=>ee({nameOrNameFn:se.ApplyPatches,fn:rl,actionType:U.Sync}));function Un(e,t,n){const{target:r,prop:o}=ed(e,t.path);if(J(r))switch(t.op){case"add":{const s=+o,i=$e(void 0,t.value,n,r);r.splice(s,0,i);break}case"remove":{const s=+o;r.splice(s,1);break}case"replace":{if(o==="length")r.length=t.value;else{const s=+o,i=$e(r[s],t.value,n,r);q(r,s,i)}break}default:throw p(`unsupported patch operation: ${t.op}`)}else switch(t.op){case"add":{const s=$e(void 0,t.value,n,r);q(r,o,s);break}case"remove":{Ae(r,o);break}case"replace":{const s=$e(r[o],t.value,n,r);q(r,o,s);break}default:throw p(`unsupported patch operation: ${t.op}`)}}function ed(e,t){let n=mn(e);if(t.length===0)return{target:n};for(let r=0;r<=t.length-2;r++)n=mn(n[t[r]]);return{target:n,prop:t[t.length-1]}}function Dn(e,t,n){if($f()&&(Zc(e),Rr())){const r=td(e);if(r){const o=r.typeCheck();o&&(zc(()=>{t?rl.call(e,t.invPatches,!0):n&&nl.call(e,n)}),o.throw())}}}function td(e){const t=Bt(e);return e!==t&&(e=t,X(e)&&Gt(e).dataType)?e:Mf(e,n=>X(n)&&!!Gt(n).dataType)}function fs(e,t,n,r,o){const s=e,i=L(s)?s:k.object({},void 0,nd);let a,l;const c=()=>{a(),l()};_t.set(i,c),He({value:i,parentPath:t,indexChangeAllowed:!1,isDataObject:o,cloneIfApplicable:!1});let u={};const f=Object.keys(s),d=f.length;for(let v=0;v<d;v++){const m=f[v],w=s[m];if(Q(w))r||q(i,m,w),u[m]=w;else{const j={parent:i,path:m};let x;r?(x=w,He({value:x,parentPath:j,indexChangeAllowed:!1,isDataObject:!1,cloneIfApplicable:!1})):(x=_e(w,j),q(i,m,x));const g=Ie(x);u[m]=g.transformed}}let h;if(n){u[T]=n;const v=xn(n);if(!v)throw p(`model with name "${n}" not found in the registry`);const m=v.class.toSnapshotProcessor;m&&(h=w=>m(w,Bt(i)))}return ts(o?Bt(i):i,u,h),a=Yt(i,ld),l=Ct(i,sd),i}const nd={deep:!1};function rd(e,t,n){n[e]=t}function od(e,t){delete t[e]}const Rt=new Ja;function sd(e){const t=e.object,n=Bt(t);let r=Ie(n).untransformed;Rt.reset();let o;switch(e.type){case"add":case"update":o=ad(e,r);break;case"remove":o=id(e,r);break}Dn(t,Rt),!fn&&o&&(ns(n,o),Rt.emit(n))}function id(e,t){const n=e.name,r=t[n],o=od.bind(void 0,n),s=[n];return Rt.record([{op:"remove",path:s}],[{op:"add",path:s,value:ue(r)}]),o}function ad(e,t){const n=e.name,r=e.newValue,o=t[n];let s;Q(r)?s=r:s=Ie(r).transformed;const i=rd.bind(void 0,n,s),a=[n];return e.type==="add"?Rt.record([{op:"add",path:a,value:ue(s)}],[{op:"remove",path:a}]):Rt.record([{op:"replace",path:a,value:ue(s)}],[{op:"replace",path:a,value:ue(o)}]),i}function ld(e){if(Va(),typeof e.name=="symbol")throw p("symbol properties are not supported");switch(e.type){case"add":e.newValue=_e(e.newValue,{parent:e.object,path:""+e.name});break;case"remove":{const t=e.object[e.name];_e(t,void 0);break}case"update":{const t=e.object[e.name];e.newValue!==t&&(_e(t,void 0),e.newValue=_e(e.newValue,{parent:e.object,path:""+e.name}));break}}return e}function ud(){Vr(Kt.PlainObject,(e,t)=>{if(L(e)||Re(e))return fs(e,t,void 0,!1,!1)})}let ni=!1;function cd(){ni||(ni=!0,wd(),Rf(),Rd(),ud())}function ds(e,t){let n,r,o;if(arguments.length===1?(o=!1,n=e):(r=e,o=!0,n=t),!ie(n))throw p("only objects can be turned into tree nodes");if(o&&Rr()){const s=rs(r,n);s&&s.throw()}return Ke(n,!0)?n:_e(n,void 0)}const dr=[];function Vr(e,t){dr.push({priority:e,tweaker:t}),dr.sort((n,r)=>n.priority-r.priority)}function fd(e,t){if(Q(e))return e;if(Ke(e,!0))return e=He({value:e,parentPath:t,indexChangeAllowed:!1,isDataObject:!1,cloneIfApplicable:!0}),e;if(as(e))throw p("data models are not directly supported. you may insert the data in the tree instead ('$' property).");cd();const n=dr.length;for(let r=0;r<n;r++){const{tweaker:o}=dr[r],s=o(e,t);if(s!==void 0)return s}throw Cr(e)?p("maps are not directly supported. consider using 'ObjectMap' / 'asMap' instead."):Pr(e)?p("sets are not directly supported. consider using 'ArraySet' / 'asSet' instead."):p(`tweak can only work over models, observable objects/arrays, or primitives, but got ${e} instead`)}const _e=S("tweak",fd);function dd(e){if(Q(e))return;const t=_t.get(e);if(!t)return;const n=Array.from(Mr(e).values());for(let r=0;r<n.length;r++)He({value:n[r],parentPath:void 0,indexChangeAllowed:!1,isDataObject:!1,cloneIfApplicable:!1});return()=>{t(),_t.delete(e),cf(e)}}function ol(e,t,n){const r=e,o=r.length,s=Y(r)?r:k.array(void 0,Od);s!==r&&(s.length=r.length);let i,a;const l=()=>{i(),a()};_t.set(s,l),He({value:s,parentPath:t,indexChangeAllowed:!1,isDataObject:!1,cloneIfApplicable:!1});const c=[];c.length=o;for(let u=0;u<o;u++){const f=r[u];if(Q(f))n||q(s,u,f),c[u]=f;else{const d={parent:s,path:u};let h;n?(h=f,He({value:h,parentPath:d,indexChangeAllowed:!1,isDataObject:!1,cloneIfApplicable:!1})):(h=_e(f,d),q(s,u,h));const v=Ie(h);c[u]=v.transformed}}return ts(s,c,void 0),i=Yt(s,_d.bind(void 0,s)),a=Ct(s,vd),s}function hd(e,t,n){n[e]=t}function pd(e,t,n,r){r.splice(e,t,...n)}const dn=new Ja;function vd(e){const t=e.object;let n=Ie(t).untransformed;dn.reset();let r;switch(e.type){case"splice":r=yd(e,n);break;case"update":r=md(e,n);break}Dn(t,dn),!fn&&r&&(ns(t,r),dn.emit(t))}function md(e,t){const n=e.index,r=e.newValue,o=t[n];let s;Q(r)?s=r:s=Ie(r).transformed;const i=hd.bind(void 0,n,s),a=[n];return dn.record([{op:"replace",path:a,value:ue(s)}],[{op:"replace",path:a,value:ue(o)}]),i}function yd(e,t){const n=e.index,r=e.addedCount,o=e.removedCount;let s=[];s.length=r;for(let u=0;u<r;u++){const f=e.added[u];Q(f)?s[u]=f:s[u]=Ie(f).transformed}const i=t.length,a=pd.bind(void 0,n,o,s),l=[],c=[];if(r===o){const u=[],f=[];let d=0;for(let h=0;h<r;h++){const v=n+h,m=ri(t,v,n,o,s),w=t[v];if(m!==w){const j=[v-d];l.push({op:"remove",path:j}),c.push({op:"remove",path:j}),d++;const x=[v];u.push({op:"add",path:x,value:ue(m)}),f.push({op:"add",path:x,value:ue(w)})}}l.push(...u),c.push(...f),c.reverse()}else{const u=i-o;if(o>0){const f=n>=u;f&&l.push({op:"replace",path:["length"],value:u});for(let d=o-1;d>=0;d--){const h=n+d,v=[h];f||l.push({op:"remove",path:v}),c.push({op:"add",path:v,value:ue(t[h])})}}if(r>0){const f=n>=u;f&&c.push({op:"replace",path:["length"],value:u});for(let d=0;d<r;d++){const h=n+d,v=[h];l.push({op:"add",path:v,value:ue(ri(t,h,n,o,s))}),f||c.push({op:"remove",path:v})}}}return dn.record(l,c),a}function _d(e,t){switch(Va(),t.type){case"splice":gd(t);break;case"update":bd(t,e);break}return t}function bd(e,t){const n=t[e.index];_e(n,void 0),e.newValue=_e(e.newValue,{parent:t,path:e.index})}function gd(e){for(let r=0;r<e.removedCount;r++){const o=e.object[e.index+r];_e(o,void 0)}for(let r=0;r<e.added.length;r++)e.added[r]=_e(e.added[r],{parent:e.object,path:e.index+r});const t=e.index+e.removedCount,n=e.index+e.added.length;if(t!==n)for(let r=t,o=n;r<e.object.length;r++,o++)He({value:e.object[r],parentPath:{parent:e.object,path:o},indexChangeAllowed:!0,isDataObject:!1,cloneIfApplicable:!1})}function wd(){Vr(Kt.Array,(e,t)=>{if(J(e))return ol(e,t,!1)})}const Od={deep:!1};function ri(e,t,n,r,o){const s=t-n;return s<0?e[t]:s<o.length?o[s]:e[t-o.length+r]}function Sd(e,t){const n=k.array([],hs),r=e.length;for(let o=0;o<r;o++)n.push(Fr(e[o],t));return ol(n,void 0,!0)}function Ad(){Lr(Me.Array,(e,t)=>{if(J(e))return Sd(e,t)})}function Td(){Lr(Me.Frozen,e=>{if(ls(e))return Za(e.data)})}function Cd(e,t){const n=e[T];if(!n)throw p(`a model snapshot must contain a type key (${T}), but none was found`);const r=xn(n);if(!r)throw p(`model with name "${n}" not found in the registry`);const o=bt(r.class);if(o&&e[o]===void 0)throw p(`a model snapshot of type '${n}' must contain an id key (${o}), but none was found`);return new r.class(void 0,{snapshotInitialData:{unprocessedSnapshot:e,snapshotToInitialData:t.snapshotToInitialData},generateNewIds:t.options.generateNewIds})}function Pd(){Lr(Me.Model,(e,t)=>{if(Br(e))return Cd(e,t)})}function Id(e,t){const n=k.object({},void 0,hs),r=Object.keys(e),o=r.length;for(let s=0;s<o;s++){const i=r[s],a=e[i];rt(n,i,Fr(a,t))}return fs(n,void 0,void 0,!0,!1)}function kd(){Lr(Me.PlainObject,(e,t)=>{if(Re(e))return Id(e,t)})}let oi=!1;function Ed(){oi||(oi=!0,Ad(),Td(),Pd(),kd())}const hr=[];function Lr(e,t){hr.push({priority:e,snapshotter:t}),hr.sort((n,r)=>n.priority-r.priority)}function Ze(e,t,n){let r,o;if(Zo(e)||e instanceof F||nn(e)){const s=M(e);r=s.fromSnapshotProcessor?s.fromSnapshotProcessor(t):t,o=n}else r=e,o=t;return xd(r,o)}const xd=S("fromSnapshot",(e,t)=>{const r={options:{generateNewIds:!1,overrideRootModelId:void 0,...t}};return r.snapshotToInitialData=jd.bind(void 0,r),Fr(e,r)});function Fr(e,t){if(Q(e))return e;Ed();const n=hr.length;for(let r=0;r<n;r++){const{snapshotter:o}=hr[r],s=o(e,t);if(s!==void 0)return s}throw Cr(e)?p("a snapshot must not contain maps"):Pr(e)?p("a snapshot must not contain sets"):p(`unsupported snapshot - ${e}`)}function jd(e,t){const n=k.object({},void 0,hs),r=Object.keys(t),o=r.length;for(let s=0;s<o;s++){const i=r[s];if(!Sa(i)){const a=t[i];rt(n,i,Fr(a,e))}}return n}const hs={deep:!1};function Dd(e,t){$(e,"node");const n={generateNewIds:!0,...t},r=z(e);return Ze(r,n)}const He=S("setParent",({value:e,parentPath:t,indexChangeAllowed:n,isDataObject:r,cloneIfApplicable:o})=>{if(Q(e))return e;let s=qe(e);if(Gc(s,t))return e;if(Jn(e))throw p("root stores cannot be attached to any parents");if(r)return Qt.set(e,t.parent),e;if(t){const l=Bt(t.parent);t.parent!==l&&(t={parent:l,path:t.path})}if(o&&(t!=null&&t.parent)&&(s!=null&&s.parent)&&X(e)&&Gt(e).valueType&&(e=Dd(e,{generateNewIds:!0}),s=qe(e)),s&&t){if(s.parent===t.parent&&n)return vo.set(e,t),Us(e),e;throw p("an object cannot be assigned a new parent when it already has one")}let i;t||(i=dd(e));const a=()=>{s!=null&&s.parent&&Sf(s.parent,e),vo.set(e,t),t!=null&&t.parent&&Of(t.parent,e),Us(e)};if(e instanceof Ht){const l=pr(e),c=Jn(l)?l:void 0;a();const u=pr(e),f=Jn(u)?u:void 0;c!==f&&(c||f)&&bf(()=>{c&&qa(e),f&&Ha(f,e)})}else a();return i==null||i(),e});function sl(e,t){return _t.set(e,void 0),He({value:e,parentPath:t,indexChangeAllowed:!1,isDataObject:!1,cloneIfApplicable:!0}),e}function Rd(){Vr(Kt.Model,(e,t)=>{if(X(e))return sl(e,t)})}const si=S("newModel",(e,t,n)=>{const r=t?"new":"fromSnapshot",{modelClass:o,snapshotInitialData:s,generateNewIds:i}=n,a=o,l=e,c=te.get(a);if(!c)throw p(`no model info for class ${a.name} could be found - did you forget to add the @model decorator?`);const u=bt(a),f=Zt(a),d=u?f[u]:void 0;let h;if(s){let m=s.unprocessedSnapshot;d&&u&&(i?h=d._defaultFn():h=m[u]),a.fromSnapshotProcessor&&(m=a.fromSnapshotProcessor(m)),t=s.snapshotToInitialData(m)}else d&&u&&(t[u]?h=t[u]:h=d._defaultFn());l[T]=c.name;const v=Object.keys(f);for(let m=0;m<v.length;m++){const w=v[m];if(w===u)continue;const j=f[w];let x=t[w],g=!1;if(r==="new"&&j._transform&&(g=!0,x=j._transform.untransform(x,l,w)),x==null){const _=lr(j);_!==H?(g=!0,x=_):w in t||(g=!0)}g&&rt(t,w,x)}if(u&&rt(t,u,h),sl(l,void 0),l.$=fs(t,{parent:l,path:"$"},l[T],!1,!0),$a(a,l),Rr()&&Gt(a).dataType){const m=l.typeCheck();m&&m.throw()}return l}),ii=Symbol("modelIdPropertyName");class Ht{constructor(t){b(this,Ds),b(this,Rs),b(this,Ms),b(this,Ns),b(this,$s),b(this,"$");let n=t;const{snapshotInitialData:r,modelClass:o,generateNewIds:s}=arguments[1];Object.setPrototypeOf(this,o.prototype);const i=this;delete i[ar],delete i[Fs],delete i[Bs],delete i[ii],r?si(this,void 0,{modelClass:o,snapshotInitialData:r,generateNewIds:s}):(It(n,"initialData"),si(this,k.object(n,void 0,{deep:!1}),{modelClass:o,generateNewIds:!0}))}get[(Ds=ar,Rs=Fs,Ms=Bs,Ns=ii,$s=T,ce)](){const t=bt(this.constructor);return t?this.$[t]:void 0}set[ce](t){const n=bt(this.constructor);if(!n)throw p("$modelId cannot be set when there is no idProp set in the model");this.$[n]=t}getRefId(){return this[ce]}typeCheck(){const t=Ir(this.constructor);return rs(t,this)}toString(t){const n={withData:!0,...t},r=`${this.constructor.name}#${this[T]}`;return n.withData?`[${r} ${JSON.stringify(z(this))}]`:`[${r}]`}}const Md=new Set([T,ce,"onInit","$","getRefId","onAttachedToRootStore","typeCheck"]);function X(e){return e instanceof Ht}function nn(e){return!(typeof e!="function"||e!==Ht&&!(e.prototype instanceof Ht))}function Br(e){return Re(e)&&T in e}function qe(e){return Wc(e),vo.get(e)}function ps(e){const t=Qt.get(e);if(t)return{parent:t,path:"$"};const n=qe(e);return n&&X(n.parent)?{parent:n.parent.$,path:n.path}:n}function bn(e){var t;return(t=qe(e))==null?void 0:t.parent}function Nd(e){var t;return(t=ps(e))==null?void 0:t.parent}function $d(e){let t=e,n=[],r=[e],o;for(;o=qe(t);)t=o.parent,n.unshift(o.path),r.unshift(o.parent);return{root:t,path:n,pathObjects:r}}function pr(e){let t=e,n;for(;n=qe(t);)t=n.parent;return t}function Vd(e){return $(e,"value"),!bn(e)}const qr={resolved:!1};function Jr(e,t){let n=e,r=t.length;for(let o=0;o<r;o++){if(!ie(n))return qr;const s=t[o];if(J(n)&&+s>=n.length)return qr;if(X(n)){const i=mn(n);if(s in i)n=i;else if(!(s in n))return qr}n=n[s]}return{resolved:!0,value:n}}const il=Symbol("skipIdChecking");function Xr(e,t,n){var r;let o=mn(e),s=t.length;for(let i=0;i<s;i++){if(!ie(o))return{resolved:!1};const a=t[i];if(J(o)&&+a>=o.length)return{resolved:!1};const l=o[a];o=mn(l);const c=n[i];if(c!==il){const u=X(l)&&(r=l[ce])!=null?r:null;if(c!==u)return{resolved:!1}}}return{resolved:!0,value:Bt(o)}}const Ld=new WeakMap,ai=new WeakMap;function Fd(e){let t=ai.get(e);return t||(t={[Symbol.iterator](){let n=e;function r(){const a=n?Ld.get(n):void 0;if(!(!a||a.length<=0))return a[Symbol.iterator]()}function o(){let a;for(;n&&!a;)n=bn(n),a=r();return a}let s=r();return s||(s=o()),{next(){if(!s)return{value:void 0,done:!0};let a=s.next();return a.done?(s=o(),this.next()):a}}}},ai.set(e,t)),t}function ee({nameOrNameFn:e,fn:t,actionType:n,overrideContext:r,isFlowFinisher:o=!1}){let s=!1;const i=function(){const a=typeof e=="function"?e():e;s||(s=!0,t=S(a,t));const l=this,c=Tr(),u={actionName:a,type:n,target:l,args:Array.from(arguments),parentContext:c,data:{},rootContext:void 0};r&&r(u,this),u.rootContext||(u.previousAsyncStepContext?u.rootContext=u.previousAsyncStepContext.rootContext:u.parentContext?u.rootContext=u.parentContext.rootContext:u.rootContext=u),Vs(u);let f=t.bind(l,...arguments);const d=Fd(u.target)[Symbol.iterator]();let h=d.next();for(;!h.done;){const v=h.value;(v.filter?v.filter(u):!0)&&(f=v.middleware.bind(void 0,u,f)),h=d.next()}try{const v=f();if(o){const m=v,w=m.value;return m.resolution==="accept"?m.accepter(w):m.rejecter(w),w}else return v}finally{Vs(u.parentContext),gf()}};return i[Oa]=!0,i}function ko(e,t,n){const r=e[t];if(qo(r))return;const o=ee({nameOrNameFn:n,fn:r,actionType:U.Sync}),s=Object.getPrototypeOf(e);s[t]===r?s[t]=o:e[t]=o}function Bd(e){$(e,"node"),Ud().call(e)}const Ud=ve(()=>ee({nameOrNameFn:se.Detach,fn:Gd,actionType:U.Sync}));function Gd(){const t=ps(this);if(!t)return;const{parent:n,path:r}=t;if(Y(n))n.splice(+r,1);else if(L(n))Ae(n,""+r);else throw p("parent must be an observable object or an observable array")}const Yr=Symbol("unboundMethod"),li=(e,t)=>{const n=Yr in e?e[Yr]:e,r=n.bind(t);return Object.getOwnPropertySymbols(n).forEach(o=>{r[o]=n[o]}),r[Yr]=n,r};function Wd(e,t,n){if(typeof t[1]!="object"){const r=t[0],o=t[1],s=t[2],i=Qr(r,o,!0),a=()=>{Pa(r,Ca,l=>{const c=n(i,l[o]);l[o]=li(c,l)})};if(s){if(s.get!==void 0)throw p(`@${e} cannot be used with getters`);if(s.value)return{enumerable:!1,writable:!0,configurable:!0,value:n(i,s.value)};a()}else a()}else{const r=t[1];if(r.name,r.static,r.kind!=="method"&&r.kind!=="field")throw p(`@${e} can only be used on fields or methods}`);if(r.kind==="method"){const o=t[0],s=r.name;let i=!1;r.addInitializer(function(){if(i)return;i=!0;const a=this;let l=this,c=Object.getPrototypeOf(l);for(;c&&c[s]===o;)l=c,c=Object.getPrototypeOf(l);l[s]=n(Qr(a,s,!1),l[s])})}else if(r.kind==="field"){const o=r.name;let s;return function(i){const a=this;s||(s=Qr(a,o,!1));const l=n(s,i);return li(l,a)}}}}const Kd=(e,t)=>{e.target=t.$};function Qr(e,t,n){if(Wt(e)||as(e)){const r=Wt(e)?e:e.constructor;let o;const s=i=>{const a=te.get(i);o=`fn::${a.name}::${t}`,Nc(o,a.class,t)};return n?Pa(r,yo,s):s(r),{actionName:()=>o,overrideContext:Kd}}else return{actionName:t,overrideContext:void 0}}const al=Symbol("modelFlow");function zd({nameOrNameFn:e,generator:t,overrideContext:n}){const r=function(...o){const s=typeof e=="function"?e():e,i=this;let a;const l=v=>(m,w)=>{n&&n(m,w),m.previousAsyncStepContext=a,m.spawnAsyncStepContext=a?a.spawnAsyncStepContext:m,m.asyncStepType=v,m.args=o,a=m};let c=!1;const u=ee({nameOrNameFn:s,fn:()=>(c=!0,t.apply(i,o)),actionType:U.Async,overrideContext:l(Xe.Spawn)}).apply(i);if(!c)return u instanceof Promise?u:Promise.resolve(u);const f=u.next.bind(u),d=u.throw.bind(u);return new Promise(function(v,m){function w(g){let _;try{_=ee({nameOrNameFn:s,fn:f,actionType:U.Async,overrideContext:l(Xe.Resume)}).call(i,g)}catch(C){ee({nameOrNameFn:s,fn:D=>({value:D,resolution:"reject",accepter:v,rejecter:m}),actionType:U.Async,overrideContext:l(Xe.Throw),isFlowFinisher:!0}).call(i,C);return}x(_)}function j(g){let _;try{_=ee({nameOrNameFn:s,fn:d,actionType:U.Async,overrideContext:l(Xe.ResumeError)}).call(i,g)}catch(C){ee({nameOrNameFn:s,fn:D=>({value:D,resolution:"reject",accepter:v,rejecter:m}),actionType:U.Async,overrideContext:l(Xe.Throw),isFlowFinisher:!0}).call(i,C);return}x(_)}function x(g){g&&typeof g.then=="function"?g.then(x,m):g.done?ee({nameOrNameFn:s,fn:_=>({value:_,resolution:"accept",accepter:v,rejecter:m}),actionType:U.Async,overrideContext:l(Xe.Return),isFlowFinisher:!0}).call(i,g.value):Promise.resolve(g.value).then(w,j)}w(void 0)})};return r[al]=!0,r}function Hd(e){return typeof e=="function"&&al in e}const ui=new Map;function qd(e,t,n){if(Xo(t,e),ui.has(e)&&Ia("warn",`an standalone action with name "${e}" already exists (if you are using hot-reloading you may safely ignore this warning)`,`duplicateActionName - ${e}`),qo(t))throw p("the standalone action must not be previously marked as an action");if(Hd(t))throw p("the standalone action must not be previously marked as a flow action");const r=n?zd({nameOrNameFn:e,generator:t}):ee({nameOrNameFn:e,fn:t,actionType:U.Sync}),o=(s,...i)=>(Kc(s,"target"),r.call(s,s,...i));return ui.set(e,o),o}function Jd(e,t){$(e,"node",!0),Yd().call(e,t)}function Xd(e){Ae(this,""+e)}const Yd=ve(()=>ee({nameOrNameFn:se.ApplyDelete,fn:Xd,actionType:U.Sync}));function Qd(e,t,...n){return $(e,"node"),eh().call(e,t,n)}function Zd(e,t){return this[e](...t)}const eh=ve(()=>ee({nameOrNameFn:se.ApplyMethodCall,fn:Zd,actionType:U.Sync}));function vs(e,t,n){$(e,"node",!0),nh().call(e,t,n)}function th(e,t){!X(this)&&Ue(this)?q(this,e,t):this[e]=t}const nh=ve(()=>ee({nameOrNameFn:se.ApplySet,fn:th,actionType:U.Sync}));se.ApplySnapshot+"",se.ApplyPatches+"",se.Detach+"",se.ApplySet+"",se.ApplyDelete+"",se.ApplyMethodCall+"";function K(...e){return Wd("modelAction",e,(t,n)=>{if(qo(n))return n;if(typeof n!="function")throw p("modelAction has to be used over functions");return ee({nameOrNameFn:t.actionName,fn:n,actionType:U.Sync,overrideContext:t.overrideContext})})}function rh(e,t){var n;const r=[];let o=e;for(let s=0;s<t.length;s++){o=o[t[s]];const i=X(o)&&(n=o[ce])!=null?n:null;r.push(i)}return r}var ci;(function(e){e.Return="return",e.Throw="throw"})(ci||(ci={}));function P(e,t,n,r){var o=arguments.length,s=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function ll(e,t,n){return Xo(e,"objFn"),he(()=>{const r=e();It(r,"objectSchema");const o=Object.entries(r),s=(...l)=>{const c=[];for(const[u,f]of o){const d=M(f);let h="...";l.includes(d)||(h=d.getTypeName(...l,d)),c.push(`${u}: ${h};`)}return`{ ${c.join(" ")} }`},i=(l,c)=>{const u={},f=Object.keys(l);for(let d=0;d<f.length;d++){const h=f[d],v=r[h];if(v){const m=M(v);u[h]=c==="from"?m.fromSnapshotProcessor(l[h]):m.toSnapshotProcessor(l[h])}else u[h]=l[h]}return u},a=new F(V.Object,(l,c,u)=>{if(!ie(l)||t&&!(l instanceof Nr))return new re(c,s(a),l,u);for(const[f,d]of o){const h=M(d),v=l[f],m=h.check(v,[...c,f],u);if(m)return m}return null},s,n,l=>{if(!ie(l))return null;for(const[c,u]of o){const f=M(u),d=l[c];if(!f.snapshotType(d))return null}return a},l=>i(l,"from"),l=>i(l,"to"));return a},n)}function Rn(e){return ll(e,!1,n=>new oh(n,e))}class oh extends W{constructor(t,n){super(t),b(this,"_objTypeFn"),b(this,"_props",ve(()=>{const r=this._objTypeFn(),o={};return Object.keys(r).forEach(s=>{const i=ge(r[s]);o[s]={type:i,typeInfo:be(i)}}),o})),this._objTypeFn=n}get props(){return this._props()}}function sh(e){return ll(()=>({data:e}),!0,t=>new ih(t,ge(e)))}class ih extends W{constructor(t,n){super(t),b(this,"dataType"),this.dataType=n}get dataTypeInfo(){return be(this.dataType)}}const ul=new F(V.Any,null,()=>"any",e=>new ah(e),()=>ul,Te,Te);function wt(){return ul}class ah extends W{}function Mn(e,...t){const n=t.slice();let r;const o=Na(e);if(o)n.unshift(o);else{const i=e;r=a=>{const l=i(a);return M(l)}}if(n.length<=0)throw p("or type must have at least 1 possible type");const s=i=>new lh(i,n.map(ge));return he(()=>{const i=n.map(M);if(i.some(u=>u.unchecked))return wt();const a=(...u)=>i.map(d=>u.includes(d)?"...":d.getTypeName(...u,d)).join(" | ");let l;i.some(u=>u.baseType!==i[0].baseType)?l=V.Any:l=i[0].baseType;const c=new F(l,(u,f,d)=>i.some(v=>!v.check(u,f,d))?null:new re(f,a(c),u,d),a,s,u=>{const f=Qc(u),d=i.filter(h=>h.baseType===f||h.baseType===V.Any);if(d.length===1&&d[0].baseType===f)return d[0];for(let h=0;h<d.length;h++){const v=d[h].snapshotType(u);if(v)return v}return null},u=>{const f=r?r(u):c.snapshotType(u);if(!f)throw p(`snapshot '${JSON.stringify(u)}' does not match the following type: ${a(c)}`);return f.fromSnapshotProcessor(u)},u=>{const f=r?r(u):c.snapshotType(u);if(!f)throw p(`snapshot '${JSON.stringify(u)}' does not match the following type: ${a(c)}`);return f.toSnapshotProcessor(u)});return c},s)}class lh extends W{constructor(t,n){super(t),b(this,"orTypes"),b(this,"_orTypeInfos",ve(()=>this.orTypes.map(be))),this.orTypes=n}get orTypeInfos(){return this._orTypeInfos()}}const uh=Symbol("noDefaultValue"),fi=new WeakMap;function ch(e,t,n){let r=fi.get(e);r||(r=new Map,fi.set(e,r));let o=r.get(t);return o||(o=n(),r.set(t,o)),o}function fe(e,t){switch(typeof e){case"string":return fe(ze,e);case"number":return fe(jn,e);case"boolean":return fe(jr,e)}const n=arguments.length>=2,r=ge(e);return ch(r,n?t:uh,()=>{const o=n?Mn(r,Er,xr):r,s=Object.create(n?_o(t):_o());return Object.assign(s,{_typeChecker:r,_fromSnapshotProcessor:fh.bind(void 0,o),_toSnapshotProcessor:dh.bind(void 0,r)}),s})}function fh(e,t){const n=M(e).fromSnapshotProcessor;return n?n(t):t}function dh(e,t){const n=M(e).toSnapshotProcessor;return n?n(t):t}function di(...e){const t=e.filter(r=>!!r);return t.length<=0?void 0:(r,...o)=>{let s=r;for(let i=0;i<t.length;i++)s=t[i](s,...o);return s}}function hi(e,t,n="must be a class or data model class"){if(!nn(e)&&!Wt(e))throw p(`${t} ${n}`)}function hh(e,t,n){const r=e.$[n];return t._transform?t._transform.transform(r,e,n,o=>{vs(e.$,n,o)}):r}function ph(e,t,n,r){if(!(ka in e))return;if(t._setter==="assign"&&!Tr()){vs(e,n,r);return}let o=t._transform?t._transform.untransform(r,e,n):r;if(o==null){const s=lr(t);s!==H&&(o=s)}e.$[n]=o}const cl=()=>Dr().modelIdGenerator(),fl=fe(ze,cl);fl._isId=!0;const dl=_o(cl);dl._isId=!0;function vh({modelProps:e,baseModel:t,type:n,valueType:r,fromSnapshotProcessor:o,toSnapshotProcessor:s}){if(It(e,"modelProps"),e=Object.assign(Object.create(null),e),t){hi(t,"baseModel");const g=t[qn];g&&(t=g,hi(t,"baseModel"))}const i=e;if(t){const g=Zt(t);for(const _ of Object.keys(g))e[_]||(i[_]=g[_])}const a=Object.keys(i).filter(g=>i[g]._isId);if(n==="class"){if(a.length>1)throw p(`expected at most one idProp but got many: ${JSON.stringify(a)}`)}else if(a.length>=1)throw p(`expected no idProp but got some: ${JSON.stringify(a)}`);const l=Object.values(i).some(g=>!!g._typeChecker);let c;if(a.length>=1){c=a[0];const g=i[c];let _=l?fl:dl;switch(g==null?void 0:g._setter){case!0:_=_.withSetter();break;case"assign":_=_.withSetter("assign");break}i[c]=_}let u;if(l){const g={};for(const[_,C]of Object.entries(i))g[_]=C._typeChecker?C._typeChecker:wt();u=Rn(()=>g)}const f=t??(n==="class"?Ht:cr),d=n==="class"?Md:jf;let h;function v(g,_){var C;const D=(C=_==null?void 0:_.modelClass)!=null?C:this.constructor,Z=new f(g,{..._,modelClass:D});return h||(h=Object.keys(i).filter(at=>!d.has(at)&&Object.hasOwn(Z,at))),h.forEach(at=>delete Z[at]),Z}Object.assign(v,f);const m=f[Oo];if(m&&(v[Oo]=m.slice()),qc(v,i),n==="class"){const g={dataType:u,modelIdProperty:c,valueType:r};v[Ut]=g}else{const g={dataType:u};v[Ut]=g}const w=Object.create(f.prototype);v.prototype=new Proxy(w,{get(g,_,C){if(C===v.prototype)return g[_];const D=!d.has(_)&&i[_];return D?hh(C,D,_):Reflect.get(g,_,C)},set(g,_,C,D){if(D===v.prototype)return g[_]=C,!0;const Z=!d.has(_)&&i[_];return Z?(ph(D,Z,_,C),!0):Reflect.set(g,_,C,D)},has(g,_){return!!(!d.has(_)&&i[_])||Reflect.has(g,_)}}),w.constructor=v;for(const[g,_]of Object.entries(e))if(_._setter===!0){const C=Bc(g),D=K(w,C,{value:function(Z){this[g]=Z},writable:!0,enumerable:!1,configurable:!0});Object.defineProperty(w,C,D)}const j=mh(i),x=yh(i);if(o){const g=o;o=_=>({...g(_),[T]:_[T]})}if(s){const g=s;s=(_,C)=>({...g(_,C),[T]:_[T]})}return v.fromSnapshotProcessor=di(o,j),v.toSnapshotProcessor=di(x,s),v}function mh(e){const t=Object.entries(e).filter(([n,r])=>r._fromSnapshotProcessor);if(!(t.length<=0))return n=>{const r={...n};for(const[o,s]of t)s._fromSnapshotProcessor&&(r[o]=s._fromSnapshotProcessor(n[o]));return r}}function yh(e){const t=Object.entries(e).filter(([n,r])=>r._toSnapshotProcessor);if(!(t.length<=0))return n=>{const r={...n};for(const[o,s]of t)s._toSnapshotProcessor&&(r[o]=s._toSnapshotProcessor(n[o]));return r}}function rn(e,t){const n=typeof e=="function"?e():e;return _h(n,void 0,t)}function _h(e,t,n){var r;return vh({modelProps:e,baseModel:t,type:"class",valueType:(r=n==null?void 0:n.valueType)!=null?r:!1,fromSnapshotProcessor:n==null?void 0:n.fromSnapshotProcessor,toSnapshotProcessor:n==null?void 0:n.toSnapshotProcessor})}const on=e=>(t,...n)=>{const r=typeof n[1]=="object"?n[1]:void 0;return gh(e,t,r==null?void 0:r.addInitializer)},hl=new WeakMap,pl=(e,t)=>{ir(t,Ca);const n=hl.get(e);if(!n.makeObservableFailed&&kn()>=6)try{Yo.makeObservable(t)}catch(r){n.makeObservableFailed=!0;const o=r;if(o.message!=="[MobX] No annotations were passed to makeObservable, but no decorator members have been found either"&&o.message!=="[MobX] No annotations were passed to makeObservable, but no decorated members have been found either")throw o}Aa(t,ka,!0,!1),ir(t,Fc),n.type==="class"&&t.onInit&&(ko(t,"onInit",gt.OnInit),t.onInit()),n.type==="data"&&t.onLazyInit&&(ko(t,"onLazyInit",gt.OnLazyInit),t.onLazyInit())},bh={construct(e,t){const n=new e(...t);return pl(e,n),n}},gh=(e,t,n)=>{const r=nn(t)?"class":Wt(t)?"data":void 0;if(!r)throw p("clazz must be a class that extends from Model/DataModel");if(Hn[e]&&Dr().showDuplicateModelNameWarnings&&Ia("warn",`a model with name "${e}" already exists (if you are using hot-reloading you may safely ignore this warning)`,`duplicateModelName - ${e}`),qn in t&&t[qn]===t)throw p("a class already decorated with `@model` cannot be re-decorated");if(t.toString=()=>`class ${t.name}#${e}`,r==="class"&&(t[T]=e),hl.set(t,{makeObservableFailed:!1,type:r}),n){n(function(){pl(t,this)});const o={name:e,class:t};Hn[e]=o,te.set(t,o),ir(t,yo);return}else{const o=new Proxy(t,bh);o.prototype.constructor=o,o[qn]=t;const s={name:e,class:o};return Hn[e]=s,te.set(o,s),te.set(t,s),ir(t,yo),o}};function ft(e){const t=n=>new wh(n,ge(e));return he(()=>{const n=M(e),r=(...s)=>`Array<${n.getTypeName(...s,n)}>`,o=new F(V.Array,(s,i,a)=>{if(!J(s))return new re(i,r(o),s,a);if(!n.unchecked)for(let l=0;l<s.length;l++){const c=n.check(s[l],[...i,l],a);if(c)return c}return null},r,t,s=>{if(!J(s))return null;if(!n.unchecked){for(let i=0;i<s.length;i++)if(!n.snapshotType(s[i]))return null}return o},s=>n.unchecked?s:s.map(i=>n.fromSnapshotProcessor(i)),s=>n.unchecked?s:s.map(i=>n.toSnapshotProcessor(i)));return o},t)}class wh extends W{constructor(t,n){super(t),b(this,"itemType"),this.itemType=n}get itemTypeInfo(){return be(this.itemType)}}var vr;(function(e){e.Single="single",e.Group="group"})(vr||(vr={}));function mr(e,t){if(e.type===vr.Single)return[e];{const n=[];for(const r of e.events)t?n.unshift(...mr(r,!0)):n.push(...mr(r,!1));return n}}let ot=class extends rn({undoEvents:fe(ft(wt()),()=>[]),redoEvents:fe(ft(wt()),()=>[])}){constructor(){super(...arguments),b(this,"_groupStack",[])}_clearUndo(){lt(()=>{this.undoEvents.length=0})}_clearRedo(){lt(()=>{this.redoEvents.length=0})}enforceMaxLevels({maxUndoLevels:t,maxRedoLevels:n}){if(t!==void 0)for(;this.undoEvents.length>t;)this.undoEvents.shift();if(n!==void 0)for(;this.redoEvents.length>n;)this.redoEvents.shift()}_undo({maxRedoLevels:t}){lt(()=>{const n=this.undoEvents.pop();this.redoEvents.push(n),this.enforceMaxLevels({maxRedoLevels:t})})}_redo({maxUndoLevels:t}){lt(()=>{const n=this.redoEvents.pop();this.undoEvents.push(n),this.enforceMaxLevels({maxUndoLevels:t})})}_addUndo({event:t,maxUndoLevels:n}){lt(()=>{this.undoEvents.push(t),this.redoEvents.length=0,this.enforceMaxLevels({maxUndoLevels:n})})}_addUndoToParentGroup(t,n){t.events.push(n)}get _currentGroup(){return this._groupStack[this._groupStack.length-1]}_startGroup(t,n,r){var o;let s=!1,i=!1;const a=this._currentGroup,l={type:vr.Group,groupName:t,events:[]},c=a||(o=r==null?void 0:r.attachedState)==null?void 0:o.save(),u={pause:()=>{if(i)throw p("cannot pause a group when it is already ended");if(!s)throw p("cannot pause a group when it is not running");if(this._currentGroup!==l)throw p("group out of order");this._groupStack.pop(),s=!1},resume:()=>{if(i)throw p("cannot resume a group when it is already ended");if(s)throw p("cannot resume a group when it is already running");this._groupStack.push(l),s=!0},end:()=>{var f;s&&u.pause(),i=!0,a?this._addUndoToParentGroup(a,l):this._addUndo({event:{...l,attachedState:{beforeEvent:c,afterEvent:(f=r==null?void 0:r.attachedState)==null?void 0:f.save()}},maxUndoLevels:r==null?void 0:r.maxUndoLevels})}};return n&&u.resume(),u}};P([K],ot.prototype,"_clearUndo",null);P([K],ot.prototype,"_clearRedo",null);P([K],ot.prototype,"_undo",null);P([K],ot.prototype,"_redo",null);P([K],ot.prototype,"_addUndo",null);ot=P([on(`${En}/UndoStore`)],ot);class Ne{constructor(t,n,r,o){b(this,"disposer"),b(this,"subtreeRoot"),b(this,"options"),b(this,"store"),b(this,"_isUndoRecordingDisabled",!1),this.disposer=t,this.subtreeRoot=n,this.options=o,kn()>=6&&Yo.makeObservable(this),this.store=r??new ot({})}get undoQueue(){return this.store.undoEvents}get redoQueue(){return this.store.redoEvents}get undoLevels(){return this.undoQueue.length}get canUndo(){return this.undoLevels>0}clearUndo(){this.store._clearUndo()}get redoLevels(){return this.redoQueue.length}get canRedo(){return this.redoLevels>0}clearRedo(){this.store._clearRedo()}undo(){var t;if(!this.canUndo)throw p("nothing to undo");const n=this.undoQueue[this.undoQueue.length-1];lt(()=>{var r,o,s;mr(n,!0).forEach(i=>{zt(this.subtreeRoot,i.inversePatches,!0)}),(r=n.attachedState)!=null&&r.beforeEvent&&((s=(o=this.options)==null?void 0:o.attachedState)==null||s.restore(n.attachedState.beforeEvent))}),this.store._undo({maxRedoLevels:(t=this.options)==null?void 0:t.maxRedoLevels})}redo(){var t;if(!this.canRedo)throw p("nothing to redo");const n=this.redoQueue[this.redoQueue.length-1];lt(()=>{var r,o,s;mr(n,!1).forEach(i=>{zt(this.subtreeRoot,i.patches)}),(r=n.attachedState)!=null&&r.afterEvent&&((s=(o=this.options)==null?void 0:o.attachedState)==null||s.restore(n.attachedState.afterEvent))}),this.store._redo({maxUndoLevels:(t=this.options)==null?void 0:t.maxUndoLevels})}dispose(){this.disposer()}get isUndoRecordingDisabled(){return this._isUndoRecordingDisabled}withoutUndo(t){const n=this._isUndoRecordingDisabled;this._isUndoRecordingDisabled=!0;try{return t()}finally{this._isUndoRecordingDisabled=n}}createGroup(t){const n=this.store._startGroup(t,!1,this.options);return{continue(r){n.resume();try{return r()}finally{n.pause()}},end(){n.end()}}}withGroup(t,n){let r,o;typeof t=="string"?(r=t,o=n):o=t;const s=this.store._startGroup(r,!0,this.options);try{return o()}finally{s.end()}}withGroupFlow(t,n){let r,o;typeof t=="string"?(r=t,o=n):o=t;const s=o(),i=this.store._startGroup(r,!1,this.options),a=s.next.bind(s),l=s.throw.bind(s);return new Promise(function(u,f){function d(m){i.resume();let w;try{w=a(m)}catch(j){i.end(),f(j);return}i.pause(),v(w)}function h(m){i.resume();let w;try{w=l(m)}catch(j){i.end(),f(j);return}i.pause(),v(w)}function v(m){m&&typeof m.then=="function"?m.then(v,f):m.done?(i.end(),u(m.value)):Promise.resolve(m.value).then(d,h)}d(void 0)})}}P([N],Ne.prototype,"undoQueue",null);P([N],Ne.prototype,"redoQueue",null);P([N],Ne.prototype,"undoLevels",null);P([N],Ne.prototype,"canUndo",null);P([S],Ne.prototype,"clearUndo",null);P([N],Ne.prototype,"redoLevels",null);P([N],Ne.prototype,"canRedo",null);P([S],Ne.prototype,"clearRedo",null);P([S],Ne.prototype,"undo",null);P([S],Ne.prototype,"redo",null);let Zr=!1;function lt(e){const t=Zr;Zr=!0;try{return e()}finally{Zr=t}}function eo(e){return e.type==="value"?e.value:e.value.get()}const Oh=()=>Be("contextValue");class Sh{constructor(t){b(this,"defaultContextValue",k.box(void 0,{deep:!1})),b(this,"overrideContextValue",k.box(void 0,{deep:!1})),b(this,"nodeContextValue",new WeakMap),b(this,"nodeAtom",new WeakMap),b(this,"setDefault",S(n=>{this.defaultContextValue.set({type:"value",value:n})})),b(this,"setDefaultComputed",S(n=>{this.defaultContextValue.set({type:"computed",value:N(n)})})),b(this,"set",S((n,r)=>{$(n,"node"),this.nodeContextValue.set(n,{type:"value",value:r}),this.getNodeAtom(n).reportChanged()})),b(this,"setComputed",S((n,r)=>{this._setComputed(n,N(r))})),b(this,"unset",S(n=>{$(n,"node"),this.nodeContextValue.delete(n),this.getNodeAtom(n).reportChanged()})),b(this,"apply",S((n,r)=>{const o=this.overrideContextValue.get();this.overrideContextValue.set({type:"value",value:r});try{const s=n();return Ke(s,!0)&&this.set(s,r),s}finally{this.overrideContextValue.set(o)}})),b(this,"applyComputed",S((n,r)=>{const o=N(r),s=this.overrideContextValue.get();this.overrideContextValue.set({type:"computed",value:o});try{const i=n();return Ke(i,!0)&&this._setComputed(i,o),i}finally{this.overrideContextValue.set(s)}})),this.setDefault(t)}getNodeAtom(t){return Ce(this.nodeAtom,t,Oh)}fastGet(t){this.getNodeAtom(t).reportObserved();const n=this.nodeContextValue.get(t);if(n)return eo(n);const r=bn(t);if(!r){const o=this.overrideContextValue.get();return o?eo(o):this.getDefault()}return this.fastGet(r)}get(t){return $(t,"node"),this.fastGet(t)}fastGetProviderNode(t){if(this.getNodeAtom(t).reportObserved(),this.nodeContextValue.get(t))return t;const r=bn(t);if(r)return this.fastGetProviderNode(r)}getProviderNode(t){return $(t,"node"),this.fastGetProviderNode(t)}getDefault(){return eo(this.defaultContextValue.get())}_setComputed(t,n){$(t,"node"),this.nodeContextValue.set(t,{type:"computed",value:n}),this.getNodeAtom(t).reportChanged()}}function Ur(e){return new Sh(e)}Ur(!1);class sn extends rn({id:fe(ze)}){get maybeCurrent(){return this.resolve()}get isValid(){return!!this.maybeCurrent}get current(){const t=this.maybeCurrent;if(!t)throw p(`a reference of type '${this[T]}' could not resolve an object with id '${this.id}'`);return t}}P([N],sn.prototype,"maybeCurrent",null);P([N],sn.prototype,"isValid",null);P([N],sn.prototype,"current",null);const pi=new WeakMap;function vl(e,t,n,r){let o=class extends sn{constructor(){super(...arguments),b(this,"resolver"),b(this,"savedOldTarget")}resolve(){return this.resolver||(this.resolver=t(this)),this.resolver(this)}internalForceUpdateBackRefs(l){const c=this.savedOldTarget;this.savedOldTarget=l,Ch(this,i,l,c)}forceUpdateBackRefs(){this.internalForceUpdateBackRefs(this.maybeCurrent)}onInit(){let l,c=!0;Lt(()=>this.maybeCurrent,u=>{this.internalForceUpdateBackRefs(u);const f=l,d=c;l=u,c=!1,!d&&r&&u!==f&&r(this,u,f)},{fireImmediately:!0})}};P([S],o.prototype,"forceUpdateBackRefs",null),o=P([on(e)],o);const s=a=>{let l;if(typeof a=="string"?l=a:(It(a,"target"),l=n(a)),typeof l!="string")throw p("ref target object must have an id of string type");return new o({id:l})};s.refClass=o;const i=s;return i}function ms(e){if(X(e)&&e.getRefId){const t=e.getRefId();if(t!==void 0&&typeof t!="string")throw p("'getRefId()' must return a string or undefined when present");return t}}const Ah=new WeakMap;function Th(e,t,n=ms){const o=Ce(Ah,n,()=>Tf(s=>n(s))).walk(e);return o?o.get(t):void 0}function Gn(e,t){let n=pi.get(e);if(n||(n={all:k.set(void 0,{deep:!1}),byType:new WeakMap},pi.set(e,n)),t){let r=n.byType.get(t);return r||(r=k.set(void 0,{deep:!1}),n.byType.set(t,r)),r}else return n.all}const Ch=S("updateBackRefs",(e,t,n,r)=>{n!==r&&(r&&(Gn(r).delete(e),Gn(r,t).delete(e)),n&&(Gn(n).add(e),Gn(n,t).add(e)))});Ua({initData(){return{all:new Set,byType:new WeakMap}},addNode(e,t){e instanceof sn&&(t.all.add(e),Ce(t.byType,e.constructor,()=>new Set).add(e))}});S("customRef",(e,t)=>{var n;const r=(n=t.getId)!=null?n:ms;return vl(e,()=>t.resolve,r,t.onResolvedValueChange)});S("rootRef",(e,t)=>{var n;const r=(n=t==null?void 0:t.getId)!=null?n:ms,o=t==null?void 0:t.onResolvedValueChange;return vl(e,i=>{let a;return()=>{const l=pr(i);if(Ph(i,l,a,r))return a;const c=Th(l,i.id,r);return c&&(a=c),c}},r,o)});function Ph(e,t,n,r){return!(!n||e.id!==r(n)||t!==pr(n))}function B(e,t){return qd(e,t,!1)}function Ih(e,...t){return e.splice(...t)}const oe=`${En}/arrayActions`;B(`${oe}::set`,(e,t,n)=>{q(e,t,n)}),B(`${oe}::delete`,(e,t)=>Ae(e,""+t)),B(`${oe}::setLength`,(e,t)=>{e.length=t}),B(`${oe}::concat`,(e,...t)=>e.concat(...t)),B(`${oe}::copyWithin`,(e,t,n,r)=>e.copyWithin(t,n,r)),B(`${oe}::fill`,(e,t,n,r)=>e.fill(t,n,r)),B(`${oe}::pop`,e=>e.pop()),B(`${oe}::push`,(e,...t)=>e.push(...t)),B(`${oe}::reverse`,e=>e.reverse()),B(`${oe}::shift`,e=>e.shift()),B(`${oe}::slice`,(e,t,n)=>e.slice(t,n)),B(`${oe}::sort`,(e,t)=>e.sort(t)),B(`${oe}::splice`,Ih),B(`${oe}::unshift`,(e,...t)=>e.unshift(...t)),B(`${oe}::swap`,(e,t,n)=>{if(t<0||n<0||t>=e.length||n>=e.length)return!1;n<t&&([t,n]=[n,t]);const[r]=e.splice(t,1),[o]=e.splice(n-1,1);return e.splice(t,0,o),e.splice(n,0,r),!0});const Wn=`${En}/objectActions`;B(`${Wn}::set`,(e,t,n)=>{Ue(e)?q(e,t,n):e[t]=n}),B(`${Wn}::assign`,(e,t)=>{It(t,"partialObject");const n=Object.keys(t);if(Ue(e))for(const r of n){const o=t[r];q(e,r,o)}else for(const r of n)e[r]=t[r]}),B(`${Wn}::delete`,(e,t)=>Ae(e,t)),B(`${Wn}::call`,(e,t,...n)=>e[t](...n));S(e=>{const t=k.map();t.dataObject=e;const n=Object.keys(e);for(let s=0;s<n.length;s++){const i=n[s];t.set(i,e[i])}let r=!1,o=!1;return Ct(e,S(s=>{if(!r){o=!0;try{switch(s.type){case"add":case"update":{t.set(s.name,s.newValue);break}case"remove":{t.delete(s.name);break}}}finally{o=!1}}})),Yt(t,S(s=>{if(r)return null;if(o)return s;r=!0;try{switch(s.type){case"add":case"update":{q(e,s.name,s.newValue);break}case"delete":{Ae(e,s.name);break}}return s}finally{r=!1}})),t});S(e=>{let t;if(kn()>=6?t=k.map(e):(t=k.map(),e.forEach(([o,s])=>{t.set(o,s)})),t.dataObject=e,t.size!==e.length)throw p("arrays backing a map cannot contain duplicate keys");let n=!1,r=!1;return Ct(e,S(o=>{if(!n){r=!0;try{switch(o.type){case"splice":{{const s=o.removed;for(let i=0;i<s.length;i++)t.delete(s[i][0])}{const s=o.added;for(let i=0;i<s.length;i++)t.set(s[i][0],s[i][1])}break}case"update":{t.delete(o.oldValue[0]),t.set(o.newValue[0],o.newValue[1]);break}}}finally{r=!1}}})),Yt(t,S(o=>{if(n)return null;if(r)return o;n=!0;try{switch(o.type){case"update":{const s=e.findIndex(i=>i[0]===o.name);e[s]=[o.name,o.newValue];break}case"add":{e.push([o.name,o.newValue]);break}case"delete":{const s=e.findIndex(i=>i[0]===o.name);s>=0&&e.splice(s,1);break}}return o}finally{n=!1}})),t});S(e=>{let t;if(kn()>=6?t=k.set(e):(t=k.set(),e.forEach(o=>{t.add(o)})),t.dataObject=e,t.size!==e.length)throw p("arrays backing a set cannot contain duplicate values");let n=!1,r=!1;return Ct(e,S(o=>{if(!n){r=!0;try{switch(o.type){case"splice":{{const s=o.removed;for(let i=0;i<s.length;i++)t.delete(s[i])}{const s=o.added;for(let i=0;i<s.length;i++)t.add(s[i])}break}case"update":{t.delete(o.oldValue),t.add(o.newValue);break}}}finally{r=!1}}})),Yt(t,S(o=>{if(n)return null;if(r)return o;n=!0;try{switch(o.type){case"add":{e.push(o.newValue);break}case"delete":{const s=e.indexOf(o.oldValue);s>=0&&e.splice(s,1);break}}return o}finally{n=!1}})),t});class an{constructor(t){b(this,"data"),b(this,"originalData"),$(t,"original"),this.originalData=t,this.data=Ze(this.originalSnapshot,{generateNewIds:!1})}commit(){Po(this.originalData,z(this.data))}commitByPath(t){const n=Jr(this.data,t);if(!n.resolved)throw p(`path ${JSON.stringify(t)} could not be resolved in draft object`);const r=to(this.data,t);if(!Xr(this.originalData,t,r).resolved)throw p(`path ${JSON.stringify(t)} could not be resolved in original object`);zt(this.originalData,[{path:t,op:"replace",value:z(n.value)}])}reset(){Po(this.data,this.originalSnapshot)}resetByPath(t){const n=Jr(this.originalData,t);if(!n.resolved)throw p(`path ${JSON.stringify(t)} could not be resolved in original object`);const r=to(this.originalData,t);if(!Xr(this.data,t,r).resolved)throw p(`path ${JSON.stringify(t)} could not be resolved in draft object`);zt(this.data,[{path:t,op:"replace",value:z(n.value)}])}get isDirty(){return!Io(z(this.data),this.originalSnapshot)}isDirtyByPath(t){const n=Jr(this.data,t);if(!n.resolved)throw p(`path ${JSON.stringify(t)} could not be resolved in draft object`);const r=to(this.data,t),o=Xr(this.originalData,t,r);return o.resolved?!Io(n.value,o.value):!0}get originalSnapshot(){return z(this.originalData)}}P([S],an.prototype,"commit",null);P([S],an.prototype,"commitByPath",null);P([S],an.prototype,"reset",null);P([S],an.prototype,"resetByPath",null);P([N],an.prototype,"isDirty",null);P([N],an.prototype,"originalSnapshot",null);function to(e,t){const n=rh(e,t);return n.length>=1&&(n[n.length-1]=il),n}Ur();function vi(...e){const t=n=>new kh(n,e.map(ge));return he(()=>{const n=e.map(M),r=(...s)=>"["+n.map(a=>s.includes(a)?"...":a.getTypeName(...s,a)).join(", ")+"]",o=new F(V.Array,(s,i,a)=>{if(!J(s)||s.length!==e.length)return new re(i,r(o),s,a);for(let l=0;l<s.length;l++){const c=n[l].check(s[l],[...i,l],a);if(c)return c}return null},r,t,s=>{if(!J(s)||s.length!==e.length)return null;for(let i=0;i<s.length;i++)if(!n[i].snapshotType(s[i]))return null;return o},s=>s.map((i,a)=>n[a].fromSnapshotProcessor(i)),s=>s.map((i,a)=>n[a].toSnapshotProcessor(i)));return o},t)}class kh extends W{constructor(t,n){super(t),b(this,"itemTypes"),b(this,"_itemTypeInfos",ve(()=>this.itemTypes.map(be))),this.itemTypes=n}get itemTypeInfos(){return this._itemTypeInfos()}}let Ot=class extends rn({[ce]:Qo,items:fe(ft(wt()),()=>[])}){add(t){const n=this.items;return n.includes(t)||n.push(t),this}clear(){this.items.length=0}delete(t){const n=this.items,r=n.findIndex(o=>o===t);return r>=0?(n.splice(r,1),!0):!1}forEach(t,n){const r=this.items,o=r.length;for(let s=0;s<o;s++){const i=r[s];t.call(n,i,i,this)}}has(t){return this.items.includes(t)}get size(){return this.items.length}keys(){return this.values()}values(){const t=this.items;return Bo(t)[Symbol.iterator]()}entries(){return this.items.map(n=>[n,n]).values()}[Symbol.iterator](){return this.values()}get[Symbol.toStringTag](){return"ArraySet"}};P([K],Ot.prototype,"add",null);P([K],Ot.prototype,"clear",null);P([K],Ot.prototype,"delete",null);Ot=P([on(`${En}/ArraySet`)],Ot);function Eh(e){const t=n=>new xh(n,ge(e));return he(()=>{const n=te.get(Ot),r=M(e),o=(...a)=>`ArraySet<${r.getTypeName(...a,r)}>`,s=Rn(()=>({items:ft(r)})),i=new F(V.Object,(a,l,c)=>a instanceof Ot?M(s).check(a.$,l,c):new re(l,o(i),a,c),o,t,a=>ie(a)?a[T]!==void 0?a[T]===n.name?i:null:M(s).snapshotType(a)?i:null:null,a=>({...a,[T]:n.name,items:a.items.map(l=>r.fromSnapshotProcessor(l))}),a=>({...a,items:a.items.map(c=>r.toSnapshotProcessor(c))}));return i},t)}class xh extends W{constructor(t,n){super(t),b(this,"valueType"),this.valueType=n}get valueTypeInfo(){return be(this.valueType)}}function yr(e){const t=n=>new jh(n,ge(e));return he(()=>{const n=M(e),r=(...i)=>`Record<${n.getTypeName(...i,n)}>`,o=(i,a)=>{if(n.unchecked)return i;const l={},c=Object.keys(i);for(let u=0;u<c.length;u++){const f=c[u],d=a==="from"?n.fromSnapshotProcessor(i[f]):n.toSnapshotProcessor(i[f]);l[f]=d}return l},s=new F(V.Object,(i,a,l)=>{if(!ie(i))return new re(a,r(s),i,l);if(!n.unchecked){const c=Object.keys(i);for(let u=0;u<c.length;u++){const f=c[u],d=i[f],h=n.check(d,[...a,f],l);if(h)return h}}return null},r,t,i=>{if(!ie(i))return null;if(!n.unchecked){const a=Object.keys(i);for(let l=0;l<a.length;l++){const c=a[l],u=i[c];if(!n.snapshotType(u))return null}}return s},i=>o(i,"from"),i=>o(i,"to"));return s},t)}class jh extends W{constructor(t,n){super(t),b(this,"valueType"),this.valueType=n}get valueTypeInfo(){return be(this.valueType)}}let St=class extends rn({[ce]:Qo,items:fe(yr(wt()),()=>({}))}){clear(){const t=this.items,n=Object.keys(t),r=n.length;for(let o=0;o<r;o++){const s=n[o];Ae(t,s)}}delete(t){return this.has(t)?(Ae(this.items,t),!0):!1}forEach(t,n){const r=this.items,o=Object.keys(r),s=o.length;for(let i=0;i<s;i++){const a=o[i];t.call(n,r[a],a,this)}}get(t){return la(this.items,t)}has(t){return Uo(this.items,t)}set(t,n){return q(this.items,t,n),this}get size(){return yt(this.items).length}keys(){return yt(this.items)[Symbol.iterator]()}values(){return Bo(this.items)[Symbol.iterator]()}entries(){return aa(this.items)[Symbol.iterator]()}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return"ObjectMap"}};P([K],St.prototype,"clear",null);P([K],St.prototype,"delete",null);P([K],St.prototype,"set",null);St=P([on(`${En}/ObjectMap`)],St);function Dh(e){const t=n=>new Rh(n,ge(e));return he(()=>{const n=te.get(St),r=M(e),o=(...l)=>`ObjectMap<${r.getTypeName(...l,r)}>`,s=Rn(()=>({items:yr(r)})),i=M(s),a=new F(V.Object,(l,c,u)=>l instanceof St?i.check(l.$,c,u):new re(c,o(a),l,u),o,t,l=>ie(l)?l[T]!==void 0?l[T]===n.name?a:null:i.snapshotType(l)?a:null:null,l=>{const c={};for(const u of Object.keys(l.items))c[u]=r.fromSnapshotProcessor(l.items[u]);return{...l,[T]:n.name,items:c}},l=>{const c={};for(const f of Object.keys(l.items))c[f]=r.toSnapshotProcessor(l.items[f]);return{...l,items:c}});return a},t)}class Rh extends W{constructor(t,n){super(t),b(this,"valueType"),this.valueType=n}get valueTypeInfo(){return be(this.valueType)}}function Mh(e){const t="Ref",n=te.get(e.refClass),r=M(Rn(()=>({id:ze}))),o=new F(V.Object,(s,i,a)=>s instanceof sn?r.check(s.$,i,a):new re(i,t,s,a),()=>t,s=>new Nh(s),s=>ie(s)?s[T]!==void 0?s[T]===n.name?o:null:r.snapshotType(s)?o:null:null,s=>s[T]?s:{...s,[T]:n.name},s=>s);return o}class Nh extends W{}function $h(e){const t=[];for(const n of Object.keys(e)){const r=e[n];!t.includes(r)&&(typeof r!="string"&&r!==+n||e[r]!==+n)&&t.push(r)}return t}function Vh(e){It(e,"enumObject");const t=$h(e).map(n=>kr(n));return Mn(...t)}function ys(e,t,n){const r=o=>new Lh(o,ge(e),t,n);return he(()=>{const o=M(e),s=(...a)=>{const l=o.getTypeName(...a,o);return`${n||"refinementOf"}<${l}>`},i=new F(o.baseType,(a,l,c)=>{const u=o.check(a,l,c);if(u)return u;const f=t(a);return f===!0||f==null?null:f===!1?new re(l,s(i),a,c):new re(f.path,f.expectedTypeName,f.actualValue,c)},s,r,a=>o.snapshotType(a),a=>o.fromSnapshotProcessor(a),a=>o.toSnapshotProcessor(a));return i},r)}class Lh extends W{constructor(t,n,r,o){super(t),b(this,"baseType"),b(this,"checkFunction"),b(this,"typeName"),this.baseType=n,this.checkFunction=r,this.typeName=o}get baseTypeInfo(){return be(this.baseType)}}const mi=ys(jn,e=>Number.isInteger(e),"integer"),yi=ys(ze,e=>e!=="","nonEmpty");function Fh(e){return Mn(e,Er)}function Bh(e){return Mn(e,xr)}function Uh(e,t,n){const r=o=>new Gh(o,ge(e),t,n);return he(()=>{const o=M(e),s=(...a)=>{const l=o.getTypeName(...a,o);return`${n||"tagged"}<${l}>`};return new F(o.baseType,(a,l,c)=>o.check(a,l,c),s,r,a=>o.snapshotType(a),a=>o.fromSnapshotProcessor(a),a=>o.toSnapshotProcessor(a))},r)}class Gh extends W{constructor(t,n,r,o){super(t),b(this,"baseType"),b(this,"tag"),b(this,"typeName"),this.baseType=n,this.tag=r,this.typeName=o}get baseTypeInfo(){return be(this.baseType)}}const hn={literal:kr,undefined:Er,null:xr,boolean:jr,number:jn,string:ze,or:Mn,maybe:Fh,maybeNull:Bh,array:ft,record:yr,unchecked:wt,model:Ir,dataModelData:is,object:Rn,ref:Mh,frozen:sh,enum:Vh,tag:Uh,refinement:ys,integer:mi,nonEmptyString:yi,objectMap:Dh,arraySet:Eh,tuple:vi,mapArray(e){return ft(vi(ze,e))},setArray(e){return ft(e)},mapObject(e){return yr(e)},dateString:yi,dateTimestamp:mi};function I(e,t,...n){const r=typeof e=="string"?document.createElement(e,{is:t==null?void 0:t.is}):new e;if(t)for(const[o,s]of Object.entries(t)){let i=function(a){if(s instanceof Array){const[l,c]=s;l.registerDisposer(Lt(c,a,{fireImmediately:!0}))}else s instanceof Function?Lt(s,a,{fireImmediately:!0}):console.error("bad 'obs-...' attribute")};if(!o.includes(":"))typeof e=="string"&&o==="is"||r.setAttribute(o,s);else{const[a,l]=o.split(":");switch(a){case"prop":r[l]=s;break;case"style":r.style[l]=s;break;case"class":r.classList.toggle(l,s);break;case"obs":i(c=>r.setAttribute(l,c));break;case"obs-prop":i(c=>r[l]=c);break;case"obs-style":i(c=>r.style[l]=c);break;case"obs-class":i(c=>r.classList.toggle(l,c));break;case"on":r.addEventListener(l,c=>{c.preventDefault(),c.stopImmediatePropagation(),s(c)});break;case"on_":r.addEventListener(l,s);break;default:throw new Error("unsupported qualifier: "+a)}}}for(const o of n)r.append(o);return r}const Wh=DocumentFragment,ml=Text;var Kh=Object.defineProperty,zh=Object.getOwnPropertyDescriptor,ke=(e,t,n,r)=>{for(var o=r>1?void 0:r?zh(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&Kh(t,n,o),o};const yl=Ur(()=>!0),_l=Ur();let At=class extends rn({text:fe(hn.string),completed:fe(hn.boolean,!1).withSetter()}){get isVisible(){return yl.get(this)(this)}remove(){var e;(e=_l.get(this))==null||e(this)}edit(e){const t=e.trim();if(t!==this.text){if(!t.length){this.remove();return}this.text=t}}};ke([N],At.prototype,"isVisible",1);ke([K],At.prototype,"remove",1);ke([K],At.prototype,"edit",1);At=ke([on("TodoApp/Todo")],At);var et=(e=>(e.SHOW_ALL="SHOW_ALL",e.SHOW_ACTIVE="SHOW_ACTIVE",e.SHOW_COMPLETED="SHOW_COMPLETED",e))(et||{});const Hh={SHOW_ALL:()=>!0,SHOW_ACTIVE:e=>!e.completed,SHOW_COMPLETED:e=>e.completed};let Je=class extends rn({todos:fe(hn.array(hn.model(At)),()=>[]),filter:fe(hn.enum(et),"SHOW_ACTIVE").withSetter()}){onInit(){yl.setComputed(this,()=>Hh[this.filter]),_l.set(this,e=>this.removeTodo(e))}get completedCount(){return this.todos.reduce((e,t)=>e+Number(t.completed),0)}get activeCount(){return this.todos.length-this.completedCount}addTodo(e){e.trim()!==""&&this.todos.push(new At({text:e}))}removeTodo(e){const t=this.todos.indexOf(e);t!==-1&&this.todos.splice(t,1)}completeAll(){const e=!this.todos.every(t=>t.completed);this.todos.forEach(t=>t.completed=e)}clearCompleted(){for(const e of[...this.todos])e.completed&&this.removeTodo(e)}};ke([N],Je.prototype,"completedCount",1);ke([N],Je.prototype,"activeCount",1);ke([K],Je.prototype,"addTodo",1);ke([K],Je.prototype,"removeTodo",1);ke([K],Je.prototype,"completeAll",1);ke([K],Je.prototype,"clearCompleted",1);Je=ke([on("TodoApp/TodoStore")],Je);var Mt;class bl extends HTMLElement{constructor(){super(...arguments);bs(this,Mt,[])}registerDisposer(n){Nn(this,Mt).push(n)}disconnectedCallback(){this.replaceChildren(),Nn(this,Mt).forEach(n=>n()),Nn(this,Mt).length=0}}Mt=new WeakMap;function qh(e,t,n={}){var i;const r=new DocumentFragment,o=e.map(t);o.push(new Comment("#")),r.append(...o);const s=Ct(e,a=>{switch(a.type){case"splice":{const{index:l,removedCount:c,added:u}=a,f=u.map(t);o.splice(l,c,...f).forEach(d=>{d.remove()}),o[l+u.length].before(...f);break}case"update":{const{index:l,newValue:c}=a,u=o[l],f=t(c);o[l]=f,u.parentNode.replaceChild(f,u);break}default:throw new Error("unexpected array-change type: "+a.type)}});return(i=n.registry)==null||i.registerDisposer(s),r}class Jh extends HTMLElement{constructor(){super(...arguments);ln(this,"create")}connectedCallback(){let n;const r=()=>{this.create(n.value),n.value=""};this.append(I("form",{"on:submit":r},n=I("input",{class:"new-todo",placeholder:"What needs to be done?",autofocus:!0})))}}customElements.define("new-todo-form",Jh);class Xh extends bl{constructor(){super(...arguments);ln(this,"todo")}connectedCallback(){const n=k.box(!1);let r,o;const s=()=>{n.set(!0),o.value=this.todo.text,o.focus()},i=()=>{n.set(!1),this.todo.edit(o.value)};this.registerDisposer(Lt(()=>this.todo.isVisible,a=>{this.replaceChildren(a?I("li",{"obs-class:editing":[this,()=>n.get()]},I("div",{class:"view"},r=I("input",{type:"checkbox",class:"toggle","on:change":()=>this.todo.setCompleted(r.checked),"obs-prop:checked":[this,()=>this.todo.completed]}),I("label",{"on:dblclick":s},I(ml,{"obs-prop:data":[this,()=>this.todo.text]})),I("button",{class:"destroy","on:click":()=>this.todo.remove()})),I("form",{"style:display":"contents","on:submit":i},o=I("input",{class:"edit","on:blur":i}))):I(Wh,null))},{fireImmediately:!0}))}}customElements.define("todo-item",Xh);class Yh extends bl{constructor(){super(...arguments);ln(this,"todos")}connectedCallback(){this.append(I("ul",{class:"todo-list"},qh(this.todos,n=>I("todo-item",{"prop:todo":n}),{registry:this})))}}customElements.define("todo-list",Yh);class Qh extends HTMLElement{constructor(){super(...arguments);ln(this,"store")}connectedCallback(){const n=`toggle-all-${Date.now().toString(36)}-${(Math.random()*9007199254740992).toString(36)}`,r=this.store;this.append(I("section",{class:"todoapp"},I("header",{class:"header"},I("h1",null,"todos"),I("new-todo-form",{"prop:create":o=>r.addTodo(o),"on:new-todo":o=>r.addTodo(o.detail)})),I("section",{class:"main"},I("input",{type:"checkbox",id:n,class:"toggle-all","on:change":()=>r.completeAll()}),I("label",{for:n,"obs-class:hidden":()=>r.todos.length===0},"Mark all as complete"),I("todo-list",{"prop:todos":r.todos})),I("footer",{class:"footer","obs-class:hidden":()=>r.todos.length===0},I("span",{class:"todo-count"},I(ml,{"obs-prop:data":()=>`${r.activeCount}
              item${r.activeCount===1?"":"s"} left!`})),I("ul",{class:"filters"},I("li",null,I("a",{href:"#/","obs-class:selected":()=>r.filter===et.SHOW_ALL},"All")),I("li",null,I("a",{href:"#/active","obs-class:selected":()=>r.filter===et.SHOW_ACTIVE},"Active")),I("li",null,I("a",{href:"#/completed","obs-class:selected":()=>r.filter===et.SHOW_COMPLETED},"Completed"))),I("button",{class:"clear-completed","obs-class:hidden":()=>r.completedCount===0,"on:click":()=>r.clearCompleted()},"Clear completed"))))}}customElements.define("todo-app",Qh);document.body.append(I("style",null,".hidden.hidden {display: none;}"));na({enforceActions:"never",computedRequiresReaction:!1,reactionRequiresObservable:!1,observableRequiresReaction:!1,disableErrorBoundaries:!1});mf({modelAutoTypeChecking:ct.AlwaysOff});const gn=new Je({todos:Ze(JSON.parse(localStorage.getItem("todos-mk")??"[]"))});Hf(gn.todos,e=>{localStorage.setItem("todos-mk",JSON.stringify(e))});{const e=new BroadcastChannel("todos-mk");let t=!1;kf(gn.todos,n=>{t||e.postMessage(n)}),e.onmessage=n=>{try{t=!0,zt(gn.todos,n.data)}finally{t=!1}}}{let e=function(){const{hash:t}=document.location;gn.setFilter(t==="#/active"?et.SHOW_ACTIVE:t==="#/completed"?et.SHOW_COMPLETED:et.SHOW_ALL)};window.addEventListener("hashchange",e),e()}document.getElementById("root").append(I("todo-app",{"prop:store":gn}));

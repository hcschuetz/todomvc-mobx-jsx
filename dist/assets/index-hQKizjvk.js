var wl=Object.defineProperty;var Ol=(e,t,n)=>t in e?wl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var lt=(e,t,n)=>(Ol(e,typeof t!="symbol"?t+"":t,n),n),Sl=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var Et=(e,t,n)=>(Sl(e,t,"read from private field"),n?n.call(e):t.get(e)),Wr=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function A(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var Al={};function jo(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:Al}var bi=Object.assign,Zn=Object.getOwnPropertyDescriptor,je=Object.defineProperty,Sn=Object.prototype,oo=[];Object.freeze(oo);var Do={};Object.freeze(Do);var Tl=typeof Proxy<"u",Cl=Object.toString();function gi(){Tl||A("Proxy not available")}function wi(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Dt=function(){};function de(e){return typeof e=="function"}function ht(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function br(e){return e!==null&&typeof e=="object"}function Le(e){if(!br(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===Cl}function Oi(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function An(e,t,n){je(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Si(e,t,n){je(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function st(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return br(r)&&r[n]===!0}}function Xt(e){return e instanceof Map}function Tn(e){return e instanceof Set}var Ai=typeof Object.getOwnPropertySymbols<"u";function Pl(e){var t=Object.keys(e);if(!Ai)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return Sn.propertyIsEnumerable.call(e,r)})):t}var Vt=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Ai?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Ti(e){return e===null?null:typeof e=="object"?""+e:e}function Ve(e,t){return Sn.hasOwnProperty.call(e,t)}var Il=Object.getOwnPropertyDescriptors||function(t){var n={};return Vt(t).forEach(function(r){n[r]=Zn(t,r)}),n};function ws(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xl(r.key),r)}}function Ro(e,t,n){return t&&ws(e.prototype,t),n&&ws(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt.apply(this,arguments)}function Ci(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,so(e,t)}function so(e,t){return so=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},so(e,t)}function Kr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kl(e,t){if(e){if(typeof e=="string")return Os(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Os(e,t)}}function Os(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rt(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=kl(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function El(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xl(e){var t=El(e,"string");return typeof t=="symbol"?t:String(t)}var xe=Symbol("mobx-stored-annotations");function we(e){function t(n,r){if(Cn(r))return e.decorate_20223_(n,r);Yt(n,r,e)}return Object.assign(t,e)}function Yt(e,t,n){Ve(e,xe)||An(e,xe,tt({},e[xe])),Ll(n)||(e[xe][t]=n)}function jl(e){return Ve(e,xe)||An(e,xe,tt({},e[xe])),e[xe]}function Cn(e){return typeof e=="object"&&typeof e.kind=="string"}var O=Symbol("mobx administration"),Pn=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=E.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return zi(this)},t.reportChanged=function(){ae(),Hi(this),le()},t.toString=function(){return this.name_},e}(),Mo=st("Atom",Pn);function Be(e,t,n){t===void 0&&(t=Dt),n===void 0&&(n=Dt);var r=new Pn(e);return t!==Dt&&ta(r,t),n!==Dt&&Bo(r,n),r}function Dl(e,t){return e===t}function Rl(e,t){return Jo(e,t)}function Ml(e,t){return Jo(e,t,1)}function Nl(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var pt={identity:Dl,structural:Rl,default:Nl,shallow:Ml};function vt(e,t,n){return Ue(e)?e:Array.isArray(e)?I.array(e,{name:n}):Le(e)?I.object(e,void 0,{name:n}):Xt(e)?I.map(e,{name:n}):Tn(e)?I.set(e,{name:n}):typeof e=="function"&&!Qt(e)&&!Ut(e)?Oi(e)?yt(e):Lt(n,e):e}function $l(e,t,n){if(e==null||F(e)||Y(e)||G(e)||ne(e))return e;if(Array.isArray(e))return I.array(e,{name:n,deep:!1});if(Le(e))return I.object(e,void 0,{name:n,deep:!1});if(Xt(e))return I.map(e,{name:n,deep:!1});if(Tn(e))return I.set(e,{name:n,deep:!1})}function gr(e){return e}function Vl(e,t){return Jo(e,t)?t:e}var Pi="override",Fl=we({annotationType_:Pi,make_:Bl,extend_:Ul,decorate_20223_:Gl});function Ll(e){return e.annotationType_===Pi}function Bl(e,t){return 0}function Ul(e,t,n,r){A("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function Gl(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function In(e,t){return{annotationType_:e,options_:t,make_:Wl,extend_:Kl,decorate_20223_:zl}}function Wl(e,t,n,r){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(Qt(n.value))return 1;var s=Ii(e,this,t,n,!1);return je(r,t,s),2}function Kl(e,t,n,r){var o=Ii(e,this,t,n);return e.defineProperty_(t,o,r)}function zl(e,t){var n=t.kind,r=t.name,o=t.addInitializer,s=this,i=function(c){var u,f,d,h;return nt((u=(f=s.options_)==null?void 0:f.name)!=null?u:r.toString(),c,(d=(h=s.options_)==null?void 0:h.autoAction)!=null?d:!1)};if(n=="field"){o(function(){Yt(this,r,s)});return}if(n=="method"){var a;return Qt(e)||(e=i(e)),(a=this.options_)!=null&&a.bound&&o(function(){var l=this,c=l[r].bind(l);c.isMobxAction=!0,l[r]=c}),e}A("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function Hl(e,t,n,r){t.annotationType_,r.value}function Ii(e,t,n,r,o){var s,i,a,l,c,u,f;o===void 0&&(o=y.safeDescriptors),Hl(e,t,n,r);var d=r.value;if((s=t.options_)!=null&&s.bound){var h;d=d.bind((h=e.proxy_)!=null?h:e.target_)}return{value:nt((i=(a=t.options_)==null?void 0:a.name)!=null?i:n.toString(),d,(l=(c=t.options_)==null?void 0:c.autoAction)!=null?l:!1,(u=t.options_)!=null&&u.bound?(f=e.proxy_)!=null?f:e.target_:void 0),configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function ki(e,t){return{annotationType_:e,options_:t,make_:ql,extend_:Jl,decorate_20223_:Xl}}function ql(e,t,n,r){var o;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!Ve(e.target_,t)||!Ut(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(Ut(n.value))return 1;var s=Ei(e,this,t,n,!1,!1);return je(r,t,s),2}function Jl(e,t,n,r){var o,s=Ei(e,this,t,n,(o=this.options_)==null?void 0:o.bound);return e.defineProperty_(t,s,r)}function Xl(e,t){var n,r=t.name,o=t.addInitializer;return Ut(e)||(e=yt(e)),(n=this.options_)!=null&&n.bound&&o(function(){var s=this,i=s[r].bind(s);i.isMobXFlow=!0,s[r]=i}),e}function Yl(e,t,n,r){t.annotationType_,r.value}function Ei(e,t,n,r,o,s){s===void 0&&(s=y.safeDescriptors),Yl(e,t,n,r);var i=r.value;if(Ut(i)||(i=yt(i)),o){var a;i=i.bind((a=e.proxy_)!=null?a:e.target_),i.isMobXFlow=!0}return{value:i,configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function No(e,t){return{annotationType_:e,options_:t,make_:Ql,extend_:Zl,decorate_20223_:eu}}function Ql(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function Zl(e,t,n,r){return tu(e,this,t,n),e.defineComputedProperty_(t,tt({},this.options_,{get:n.get,set:n.set}),r)}function eu(e,t){var n=this,r=t.name,o=t.addInitializer;return o(function(){var s=It(this)[O],i=tt({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),s.values_.set(r,new Ft(i))}),function(){return this[O].getObservablePropValue_(r)}}function tu(e,t,n,r){t.annotationType_,r.get}function wr(e,t){return{annotationType_:e,options_:t,make_:nu,extend_:ru,decorate_20223_:ou}}function nu(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function ru(e,t,n,r){var o,s;return su(e,this),e.defineObservableProperty_(t,n.value,(o=(s=this.options_)==null?void 0:s.enhancer)!=null?o:vt,r)}function ou(e,t){var n=this,r=t.kind,o=t.name,s=new WeakSet;function i(a,l){var c,u,f=It(a)[O],d=new Qe(l,(c=(u=n.options_)==null?void 0:u.enhancer)!=null?c:vt,"ObservableObject."+o.toString(),!1);f.values_.set(o,d),s.add(a)}if(r=="accessor")return{get:function(){return s.has(this)||i(this,e.get.call(this)),this[O].getObservablePropValue_(o)},set:function(l){return s.has(this)||i(this,l),this[O].setObservablePropValue_(o,l)},init:function(l){return s.has(this)||i(this,l),l}}}function su(e,t,n,r){t.annotationType_}var iu="true",au=xi();function xi(e){return{annotationType_:iu,options_:e,make_:lu,extend_:uu,decorate_20223_:cu}}function lu(e,t,n,r){var o,s;if(n.get)return N.make_(e,t,n,r);if(n.set){var i=nt(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:y.safeDescriptors?e.isPlainObject_:!0,set:i})===null?0:2:(je(r,t,{configurable:!0,set:i}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(Oi(n.value)){var l,c=(l=this.options_)!=null&&l.autoBind?yt.bound:yt;return c.make_(e,t,n,r)}var u=(a=this.options_)!=null&&a.autoBind?Lt.bound:Lt;return u.make_(e,t,n,r)}var f=((o=this.options_)==null?void 0:o.deep)===!1?I.ref:I;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var d;n.value=n.value.bind((d=e.proxy_)!=null?d:e.target_)}return f.make_(e,t,n,r)}function uu(e,t,n,r){var o,s;if(n.get)return N.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:y.safeDescriptors?e.isPlainObject_:!0,set:nt(t.toString(),n.set)},r);if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var i;n.value=n.value.bind((i=e.proxy_)!=null?i:e.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?I.ref:I;return a.extend_(e,t,n,r)}function cu(e,t){A("'"+this.annotationType_+"' cannot be used as a decorator")}var fu="observable",du="observable.ref",hu="observable.shallow",pu="observable.struct",ji={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(ji);function Vn(e){return e||ji}var io=wr(fu),vu=wr(du,{enhancer:gr}),mu=wr(hu,{enhancer:$l}),yu=wr(pu,{enhancer:Vl}),Di=we(io);function Fn(e){return e.deep===!0?vt:e.deep===!1?gr:bu(e.defaultDecorator)}function _u(e){var t;return e?(t=e.defaultDecorator)!=null?t:xi(e):void 0}function bu(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:vt}function Ri(e,t,n){if(Cn(t))return io.decorate_20223_(e,t);if(ht(t)){Yt(e,t,io);return}return Ue(e)?e:Le(e)?I.object(e,t,n):Array.isArray(e)?I.array(e,t):Xt(e)?I.map(e,t):Tn(e)?I.set(e,t):typeof e=="object"&&e!==null?e:I.box(e,t)}bi(Ri,Di);var gu={box:function(t,n){var r=Vn(n);return new Qe(t,Fn(r),r.name,!0,r.equals)},array:function(t,n){var r=Vn(n);return(y.useProxies===!1||r.proxy===!1?xc:wc)(t,Fn(r),r.name)},map:function(t,n){var r=Vn(n);return new zo(t,Fn(r),r.name)},set:function(t,n){var r=Vn(n);return new Ho(t,Fn(r),r.name)},object:function(t,n,r){return it(function(){return Uo(y.useProxies===!1||(r==null?void 0:r.proxy)===!1?It({},r):mc({},r),t,n)})},ref:we(vu),shallow:we(mu),deep:Di,struct:we(yu)},I=bi(Ri,gu),Mi="computed",wu="computed.struct",ao=No(Mi),Ou=No(wu,{equals:pt.structural}),N=function(t,n){if(Cn(n))return ao.decorate_20223_(t,n);if(ht(n))return Yt(t,n,ao);if(Le(t))return we(No(Mi,t));var r=Le(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new Ft(r)};Object.assign(N,ao);N.struct=we(Ou);var Ss,As,er=0,Su=1,Au=(Ss=(As=Zn(function(){},"name"))==null?void 0:As.configurable)!=null?Ss:!1,Ts={value:"action",configurable:!0,writable:!1,enumerable:!1};function nt(e,t,n,r){n===void 0&&(n=!1);function o(){return Ni(e,n,t,r||this,arguments)}return o.isMobxAction=!0,o.toString=function(){return t.toString()},Au&&(Ts.value=e,je(o,"name",Ts)),o}function Ni(e,t,n,r,o){var s=$i(e,t);try{return n.apply(r,o)}catch(i){throw s.error_=i,i}finally{Vi(s)}}function $i(e,t,n,r){var o=!1,s=0,i=y.trackingDerivation,a=!t||!i;ae();var l=y.allowStateChanges;a&&(Ct(),l=Or(!0));var c=Ar(!0),u={runAsAction_:a,prevDerivation_:i,prevAllowStateChanges_:l,prevAllowStateReads_:c,notifySpy_:o,startTime_:s,actionId_:Su++,parentActionId_:er};return er=u.actionId_,u}function Vi(e){er!==e.actionId_&&A(30),er=e.parentActionId_,e.error_!==void 0&&(y.suppressReactionErrors=!0),Sr(e.prevAllowStateChanges_),Mt(e.prevAllowStateReads_),le(),e.runAsAction_&&Fe(e.prevDerivation_),y.suppressReactionErrors=!1}function $o(e,t){var n=Or(e);try{return t()}finally{Sr(n)}}function Or(e){var t=y.allowStateChanges;return y.allowStateChanges=e,t}function Sr(e){y.allowStateChanges=e}var Fi;Fi=Symbol.toPrimitive;var Qe=function(e){Ci(t,e);function t(r,o,s,i,a){var l;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=pt.default),l=e.call(this,s)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=o,l.name_=s,l.equals=a,l.value_=o(r,void 0,s),l}var n=t.prototype;return n.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},n.set=function(o){this.value_,o=this.prepareNewValue_(o),o!==y.UNCHANGED&&this.setNewValue_(o)},n.prepareNewValue_=function(o){if(me(this)){var s=ye(this,{object:this,type:De,newValue:o});if(!s)return y.UNCHANGED;o=s.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?y.UNCHANGED:o},n.setNewValue_=function(o){var s=this.value_;this.value_=o,this.reportChanged(),Oe(this)&&Se(this,{type:De,object:this,newValue:o,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(o){return kn(this,o)},n.observe_=function(o,s){return s&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:De,newValue:this.value_,oldValue:void 0}),En(this,o)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return Ti(this.get())},n[Fi]=function(){return this.valueOf()},t}(Pn),Vo=st("ObservableValue",Qe),Li;Li=Symbol.toPrimitive;var Ft=function(){function e(n){this.dependenciesState_=E.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=E.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new nr(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=tr.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||A(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=nt("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?pt.structural:pt.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){Mu(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing_&&A(32,this.name_,this.derivation),y.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)lo(this)&&(this.warnAboutUntrackedRead_(),ae(),this.value_=this.computeValue_(!1),le());else if(zi(this),lo(this)){var r=y.trackingContext;this.keepAlive_&&!r&&(y.trackingContext=this),this.trackAndCompute()&&Ru(this),y.trackingContext=r}var o=this.value_;if(zn(o))throw o.cause;return o},t.set=function(r){if(this.setter_){this.isRunningSetter_&&A(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter_=!1}}else A(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===E.NOT_TRACKING_,s=this.computeValue_(!0),i=o||zn(r)||zn(s)||!this.equals_(r,s);return i&&(this.value_=s),i},t.computeValue_=function(r){this.isComputing_=!0;var o=Or(!1),s;if(r)s=Bi(this,this.derivation,this.scope_);else if(y.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(i){s=new nr(i)}return Sr(o),this.isComputing_=!1,s},t.suspend_=function(){this.keepAlive_||(uo(this),this.value_=void 0)},t.observe_=function(r,o){var s=this,i=!0,a=void 0;return Lo(function(){var l=s.get();if(!i||o){var c=Ct();r({observableKind:"computed",debugObjectName:s.name_,type:De,object:s,newValue:l,oldValue:a}),Fe(c)}i=!1,a=l})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Ti(this.get())},t[Li]=function(){return this.valueOf()},e}(),mt=st("ComputedValue",Ft),E;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(E||(E={}));var tr;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(tr||(tr={}));var nr=function(t){this.cause=void 0,this.cause=t};function zn(e){return e instanceof nr}function lo(e){switch(e.dependenciesState_){case E.UP_TO_DATE_:return!1;case E.NOT_TRACKING_:case E.STALE_:return!0;case E.POSSIBLY_STALE_:{for(var t=Ar(!0),n=Ct(),r=e.observing_,o=r.length,s=0;s<o;s++){var i=r[s];if(mt(i)){if(y.disableErrorBoundaries)i.get();else try{i.get()}catch{return Fe(n),Mt(t),!0}if(e.dependenciesState_===E.STALE_)return Fe(n),Mt(t),!0}}return Ui(e),Fe(n),Mt(t),!1}}}function Tu(){return y.trackingDerivation!==null}function Bi(e,t,n){var r=Ar(!0);Ui(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++y.runId;var o=y.trackingDerivation;y.trackingDerivation=e,y.inBatch++;var s;if(y.disableErrorBoundaries===!0)s=t.call(n);else try{s=t.call(n)}catch(i){s=new nr(i)}return y.inBatch--,y.trackingDerivation=o,Cu(e),Mt(r),s}function Cu(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=E.UP_TO_DATE_,o=0,s=e.unboundDepsCount_,i=0;i<s;i++){var a=n[i];a.diffValue_===0&&(a.diffValue_=1,o!==i&&(n[o]=a),o++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=o,e.newObserving_=null,s=t.length;s--;){var l=t[s];l.diffValue_===0&&Wi(l,e),l.diffValue_=0}for(;o--;){var c=n[o];c.diffValue_===1&&(c.diffValue_=0,Du(c,e))}r!==E.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function uo(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Wi(t[n],e);e.dependenciesState_=E.NOT_TRACKING_}function Fo(e){var t=Ct();try{return e()}finally{Fe(t)}}function Ct(){var e=y.trackingDerivation;return y.trackingDerivation=null,e}function Fe(e){y.trackingDerivation=e}function Ar(e){var t=y.allowStateReads;return y.allowStateReads=e,t}function Mt(e){y.allowStateReads=e}function Ui(e){if(e.dependenciesState_!==E.UP_TO_DATE_){e.dependenciesState_=E.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=E.UP_TO_DATE_}}var Pu=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],cn=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Hn=!0,Gi=!1,y=function(){var e=jo();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Hn=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new cn().version&&(Hn=!1),Hn?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new cn):(setTimeout(function(){Gi||A(35)},1),new cn)}();function Iu(){if((y.pendingReactions.length||y.inBatch||y.isRunningReactions)&&A(36),Gi=!0,Hn){var e=jo();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),y=new cn}}function ku(){return y}function Eu(){var e=new cn;for(var t in e)Pu.indexOf(t)===-1&&(y[t]=e[t]);y.allowStateChanges=!y.enforceActions}function xu(e){return e.observers_&&e.observers_.size>0}function ju(e){return e.observers_}function Du(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Wi(e,t){e.observers_.delete(t),e.observers_.size===0&&Ki(e)}function Ki(e){e.isPendingUnobservation_===!1&&(e.isPendingUnobservation_=!0,y.pendingUnobservations.push(e))}function ae(){y.inBatch++}function le(){if(--y.inBatch===0){qi();for(var e=y.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,n.observers_.size===0&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof Ft&&n.suspend_())}y.pendingUnobservations=[]}}function zi(e){var t=y.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&y.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(e.observers_.size===0&&y.inBatch>0&&Ki(e),!1)}function Hi(e){e.lowestObserverState_!==E.STALE_&&(e.lowestObserverState_=E.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===E.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=E.STALE_}))}function Ru(e){e.lowestObserverState_!==E.STALE_&&(e.lowestObserverState_=E.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===E.POSSIBLY_STALE_?t.dependenciesState_=E.STALE_:t.dependenciesState_===E.UP_TO_DATE_&&(e.lowestObserverState_=E.UP_TO_DATE_)}))}function Mu(e){e.lowestObserverState_===E.UP_TO_DATE_&&(e.lowestObserverState_=E.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===E.UP_TO_DATE_&&(t.dependenciesState_=E.POSSIBLY_STALE_,t.onBecomeStale_())}))}var vn=function(){function e(n,r,o,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=E.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=tr.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=s}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,y.pendingReactions.push(this),qi())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){ae(),this.isScheduled_=!1;var r=y.trackingContext;if(y.trackingContext=this,lo(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}y.trackingContext=r,le()}},t.track=function(r){if(!this.isDisposed_){ae(),this.isRunning_=!0;var o=y.trackingContext;y.trackingContext=this;var s=Bi(this,r,void 0);y.trackingContext=o,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&uo(this),zn(s)&&this.reportExceptionInDerivation_(s.cause),le()}},t.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(y.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";y.suppressReactionErrors||console.error(s,r),y.globalReactionErrorHandlers.forEach(function(i){return i(r,o)})},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(ae(),uo(this),le()))},t.getDisposer_=function(r){var o=this,s=function i(){o.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",i)};return r==null||r.addEventListener==null||r.addEventListener("abort",s),s[O]=this,s},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},e}();function Nu(e){return y.globalReactionErrorHandlers.push(e),function(){var t=y.globalReactionErrorHandlers.indexOf(e);t>=0&&y.globalReactionErrorHandlers.splice(t,1)}}var $u=100,co=function(t){return t()};function qi(){y.inBatch>0||y.isRunningReactions||co(Vu)}function Vu(){y.isRunningReactions=!0;for(var e=y.pendingReactions,t=0;e.length>0;){++t===$u&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}y.isRunningReactions=!1}var rr=st("Reaction",vn);function Fu(e){var t=co;co=function(r){return e(function(){return t(r)})}}function fn(){return!1}function Ji(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Xi="action",Lu="action.bound",Yi="autoAction",Bu="autoAction.bound",Qi="<unnamed action>",fo=In(Xi),Uu=In(Lu,{bound:!0}),ho=In(Yi,{autoAction:!0}),Gu=In(Bu,{autoAction:!0,bound:!0});function Zi(e){var t=function(r,o){if(de(r))return nt(r.name||Qi,r,e);if(de(o))return nt(r,o,e);if(Cn(o))return(e?ho:fo).decorate_20223_(r,o);if(ht(o))return Yt(r,o,e?ho:fo);if(ht(r))return we(In(e?Yi:Xi,{name:r,autoAction:e}))};return t}var S=Zi(!1);Object.assign(S,fo);var Lt=Zi(!0);Object.assign(Lt,ho);S.bound=we(Uu);Lt.bound=we(Gu);function po(e){return Ni(e.name||Qi,!1,e,this,void 0)}function Qt(e){return de(e)&&e.isMobxAction===!0}function Lo(e,t){var n,r,o,s,i;t===void 0&&(t=Do);var a=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",l=!t.scheduler&&!t.delay,c;if(l)c=new vn(a,function(){this.track(d)},t.onError,t.requiresObservable);else{var u=ea(t),f=!1;c=new vn(a,function(){f||(f=!0,u(function(){f=!1,c.isDisposed_||c.track(d)}))},t.onError,t.requiresObservable)}function d(){e(c)}return(o=t)!=null&&(s=o.signal)!=null&&s.aborted||c.schedule_(),c.getDisposer_((i=t)==null?void 0:i.signal)}var Wu=function(t){return t()};function ea(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Wu}function Bt(e,t,n){var r,o,s,i;n===void 0&&(n=Do);var a=(r=n.name)!=null?r:"Reaction",l=S(a,n.onError?Ku(n.onError,t):t),c=!n.scheduler&&!n.delay,u=ea(n),f=!0,d=!1,h,v,m=n.compareStructural?pt.structural:n.equals||pt.default,w=new vn(a,function(){f||c?j():d||(d=!0,u(j))},n.onError,n.requiresObservable);function j(){if(d=!1,!w.isDisposed_){var x=!1;w.track(function(){var g=$o(!1,function(){return e(w)});x=f||!m(h,g),v=h,h=g}),(f&&n.fireImmediately||!f&&x)&&l(h,v,w),f=!1}}return(o=n)!=null&&(s=o.signal)!=null&&s.aborted||w.schedule_(),w.getDisposer_((i=n)==null?void 0:i.signal)}function Ku(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var zu="onBO",Hu="onBUO";function ta(e,t,n){return na(zu,e,t,n)}function Bo(e,t,n){return na(Hu,e,t,n)}function na(e,t,n,r){var o=typeof r=="function"?Ge(t,n):Ge(t),s=de(r)?r:n,i=e+"L";return o[i]?o[i].add(s):o[i]=new Set([s]),function(){var a=o[i];a&&(a.delete(s),a.size===0&&delete o[i])}}var qu="never",Ln="always",Ju="observed";function ra(e){e.isolateGlobalState===!0&&Iu();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(y.useProxies=t===Ln?!0:t===qu?!1:typeof Proxy<"u"),t==="ifavailable"&&(y.verifyProxies=!0),n!==void 0){var r=n===Ln?Ln:n===Ju;y.enforceActions=r,y.allowStateChanges=!(r===!0||r===Ln)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in e&&(y[o]=!!e[o])}),y.allowStateReads=!y.observableRequiresReaction,e.reactionScheduler&&Fu(e.reactionScheduler)}function Uo(e,t,n,r){var o=Il(t);return it(function(){var s=It(e,r)[O];Vt(o).forEach(function(i){s.extend_(i,o[i],n&&i in n?n[i]:!0)})}),e}function Xu(e,t){return oa(Ge(e,t))}function oa(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=Qu(e.observing_).map(oa)),t}function Yu(e,t){return sa(Ge(e,t))}function sa(e){var t={name:e.name_};return xu(e)&&(t.observers=Array.from(ju(e)).map(sa)),t}function Qu(e){return Array.from(new Set(e))}var Zu=0;function Tr(){this.message="FLOW_CANCELLED"}Tr.prototype=Object.create(Error.prototype);function ec(e){return e instanceof Tr}var zr=ki("flow"),tc=ki("flow.bound",{bound:!0}),yt=Object.assign(function(t,n){if(Cn(n))return zr.decorate_20223_(t,n);if(ht(n))return Yt(t,n,zr);var r=t,o=r.name||"<unnamed flow>",s=function(){var a=this,l=arguments,c=++Zu,u=S(o+" - runid: "+c+" - init",r).apply(a,l),f,d=void 0,h=new Promise(function(v,m){var w=0;f=m;function j(_){d=void 0;var C;try{C=S(o+" - runid: "+c+" - yield "+w++,u.next).call(u,_)}catch(D){return m(D)}g(C)}function x(_){d=void 0;var C;try{C=S(o+" - runid: "+c+" - yield "+w++,u.throw).call(u,_)}catch(D){return m(D)}g(C)}function g(_){if(de(_==null?void 0:_.then)){_.then(g,m);return}return _.done?v(_.value):(d=Promise.resolve(_.value),d.then(j,x))}j(void 0)});return h.cancel=S(o+" - runid: "+c+" - cancel",function(){try{d&&Cs(d);var v=u.return(void 0),m=Promise.resolve(v.value);m.then(Dt,Dt),Cs(m),f(new Tr)}catch(w){f(w)}}),h};return s.isMobXFlow=!0,s},zr);yt.bound=we(tc);function Cs(e){de(e.cancel)&&e.cancel()}function nc(e){return e}function Ut(e){return(e==null?void 0:e.isMobXFlow)===!0}function rc(e,t,n){var r;return G(e)||Y(e)||Vo(e)?r=We(e):F(e)&&(r=We(e,t)),r.dehancer=typeof t=="function"?t:n,function(){r.dehancer=void 0}}function Zt(e,t,n){return de(n)?sc(e,t,n):oc(e,t)}function oc(e,t){return We(e).intercept_(t)}function sc(e,t,n){return We(e,t).intercept_(n)}function ia(e,t){if(t===void 0)return mt(e);if(F(e)===!1||!e[O].values_.has(t))return!1;var n=Ge(e,t);return mt(n)}function ic(e){return ia(e)}function ac(e,t){return ia(e,t)}function aa(e,t){return e?t!==void 0?F(e)?e[O].values_.has(t):!1:F(e)||!!e[O]||Mo(e)||rr(e)||mt(e):!1}function Ue(e){return aa(e)}function lc(e,t){return aa(e,t)}function _t(e){if(F(e))return e[O].keys_();if(G(e)||ne(e))return Array.from(e.keys());if(Y(e))return e.map(function(t,n){return n});A(5)}function Go(e){if(F(e))return _t(e).map(function(t){return e[t]});if(G(e))return _t(e).map(function(t){return e.get(t)});if(ne(e))return Array.from(e.values());if(Y(e))return e.slice();A(6)}function la(e){if(F(e))return _t(e).map(function(t){return[t,e[t]]});if(G(e))return _t(e).map(function(t){return[t,e.get(t)]});if(ne(e))return Array.from(e.entries());if(Y(e))return e.map(function(t,n){return[n,t]});A(7)}function rt(e,t,n){if(arguments.length===2&&!ne(e)){ae();var r=t;try{for(var o in r)rt(e,o,r[o])}finally{le()}return}F(e)?e[O].set_(t,n):G(e)?e.set(t,n):ne(e)?e.add(t):Y(e)?(typeof t!="number"&&(t=parseInt(t,10)),t<0&&A("Invalid index: '"+t+"'"),ae(),t>=e.length&&(e.length=t+1),e[t]=n,le()):A(8)}function Ae(e,t){F(e)?e[O].delete_(t):G(e)||ne(e)?e.delete(t):Y(e)?(typeof t!="number"&&(t=parseInt(t,10)),e.splice(t,1)):A(9)}function Wo(e,t){if(F(e))return e[O].has_(t);if(G(e))return e.has(t);if(ne(e))return e.has(t);if(Y(e))return t>=0&&t<e.length;A(10)}function ua(e,t){if(Wo(e,t)){if(F(e))return e[O].get_(t);if(G(e))return e.get(t);if(Y(e))return e[t];A(11)}}function uc(e,t,n){if(F(e))return e[O].defineProperty_(t,n);A(39)}function ca(e){if(F(e))return e[O].ownKeys_();A(38)}function Pt(e,t,n,r){return de(n)?fc(e,t,n,r):cc(e,t,n)}function cc(e,t,n){return We(e).observe_(t,n)}function fc(e,t,n,r){return We(e,t).observe_(n,r)}function Bn(e,t,n){return e.set(t,n),n}function jt(e,t){if(e==null||typeof e!="object"||e instanceof Date||!Ue(e))return e;if(Vo(e)||mt(e))return jt(e.get(),t);if(t.has(e))return t.get(e);if(Y(e)){var n=Bn(t,e,new Array(e.length));return e.forEach(function(i,a){n[a]=jt(i,t)}),n}if(ne(e)){var r=Bn(t,e,new Set);return e.forEach(function(i){r.add(jt(i,t))}),r}if(G(e)){var o=Bn(t,e,new Map);return e.forEach(function(i,a){o.set(a,jt(i,t))}),o}else{var s=Bn(t,e,{});return ca(e).forEach(function(i){Sn.propertyIsEnumerable.call(e,i)&&(s[i]=jt(e[i],t))}),s}}function vo(e,t){return jt(e,new Map)}function dc(){}function Ee(e,t){t===void 0&&(t=void 0),ae();try{return e.apply(t)}finally{le()}}function hc(e,t,n){return arguments.length===1||t&&typeof t=="object"?pc(e,t):fa(e,t,n||{})}function fa(e,t,n){var r;if(typeof n.timeout=="number"){var o=new Error("WHEN_TIMEOUT");r=setTimeout(function(){if(!i[O].isDisposed_)if(i(),n.onError)n.onError(o);else throw o},n.timeout)}n.name="When";var s=nt("When-effect",t),i=Lo(function(a){var l=$o(!1,e);l&&(a.dispose(),r&&clearTimeout(r),s())},n);return i}function pc(e,t){var n;if(t!=null&&(n=t.signal)!=null&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var r,o,s=new Promise(function(i,a){var l,c=fa(e,i,tt({},t,{onError:a}));r=function(){c(),a(new Error("WHEN_CANCELLED"))},o=function(){c(),a(new Error("WHEN_ABORTED"))},t==null||(l=t.signal)==null||l.addEventListener==null||l.addEventListener("abort",o)}).finally(function(){var i;return t==null||(i=t.signal)==null||i.removeEventListener==null?void 0:i.removeEventListener("abort",o)});return s.cancel=r,s}function xt(e){return e[O]}var vc={has:function(t,n){return xt(t).has_(n)},get:function(t,n){return xt(t).get_(n)},set:function(t,n,r){var o;return ht(n)?(o=xt(t).set_(n,r,!0))!=null?o:!0:!1},deleteProperty:function(t,n){var r;return ht(n)?(r=xt(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var o;return(o=xt(t).defineProperty_(n,r))!=null?o:!0},ownKeys:function(t){return xt(t).ownKeys_()},preventExtensions:function(t){A(13)}};function mc(e,t){var n,r;return gi(),e=It(e,t),(r=(n=e[O]).proxy_)!=null?r:n.proxy_=new Proxy(e,vc)}function me(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function kn(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),wi(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function ye(e,t){var n=Ct();try{for(var r=[].concat(e.interceptors_||[]),o=0,s=r.length;o<s&&(t=r[o](t),t&&!t.type&&A(14),!!t);o++);return t}finally{Fe(n)}}function Oe(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function En(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),wi(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Se(e,t){var n=Ct(),r=e.changeListeners_;if(r){r=r.slice();for(var o=0,s=r.length;o<s;o++)r[o](t);Fe(n)}}function yc(e,t,n){return it(function(){var r,o=It(e,n)[O];(r=t)!=null||(t=jl(e)),Vt(t).forEach(function(s){return o.make_(s,t[s])})}),e}var Hr=Symbol("mobx-keys");function _c(e,t,n){return Le(e)?Uo(e,e,t,n):(it(function(){var r=It(e,n)[O];if(!e[Hr]){var o=Object.getPrototypeOf(e),s=new Set([].concat(Vt(e),Vt(o)));s.delete("constructor"),s.delete(O),An(o,Hr,s)}e[Hr].forEach(function(i){return r.make_(i,t&&i in t?t[i]:!0)})}),e)}var Ps="splice",De="update",bc=1e4,gc={get:function(t,n){var r=t[O];return n===O?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Ve(or,n)?or[n]:t[n]},set:function(t,n,r){var o=t[O];return n==="length"&&o.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function(){A(15)}},Ko=function(){function e(n,r,o,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=s,this.atom_=new Pn(n),this.enhancer_=function(i,a){return r(i,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return kn(this,r)},t.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),En(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&A("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var s=new Array(r-o),i=0;i<r-o;i++)s[i]=void 0;this.spliceWithArray_(o,0,s)}else this.spliceWithArray_(r,o-r)},t.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&A(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&ga(r+o+1)},t.spliceWithArray_=function(r,o,s){var i=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?o=a-r:o==null?o=0:o=Math.max(0,Math.min(o,a-r)),s===void 0&&(s=oo),me(this)){var l=ye(this,{object:this.proxy_,type:Ps,index:r,removedCount:o,added:s});if(!l)return oo;o=l.removedCount,s=l.added}if(s=s.length===0?s:s.map(function(f){return i.enhancer_(f,void 0)}),this.legacyMode_){var c=s.length-o;this.updateArrayLength_(a,c)}var u=this.spliceItemsIntoValues_(r,o,s);return(o!==0||s.length!==0)&&this.notifyArraySplice_(r,s,u),this.dehanceValues_(u)},t.spliceItemsIntoValues_=function(r,o,s){if(s.length<bc){var i;return(i=this.values_).splice.apply(i,[r,o].concat(s))}else{var a=this.values_.slice(r,r+o),l=this.values_.slice(r+o);this.values_.length+=s.length-o;for(var c=0;c<s.length;c++)this.values_[r+c]=s[c];for(var u=0;u<l.length;u++)this.values_[r+s.length+u]=l[u];return a}},t.notifyArrayChildUpdate_=function(r,o,s){var i=!this.owned_&&fn(),a=Oe(this),l=a||i?{observableKind:"array",object:this.proxy_,type:De,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:s}:null;this.atom_.reportChanged(),a&&Se(this,l)},t.notifyArraySplice_=function(r,o,s){var i=!this.owned_&&fn(),a=Oe(this),l=a||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Ps,index:r,removed:s,added:o,removedCount:s.length,addedCount:o.length}:null;this.atom_.reportChanged(),a&&Se(this,l)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,o){var s=this.values_;if(this.legacyMode_&&r>s.length&&A(17,r,s.length),r<s.length){this.atom_;var i=s[r];if(me(this)){var a=ye(this,{type:De,object:this.proxy_,index:r,newValue:o});if(!a)return;o=a.newValue}o=this.enhancer_(o,i);var l=o!==i;l&&(s[r]=o,this.notifyArrayChildUpdate_(r,o,i))}else{for(var c=new Array(r+1-s.length),u=0;u<c.length-1;u++)c[u]=void 0;c[c.length-1]=o,this.spliceWithArray_(s.length,0,c)}},e}();function wc(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),gi(),it(function(){var o=new Ko(n,t,r,!1);Si(o.values_,O,o);var s=new Proxy(o.values_,gc);return o.proxy_=s,e&&e.length&&o.spliceWithArray_(0,0,e),s})}var or={clear:function(){return this.splice(0)},replace:function(t){var n=this[O];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];var i=this[O];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray_(t);case 2:return i.spliceWithArray_(t,n)}return i.spliceWithArray_(t,n,o)},spliceWithArray:function(t,n,r){return this[O].spliceWithArray_(t,n,r)},push:function(){for(var t=this[O],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[O].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[O],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return y.trackingDerivation&&A(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){y.trackingDerivation&&A(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[O],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};R("at",pe);R("concat",pe);R("flat",pe);R("includes",pe);R("indexOf",pe);R("join",pe);R("lastIndexOf",pe);R("slice",pe);R("toString",pe);R("toLocaleString",pe);R("toSorted",pe);R("toSpliced",pe);R("with",pe);R("every",Pe);R("filter",Pe);R("find",Pe);R("findIndex",Pe);R("findLast",Pe);R("findLastIndex",Pe);R("flatMap",Pe);R("forEach",Pe);R("map",Pe);R("some",Pe);R("toReversed",Pe);R("reduce",da);R("reduceRight",da);function R(e,t){typeof Array.prototype[e]=="function"&&(or[e]=t(e))}function pe(e){return function(){var t=this[O];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Pe(e){return function(t,n){var r=this,o=this[O];o.atom_.reportObserved();var s=o.dehanceValues_(o.values_);return s[e](function(i,a){return t.call(n,i,a,r)})}}function da(e){return function(){var t=this,n=this[O];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(s,i,a){return o(s,i,a,t)},r[e].apply(r,arguments)}}var Oc=st("ObservableArrayAdministration",Ko);function Y(e){return br(e)&&Oc(e[O])}var ha,pa,Sc={},Ye="add",sr="delete";ha=Symbol.iterator;pa=Symbol.toStringTag;var zo=function(){function e(n,r,o){var s=this;r===void 0&&(r=vt),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[O]=Sc,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,de(Map)||A(18),it(function(){s.keysAtom_=Be("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var o=this;if(!y.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var i=s=new Qe(this.has_(r),gr,"ObservableMap.key?",!1);this.hasMap_.set(r,i),Bo(i,function(){return o.hasMap_.delete(r)})}return s.get()},t.set=function(r,o){var s=this.has_(r);if(me(this)){var i=ye(this,{type:s?De:Ye,object:this,newValue:o,name:r});if(!i)return this;o=i.newValue}return s?this.updateValue_(r,o):this.addValue_(r,o),this},t.delete=function(r){var o=this;if(this.keysAtom_,me(this)){var s=ye(this,{type:sr,object:this,name:r});if(!s)return!1}if(this.has_(r)){var i=fn(),a=Oe(this),l=a||i?{observableKind:"map",debugObjectName:this.name_,type:sr,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Ee(function(){var c;o.keysAtom_.reportChanged(),(c=o.hasMap_.get(r))==null||c.setNewValue_(!1);var u=o.data_.get(r);u.setNewValue_(void 0),o.data_.delete(r)}),a&&Se(this,l),!0}return!1},t.updateValue_=function(r,o){var s=this.data_.get(r);if(o=s.prepareNewValue_(o),o!==y.UNCHANGED){var i=fn(),a=Oe(this),l=a||i?{observableKind:"map",debugObjectName:this.name_,type:De,object:this,oldValue:s.value_,name:r,newValue:o}:null;s.setNewValue_(o),a&&Se(this,l)}},t.addValue_=function(r,o){var s=this;this.keysAtom_,Ee(function(){var c,u=new Qe(o,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,u),o=u.value_,(c=s.hasMap_.get(r))==null||c.setNewValue_(!0),s.keysAtom_.reportChanged()});var i=fn(),a=Oe(this),l=a||i?{observableKind:"map",debugObjectName:this.name_,type:Ye,object:this,name:r,newValue:o}:null;a&&Se(this,l)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,o=this.keys();return mn({next:function(){var i=o.next(),a=i.done,l=i.value;return{done:a,value:a?void 0:r.get(l)}}})},t.entries=function(){var r=this,o=this.keys();return mn({next:function(){var i=o.next(),a=i.done,l=i.value;return{done:a,value:a?void 0:[l,r.get(l)]}}})},t[ha]=function(){return this.entries()},t.forEach=function(r,o){for(var s=Rt(this),i;!(i=s()).done;){var a=i.value,l=a[0],c=a[1];r.call(o,c,l,this)}},t.merge=function(r){var o=this;return G(r)&&(r=new Map(r)),Ee(function(){Le(r)?Pl(r).forEach(function(s){return o.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var i=s[0],a=s[1];return o.set(i,a)}):Xt(r)?(r.constructor!==Map&&A(19,r),r.forEach(function(s,i){return o.set(i,s)})):r!=null&&A(20,r)}),this},t.clear=function(){var r=this;Ee(function(){Fo(function(){for(var o=Rt(r.keys()),s;!(s=o()).done;){var i=s.value;r.delete(i)}})})},t.replace=function(r){var o=this;return Ee(function(){for(var s=Ac(r),i=new Map,a=!1,l=Rt(o.data_.keys()),c;!(c=l()).done;){var u=c.value;if(!s.has(u)){var f=o.delete(u);if(f)a=!0;else{var d=o.data_.get(u);i.set(u,d)}}}for(var h=Rt(s.entries()),v;!(v=h()).done;){var m=v.value,w=m[0],j=m[1],x=o.data_.has(w);if(o.set(w,j),o.data_.has(w)){var g=o.data_.get(w);i.set(w,g),x||(a=!0)}}if(!a)if(o.data_.size!==i.size)o.keysAtom_.reportChanged();else for(var _=o.data_.keys(),C=i.keys(),D=_.next(),Z=C.next();!D.done;){if(D.value!==Z.value){o.keysAtom_.reportChanged();break}D=_.next(),Z=C.next()}o.data_=i}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,o){return En(this,r)},t.intercept_=function(r){return kn(this,r)},Ro(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:pa,get:function(){return"Map"}}]),e}(),G=st("ObservableMap",zo);function Ac(e){if(Xt(e)||G(e))return e;if(Array.isArray(e))return new Map(e);if(Le(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return A(21,e)}var va,ma,Tc={};va=Symbol.iterator;ma=Symbol.toStringTag;var Ho=function(){function e(n,r,o){var s=this;r===void 0&&(r=vt),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[O]=Tc,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,de(Set)||A(22),this.enhancer_=function(i,a){return r(i,a,o)},it(function(){s.atom_=Be(s.name_),n&&s.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Ee(function(){Fo(function(){for(var o=Rt(r.data_.values()),s;!(s=o()).done;){var i=s.value;r.delete(i)}})})},t.forEach=function(r,o){for(var s=Rt(this),i;!(i=s()).done;){var a=i.value;r.call(o,a,a,this)}},t.add=function(r){var o=this;if(this.atom_,me(this)){var s=ye(this,{type:Ye,object:this,newValue:r});if(!s)return this}if(!this.has(r)){Ee(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var i=!1,a=Oe(this),l=a||i?{observableKind:"set",debugObjectName:this.name_,type:Ye,object:this,newValue:r}:null;a&&Se(this,l)}return this},t.delete=function(r){var o=this;if(me(this)){var s=ye(this,{type:sr,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var i=!1,a=Oe(this),l=a||i?{observableKind:"set",debugObjectName:this.name_,type:sr,object:this,oldValue:r}:null;return Ee(function(){o.atom_.reportChanged(),o.data_.delete(r)}),a&&Se(this,l),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=0,o=Array.from(this.keys()),s=Array.from(this.values());return mn({next:function(){var a=r;return r+=1,a<s.length?{value:[o[a],s[a]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,o=0,s=Array.from(this.data_.values());return mn({next:function(){return o<s.length?{value:r.dehanceValue_(s[o++]),done:!1}:{done:!0}}})},t.replace=function(r){var o=this;return ne(r)&&(r=new Set(r)),Ee(function(){Array.isArray(r)?(o.clear(),r.forEach(function(s){return o.add(s)})):Tn(r)?(o.clear(),r.forEach(function(s){return o.add(s)})):r!=null&&A("Cannot initialize set from "+r)}),this},t.observe_=function(r,o){return En(this,r)},t.intercept_=function(r){return kn(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[va]=function(){return this.values()},Ro(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:ma,get:function(){return"Set"}}]),e}(),ne=st("ObservableSet",Ho),Is=Object.create(null),ks="remove",ya=function(){function e(n,r,o,s){r===void 0&&(r=new Map),s===void 0&&(s=au),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=o,this.defaultAnnotation_=s,this.keysAtom_=new Pn("ObservableObject.keys"),this.isPlainObject_=Le(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,o){var s=this.values_.get(r);if(s instanceof Ft)return s.set(o),!0;if(me(this)){var i=ye(this,{type:De,object:this.proxy_||this.target_,name:r,newValue:o});if(!i)return null;o=i.newValue}if(o=s.prepareNewValue_(o),o!==y.UNCHANGED){var a=Oe(this),l=!1,c=a||l?{type:De,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:o}:null;s.setNewValue_(o),a&&Se(this,c)}return!0},t.get_=function(r){return y.trackingDerivation&&!Ve(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,o,s){return s===void 0&&(s=!1),Ve(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):s?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},t.has_=function(r){if(!y.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new Qe(r in this.target_,gr,"ObservableObject.key?",!1),this.pendingKeys_.set(r,o)),o.get()},t.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(r in this.target_)){var s;if((s=this.target_[xe])!=null&&s[r])return;A(1,o.annotationType_,this.name_+"."+r.toString())}for(var i=this.target_;i&&i!==Sn;){var a=Zn(i,r);if(a){var l=o.make_(this,r,a,i);if(l===0)return;if(l===1)break}i=Object.getPrototypeOf(i)}xs(this,o,r)}},t.extend_=function(r,o,s,i){if(i===void 0&&(i=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,o,i);var a=s.extend_(this,r,o,i);return a&&xs(this,s,r),a},t.defineProperty_=function(r,o,s){s===void 0&&(s=!1),this.keysAtom_;try{ae();var i=this.delete_(r);if(!i)return i;if(me(this)){var a=ye(this,{object:this.proxy_||this.target_,name:r,type:Ye,newValue:o.value});if(!a)return null;var l=a.newValue;o.value!==l&&(o=tt({},o,{value:l}))}if(s){if(!Reflect.defineProperty(this.target_,r,o))return!1}else je(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{le()}return!0},t.defineObservableProperty_=function(r,o,s,i){i===void 0&&(i=!1),this.keysAtom_;try{ae();var a=this.delete_(r);if(!a)return a;if(me(this)){var l=ye(this,{object:this.proxy_||this.target_,name:r,type:Ye,newValue:o});if(!l)return null;o=l.newValue}var c=Es(r),u={configurable:y.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:c.get,set:c.set};if(i){if(!Reflect.defineProperty(this.target_,r,u))return!1}else je(this.target_,r,u);var f=new Qe(o,s,"ObservableObject.key",!1);this.values_.set(r,f),this.notifyPropertyAddition_(r,f.value_)}finally{le()}return!0},t.defineComputedProperty_=function(r,o,s){s===void 0&&(s=!1),this.keysAtom_;try{ae();var i=this.delete_(r);if(!i)return i;if(me(this)){var a=ye(this,{object:this.proxy_||this.target_,name:r,type:Ye,newValue:void 0});if(!a)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var l=Es(r),c={configurable:y.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(s){if(!Reflect.defineProperty(this.target_,r,c))return!1}else je(this.target_,r,c);this.values_.set(r,new Ft(o)),this.notifyPropertyAddition_(r,void 0)}finally{le()}return!0},t.delete_=function(r,o){if(o===void 0&&(o=!1),this.keysAtom_,!Ve(this.target_,r))return!0;if(me(this)){var s=ye(this,{object:this.proxy_||this.target_,name:r,type:ks});if(!s)return null}try{var i,a;ae();var l=Oe(this),c=!1,u=this.values_.get(r),f=void 0;if(!u&&(l||c)){var d;f=(d=Zn(this.target_,r))==null?void 0:d.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof Qe&&(f=u.value_),Hi(u)),this.keysAtom_.reportChanged(),(i=this.pendingKeys_)==null||(a=i.get(r))==null||a.set(r in this.target_),l||c){var h={type:ks,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:f,name:r};l&&Se(this,h)}}finally{le()}return!0},t.observe_=function(r,o){return En(this,r)},t.intercept_=function(r){return kn(this,r)},t.notifyPropertyAddition_=function(r,o){var s,i,a=Oe(this),l=!1;if(a||l){var c=a||l?{type:Ye,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;a&&Se(this,c)}(s=this.pendingKeys_)==null||(i=s.get(r))==null||i.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Vt(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function It(e,t){var n;if(Ve(e,O))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",o=new ya(e,new Map,String(r),_u(t));return An(e,O,o),e}var Cc=st("ObservableObjectAdministration",ya);function Es(e){return Is[e]||(Is[e]={get:function(){return this[O].getObservablePropValue_(e)},set:function(n){return this[O].setObservablePropValue_(e,n)}})}function F(e){return br(e)?Cc(e[O]):!1}function xs(e,t,n){var r;(r=e.target_[xe])==null||delete r[n]}var Pc=ba(0),Ic=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),qr=0,_a=function(){};function kc(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}kc(_a,Array.prototype);var qo=function(e,t,n){Ci(r,e);function r(s,i,a,l){var c;return a===void 0&&(a="ObservableArray"),l===void 0&&(l=!1),c=e.call(this)||this,it(function(){var u=new Ko(a,i,l,!0);u.proxy_=Kr(c),Si(Kr(c),O,u),s&&s.length&&c.spliceWithArray(0,0,s),Ic&&Object.defineProperty(Kr(c),"0",Pc)}),c}var o=r.prototype;return o.concat=function(){this[O].atom_.reportObserved();for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return Array.prototype.concat.apply(this.slice(),a.map(function(c){return Y(c)?c.slice():c}))},o[n]=function(){var s=this,i=0;return mn({next:function(){return i<s.length?{value:s[i++],done:!1}:{done:!0,value:void 0}}})},Ro(r,[{key:"length",get:function(){return this[O].getArrayLength_()},set:function(i){this[O].setArrayLength_(i)}},{key:t,get:function(){return"Array"}}]),r}(_a,Symbol.toStringTag,Symbol.iterator);Object.entries(or).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&An(qo.prototype,t,n)});function ba(e){return{enumerable:!1,configurable:!0,get:function(){return this[O].get_(e)},set:function(n){this[O].set_(e,n)}}}function Ec(e){je(qo.prototype,""+e,ba(e))}function ga(e){if(e>qr){for(var t=qr;t<e+100;t++)Ec(t);qr=e}}ga(1e3);function xc(e,t,n){return new qo(e,t,n)}function Ge(e,t){if(typeof e=="object"&&e!==null){if(Y(e))return t!==void 0&&A(23),e[O].atom_;if(ne(e))return e.atom_;if(G(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||A(25,t,ir(e)),n}if(F(e)){if(!t)return A(26);var r=e[O].values_.get(t);return r||A(27,t,ir(e)),r}if(Mo(e)||mt(e)||rr(e))return e}else if(de(e)&&rr(e[O]))return e[O];A(28)}function We(e,t){if(e||A(29),t!==void 0)return We(Ge(e,t));if(Mo(e)||mt(e)||rr(e)||G(e)||ne(e))return e;if(e[O])return e[O];A(24,e)}function ir(e,t){var n;if(t!==void 0)n=Ge(e,t);else{if(Qt(e))return e.name;F(e)||G(e)||ne(e)?n=We(e):n=Ge(e)}return n.name_}function it(e){var t=Ct(),n=Or(!0);ae();try{return e()}finally{le(),Sr(n),Fe(t)}}var js=Sn.toString;function Jo(e,t,n){return n===void 0&&(n=-1),mo(e,t,n)}function mo(e,t,n,r,o){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;if(s!=="function"&&s!=="object"&&typeof t!="object")return!1;var i=js.call(e);if(i!==js.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=Ds(e),t=Ds(t);var a=i==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(de(l)&&l instanceof l&&de(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],o=o||[];for(var u=r.length;u--;)if(r[u]===e)return o[u]===t;if(r.push(e),o.push(t),a){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!mo(e[u],t[u],n-1,r,o))return!1}else{var f=Object.keys(e),d;if(u=f.length,Object.keys(t).length!==u)return!1;for(;u--;)if(d=f[u],!(Ve(t,d)&&mo(e[d],t[d],n-1,r,o)))return!1}return r.pop(),o.pop(),!0}function Ds(e){return Y(e)?e.slice():Xt(e)||G(e)||Tn(e)||ne(e)?Array.from(e.entries()):e}function mn(e){return e[Symbol.iterator]=jc,e}function jc(){return this}["Symbol","Map","Set"].forEach(function(e){var t=jo();typeof t[e]>"u"&&A("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ji,extras:{getDebugName:ir},$mobx:O});const Dc=Object.freeze(Object.defineProperty({__proto__:null,$mobx:O,FlowCancellationError:Tr,ObservableMap:zo,ObservableSet:Ho,Reaction:vn,_allowStateChanges:$o,_allowStateChangesInsideComputed:po,_allowStateReadsEnd:Mt,_allowStateReadsStart:Ar,_autoAction:Lt,_endAction:Vi,_getAdministration:We,_getGlobalState:ku,_interceptReads:rc,_isComputingDerivation:Tu,_resetGlobalState:Eu,_startAction:$i,action:S,autorun:Lo,comparer:pt,computed:N,configure:ra,createAtom:Be,defineProperty:uc,entries:la,extendObservable:Uo,flow:yt,flowResult:nc,get:ua,getAtom:Ge,getDebugName:ir,getDependencyTree:Xu,getObserverTree:Yu,has:Wo,intercept:Zt,isAction:Qt,isBoxedObservable:Vo,isComputed:ic,isComputedProp:ac,isFlow:Ut,isFlowCancellationError:ec,isObservable:Ue,isObservableArray:Y,isObservableMap:G,isObservableObject:F,isObservableProp:lc,isObservableSet:ne,keys:_t,makeAutoObservable:_c,makeObservable:yc,observable:I,observe:Pt,onBecomeObserved:ta,onBecomeUnobserved:Bo,onReactionError:Nu,override:Fl,ownKeys:ca,reaction:Bt,remove:Ae,runInAction:po,set:rt,spy:Ji,toJS:vo,trace:dc,transaction:Ee,untracked:Fo,values:Go,when:hc},Symbol.toStringTag,{value:"Module"}));var Rc=Object.defineProperty,Mc=(e,t,n)=>t in e?Rc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t,n)=>(Mc(e,typeof t!="symbol"?t+"":t,n),n),wa,Rs,Ms,Ns,$s,Vs;const Nc=new Map;function $c(e,t,n){Nc.set(e,{modelClass:t,fnName:n})}var se;(function(e){e.ApplyPatches="$$applyPatches",e.ApplySnapshot="$$applySnapshot",e.Detach="$$detach",e.ApplySet="$$applySet",e.ApplyDelete="$$applyDelete",e.ApplyMethodCall="$$applyMethodCall"})(se||(se={}));new Set(Object.values(se));var U;(function(e){e.Sync="sync",e.Async="async"})(U||(U={}));var Xe;(function(e){e.Spawn="spawn",e.Return="return",e.Resume="resume",e.ResumeError="resumeError",e.Throw="throw"})(Xe||(Xe={}));let Oa;function Cr(){return Oa}function Fs(e){Oa=e}const Sa=Symbol("modelAction");function Xo(e){return typeof e=="function"&&Sa in e}const T="$modelType",ce="$modelId";function Aa(e){return e===T}class Yo extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Yo.prototype)}}function p(e){return new Yo(e)}const Vc={enumerable:!1,writable:!0,configurable:!1,value:void 0};function Ta(e,t,n,r=!0){r?(Object.defineProperty(e,t,Vc),e[t]=n):Object.defineProperty(e,t,{enumerable:!1,writable:r,configurable:!0,value:n})}function Re(e){if(!ie(e))return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}function ie(e){return e!==null&&typeof e=="object"}function Q(e){switch(typeof e){case"number":case"string":case"boolean":case"undefined":case"bigint":return!0}return e===null}function Fc(e,t){let n=e.indexOf(t);return n>=0?(e.splice(n,1),!0):!1}function Pr(e){return e instanceof Map||G(e)}function Ir(e){return e instanceof Set||ne(e)}function J(e){return Array.isArray(e)||Y(e)}const Ca=!1;function kt(e,t){if(!ie(e))throw p(`${t} must be an object`)}function Qo(e,t){if(typeof e!="function")throw p(`${t} must be a function`)}function Lc(e,t){if(!Q(e))throw p(`${t} must be a primitive`)}const Pa=Symbol("runAfterNew"),Bc=Symbol("runBeforeOnInit");function Ia(e,t,n){let r=e[t];(!r||!Object.prototype.hasOwnProperty.call(e,t))&&(r=r?r.slice():[],Ta(e,t,r)),r.push(n)}function ar(e,t){const n=e[t];if(n)for(const r of n)r(e)}const Ls=new Set;function ka(e,t,n){if(n){if(Ls.has(n))return;Ls.add(n)}switch(t="[mobx-keystone] "+t,e){case"warn":console.warn(t);break;case"error":console.error(t);break;default:throw p(`unknown log type - ${e}`)}}function ve(e){let t,n=!1;return(...r)=>(n||(t=e(...r),n=!0),t)}const Te=e=>e,Zo={makeObservable:Dc.makeObservable};function Uc(e){return`set${e[0].toUpperCase()}${e.slice(1)}`}function xn(){return Zo.makeObservable?6:5}const jn="mobx-keystone",lr=Symbol("propsType"),Bs=Symbol("fromSnapshotOverrideType"),Us=Symbol("toSnapshotOverrideType"),Ea=Symbol("modelInitialized"),qn={},te=new WeakMap;function Dn(e){return qn[e]}function Ce(e,t,n){let r=e.get(t);return r===void 0&&(r=n(),e.set(t,r)),r}const yo=new WeakMap,Gc=new WeakMap;function Wc(e,t,n=!0){return!e&&!t?!0:!e||!t||!(e.parent===t.parent)?!1:n?e.path===t.path:!0}function xa(e){return Ce(Gc,e,()=>Be("parentAtom"))}function Kc(e){xa(e).reportObserved()}function Gs(e){xa(e).reportChanged()}const en=new WeakMap;function Gt(e){const t=en.get(e);return t??e}function yn(e){return X(e)?e.$:e}const bt=new WeakMap;function Ke(e,t){return!t&&en.has(e)?!1:bt.has(e)}function _o(e){return!Q(e)&&Ke(e,!1)}function $(e,t,n=!1){if(!n&&en.has(e))throw p(`${t} must be the model object instance instead of the '$' sub-object`);if(Q(e)||!Ke(e,!0))throw p(`${t} must be a tree node (usually a model or a shallow / deep child part of a model 'data' object)`)}function zc(e,t="argument"){$(e,t,!1)}let dn=!1;function Hc(e){const t=dn;dn=!0;try{po(()=>{e()})}finally{dn=t}}const Wt=Symbol("modelMetadata"),Jn=Symbol("modelUnwrappedClass"),bo=Symbol("runAfterModelDecorator");function Kt(e){if(X(e))return e.constructor[Wt];if(on(e))return e[Wt];throw p("modelClassOrInstance must be a model class or instance")}const qc=new WeakMap;function gt(e){return Ce(qc,e,()=>Kt(e).modelIdProperty)}const ja=Symbol("modelProperties");function tn(e){return e[ja]}function Jc(e,t){e[ja]=t}const H=Symbol("noDefaultValue"),es={_setter:!1,_isId:!0,withSetter(e){const t=Object.create(this);return t._setter=e??!0,t},typedAs(){return es}},Ws={_defaultFn:H,_defaultValue:H,_typeChecker:void 0,_setter:!1,_isId:!1,_transform:void 0,_fromSnapshotProcessor:void 0,_toSnapshotProcessor:void 0,withSetter(e){const t=Object.create(this);return t._setter=e??!0,t},withTransform(e){const t=Object.create(this);return t._transform=Yc(e),t},withSnapshotProcessor({fromSnapshot:e,toSnapshot:t}){let n;if(this._fromSnapshotProcessor&&e){const s=this._fromSnapshotProcessor,i=e;n=a=>s(i(a))}else e?n=e:n=this._fromSnapshotProcessor;let r;if(this._toSnapshotProcessor&&t){const s=this._toSnapshotProcessor,i=t;r=a=>i(s(a))}else t?r=t:r=this._toSnapshotProcessor;const o=Object.create(this);return o._fromSnapshotProcessor=n,o._toSnapshotProcessor=r,o}};function go(e){if(!(arguments.length>=1))return Ws;let n=Ks.get(e);return n||(n=Object.create(Ws),typeof e=="function"?n._defaultFn=e:n._defaultValue=e,Ks.set(e,n)),n}const Ks=new Map;let wo=!1;const Xc=()=>{wo=!0};function Yc(e){const t=new WeakMap,n=o=>o.originalValue==null?o.originalValue:e.transform(o),r=o=>o.transformedValue==null?o.transformedValue:e.untransform(o);return{transform(o,s,i,a){const l=Ce(t,s,()=>new Map);let c=l.get(i);(c==null?void 0:c.originalValue)!==o&&(l.delete(i),c=void 0);const u=n({originalValue:o,cachedTransformedValue:c==null?void 0:c.transformedValue,setOriginalValue:a});return l.set(i,{originalValue:o,transformedValue:u}),u},untransform(o,s,i){const a=Ce(t,s,()=>new Map);wo=!1;const l=r({transformedValue:o,cacheTransformedValue:Xc});return wo?a.set(i,{originalValue:l,transformedValue:o}):a.delete(i),l}}}function ur(e){return e._defaultFn!==H?e._defaultFn():e._defaultValue!==H?e._defaultValue:H}class re{constructor(t,n,r,o){b(this,"path"),b(this,"expectedTypeName"),b(this,"actualValue"),b(this,"typeCheckedValue"),b(this,"message"),this.path=t,this.expectedTypeName=n,this.actualValue=r,this.typeCheckedValue=o;let s=[];this.typeCheckedValue&&Ke(this.typeCheckedValue,!0)&&(s=Vd(this.typeCheckedValue).path);const i=Ke(this.actualValue,!0)?z(this.actualValue):this.actualValue;this.message=`TypeCheckError: [/${[...s,...this.path].join("/")}] Expected a value of type <${this.expectedTypeName}> but got the value <${JSON.stringify(i)}> instead`}throw(){throw p(this.message)}}const Qc=[],Oo=new WeakMap;var V;(function(e){e.Object="object",e.Array="array",e.Primitive="primitive",e.Any="any"})(V||(V={}));function Zc(e){return J(e)?V.Array:ie(e)?V.Object:Q(e)?V.Primitive:V.Any}function ef(e){let t=e;for(;t;){const n=Oo.get(t);n&&(Oo.delete(t),n.forEach(r=>r.invalidateCachedResult(t))),t=$d(t)}}const So=new WeakMap;function tf(e){const t=So.get(e);t&&(t.forEach(n=>n.invalidateSnapshotProcessorCachedResult(e)),So.delete(e))}class L{constructor(t,n,r,o,s,i,a){b(this,"baseType"),b(this,"_check"),b(this,"getTypeName"),b(this,"typeInfoGen"),b(this,"snapshotType"),b(this,"_fromSnapshotProcessor"),b(this,"_toSnapshotProcessor"),b(this,"checkResultCache"),b(this,"unchecked"),b(this,"_cachedTypeInfoGen"),b(this,"fromSnapshotProcessor",l=>this._fromSnapshotProcessor(l)),b(this,"_toSnapshotProcessorCache",new WeakMap),b(this,"toSnapshotProcessor",l=>{if(typeof l!="object"||l===null)return this._toSnapshotProcessor(l);if(this._toSnapshotProcessorCache.has(l))return this._toSnapshotProcessorCache.get(l);const c=this._toSnapshotProcessor(l);return this._toSnapshotProcessorCache.set(l,c),Ce(So,l,()=>new Set).add(this),c}),this.baseType=t,this._check=n,this.getTypeName=r,this.typeInfoGen=o,this.snapshotType=s,this._fromSnapshotProcessor=i,this._toSnapshotProcessor=a,this.unchecked=!n,this._cachedTypeInfoGen=ve(o)}createCacheIfNeeded(){return this.checkResultCache||(this.checkResultCache=new WeakMap),this.checkResultCache}setCachedResult(t,n){this.createCacheIfNeeded().set(t,n),Ce(Oo,t,()=>new Set).add(this)}invalidateCachedResult(t){var n;(n=this.checkResultCache)==null||n.delete(t)}getCachedResult(t){var n;return(n=this.checkResultCache)==null?void 0:n.get(t)}check(t,n,r){if(this.unchecked)return null;if(!Ke(t,!0))return this._check(t,n,r);let o=this.getCachedResult(t);return o===void 0&&(o=this._check(t,Qc,void 0),this.setCachedResult(t,o)),o?new re([...n,...o.path],o.expectedTypeName,o.actualValue,r):null}get typeInfo(){return this._cachedTypeInfoGen(this)}invalidateSnapshotProcessorCachedResult(t){this._toSnapshotProcessorCache.delete(t)}}const Da=Symbol("lateTypeCheker");function he(e,t){let n;const r=function(){return n||(n=e(),n)};r[Da]=!0;const o=ve(t);return Object.defineProperty(r,"typeInfo",{enumerable:!0,configurable:!0,get(){return o(r)}}),r}function ts(e){return typeof e=="function"&&Da in e}class W{constructor(t){b(this,"thisType"),this.thisType=t}}function be(e){const n=ge(e).typeInfo;if(!n)throw p(`type info not found for ${e}`);return n}const zs=new WeakMap;function kr(e){if(!on(e)&&typeof e=="function"){const t=e;return he(()=>kr(t()),r=>new Hs(r,t()))}else{const t=e,n=zs.get(t);if(n)return n;const r=s=>new Hs(s,t),o=he(()=>{const s=te.get(t),i=`Model(${s.name})`,a=Kt(t).dataType,l=a?M(a):void 0,c=new L(V.Object,(u,f,d)=>u instanceof t?l?l.check(u.$,f,d):null:new re(f,i,u,d),()=>i,r,u=>ie(u)?u[T]!==void 0?u[T]===s.name?c:null:l&&l.snapshotType(u)?c:null:null,u=>u[T]?u:{...u,[T]:s.name},u=>u);return c},r);return zs.set(t,o),o}}class Hs extends W{constructor(t,n){super(t),b(this,"modelClass"),b(this,"_props",ve(()=>{const r=tn(this.modelClass),o={};return Object.keys(r).forEach(s=>{const i=r[s],a=i._typeChecker;let l;a&&(l=be(a));let c=!1,u;i._defaultFn!==H?(u=i._defaultFn,c=!0):i._defaultValue!==H&&(u=i._defaultValue,c=!0),o[s]={type:a,typeInfo:l,hasDefault:c,default:u}}),o})),this.modelClass=n}get props(){return this._props()}get modelType(){return te.get(this.modelClass).name}}function nf(){Ma(e=>on(e)?kr(e):void 0)}const nn=[];function Er(e){Lc(e,"literal");let t;switch(e){case void 0:t="undefined";break;case null:t="null";break;default:t=JSON.stringify(e);break}const n=o=>new rf(o,e),r=new L(V.Primitive,(o,s,i)=>o===e?null:new re(s,t,o,i),()=>t,n,o=>o===e?r:null,Te,Te);return r}class rf extends W{constructor(t,n){super(t),b(this,"literal"),this.literal=n}}const xr=Er(void 0);nn.push(e=>e===void 0?xr:void 0);const jr=Er(null);nn.push(e=>e===null?jr:void 0);const Dr=new L(V.Primitive,(e,t,n)=>typeof e=="boolean"?null:new re(t,"boolean",e,n),()=>"boolean",e=>new of(e),e=>typeof e=="boolean"?Dr:null,Te,Te);nn.push(e=>e===Boolean?Dr:void 0);class of extends W{}const Rn=new L(V.Primitive,(e,t,n)=>typeof e=="number"?null:new re(t,"number",e,n),()=>"number",e=>new sf(e),e=>typeof e=="number"?Rn:null,Te,Te);nn.push(e=>e===Number?Rn:void 0);class sf extends W{}const ze=new L(V.Primitive,(e,t,n)=>typeof e=="string"?null:new re(t,"string",e,n),()=>"string",e=>new af(e),e=>typeof e=="string"?ze:null,Te,Te);nn.push(e=>e===String?ze:void 0);class af extends W{}function lf(){nn.forEach(e=>{Ma(e)})}let qs=!1;function uf(){qs||(qs=!0,nf(),lf())}const Ra=[];function Ma(e){Ra.push(e)}function Na(e){uf();for(const t of Ra){const n=t(e);if(n)return n}}function M(e){let t=e;for(;;){if(t instanceof L)return t;if(ts(t))t=t();else{const n=Na(e);if(n)return M(n);throw p("type checker could not be resolved")}}}function $a(e){if(e instanceof L||ts(e))return e;{const t=Na(e);return t||void 0}}function ge(e){const t=$a(e);if(t)return t;throw p("standard type could not be resolved")}const ns=new WeakMap,ct=new WeakMap;function Ie(e){return ns.get(e)}function cf(e,t){if(!t||!e)return;const n=Ie(t.parent);if(n)return{parentSnapshot:n,parentPath:t}}const ff=S("unsetInternalSnapshot",e=>{const t=Ie(e);t&&(ns.delete(e),t.atom.reportChanged())}),rs=S("setNewInternalSnapshot",(e,t,n,r=!1)=>{const o={untransformed:t,transformFn:n,transformed:n?n(t):t,atom:Be("snapshot")};ct.set(o.untransformed,r),o.transformed!==void 0&&ct.set(o.transformed,r),ns.set(e,o),o.atom.reportChanged()}),os=S("updateInternalSnapshot",(e,t)=>{const n=Ie(e);let r=n.untransformed;ct.get(r)?Array.isArray(r)?r=r.slice():r=Object.assign({},r):tf(r),t(r),n.untransformed=r,n.transformed=n.transformFn?n.transformFn(r):r,ct.set(n.untransformed,!1),n.transformed!==void 0&&ct.set(n.transformed,!1),n.atom.reportChanged();const s=cf(n,qe(e));if(s){const{parentSnapshot:i,parentPath:a}=s;if(i){const l=a.path;os(a.parent,c=>{c[l]=n.transformed})}}});function df(e){e.atom.reportObserved()}function ue(e){if(Q(e))return e;const t=ct.get(e);if(t===void 0||t===!0)return e;if(Array.isArray(e))for(let n=0;n<e.length;n++)ue(e[n]);else{const n=Object.keys(e);for(let r=0;r<n.length;r++)ue(e[n[r]])}return ct.set(e,!0),e}function z(e,t){let n=Te,r;if(arguments.length>=2?(n=M(e).toSnapshotProcessor,r=t):r=e,Q(r))return n(r);$(r,"nodeOrPrimitive");const o=Ie(r);if(!o)throw p("getSnapshot is not supported for this kind of object");return ue(o.transformed),df(o),n(o.transformed)}function ss(e,t){const n=M(e);return n.unchecked?null:n.check(t,[],t)}let hf="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",pf=(e=21)=>{let t="",n=e;for(;n--;)t+=hf[Math.random()*64|0];return t};var ft;(function(e){e.DevModeOnly="devModeOnly",e.AlwaysOn="alwaysOn",e.AlwaysOff="alwaysOff"})(ft||(ft={}));let Js=0;const vf=pf();function mf(){const e=Js.toString(36)+"-"+vf;return Js++,e}let cr={modelAutoTypeChecking:ft.DevModeOnly,modelIdGenerator:mf,allowUndefinedArrayElements:!1,showDuplicateModelNameWarnings:!0};function yf(e){cr=Object.freeze({...cr,...e})}function Rr(){return cr}function Mr(){switch(Rr().modelAutoTypeChecking){case ft.DevModeOnly:return Ca;case ft.AlwaysOff:return!1;case ft.AlwaysOn:return!0;default:throw p(`invalid 'modelAutoTypeChecking' config value - ${cr.modelAutoTypeChecking}`)}}const Ao=Symbol("modelInitializers");function _f(e){return e[Ao]}function Va(e,t){const n=_f(e);if(n){const r=n.length;for(let o=0;o<r;o++)n[o](t)}}function bf(){return!!Cr()}function Fa(){if(!bf())throw p("data changes must be performed inside model actions")}const To=[];function La(){return!!Cr()}function gf(e){La()?To.push(e):e()}let Jr=!1;function wf(){if(!(La()||Jr)){Jr=!0;try{for(;To.length>0;)To.shift()()}finally{Jr=!1}}}var wt;(function(e){e.OnInit="$$onInit",e.OnLazyInit="$$onLazyInit",e.OnAttachedToRootStore="$$onAttachedToRootStore",e.OnAttachedToRootStoreDisposer="$$onAttachedToRootStoreDisposer"})(wt||(wt={}));new Set(Object.values(wt));const Xs=new WeakMap;function rn(e){let t=Xs.get(e);return t||(t={shallow:new Set,shallowAtom:Be("shallowChildrenAtom"),deep:new Set,deepDirty:!0,deepAtom:Be("deepChildrenAtom"),extensionsData:Wa()},Xs.set(e,t)),t}function Nr(e){const t=rn(e);return t.shallowAtom.reportObserved(),t.shallow}function Of(e){const t=rn(e);return t.deepDirty&&Ba(e),t.deepAtom.reportObserved(),t}function Ys(e,t){t.deep.add(e),is.forEach((n,r)=>{n.addNode(e,t.extensionsData.get(r))})}const Ba=S(e=>{const t=rn(e);if(!t.deepDirty)return t;t.deep=new Set,t.extensionsData=Wa();const n=t.shallow.values();let r=n.next();for(;!r.done;){Ys(r.value,t);const s=Ba(r.value).deep.values();let i=s.next();for(;!i.done;)Ys(i.value,t),i=s.next();r=n.next()}return t.deepDirty=!1,t.deepAtom.reportChanged(),t}),Sf=S((e,t)=>{const n=rn(e);n.shallow.add(t),n.shallowAtom.reportChanged(),Ua(e,n)}),Af=S((e,t)=>{const n=rn(e);n.shallow.delete(t),n.shallowAtom.reportChanged(),Ua(e,n)});function Ua(e,t){let n=e,r=t;for(;n;)r.deepDirty=!0,r.deepAtom.reportChanged(),n=gn(n),n&&(r=rn(n))}const is=new Map;function Ga(e){const t={};return is.set(t,e),n=>n.extensionsData.get(t)}function Wa(){const e=new WeakMap;return is.forEach((t,n)=>{e.set(n,t.initData())}),e}var _n;(function(e){e.ParentFirst="parentFirst",e.ChildrenFirst="childrenFirst"})(_n||(_n={}));function Ka(e,t,n){return $(e,"root"),n===_n.ParentFirst?Tf(e,t):za(e,t)}function Tf(e,t){const n=[e];for(;n.length>0;){const r=n.pop(),o=t(r);if(o!==void 0)return o;const s=Nr(r);n.length+=s.size;let i=n.length-1;const a=s.values();let l=a.next();for(;!l.done;)n[i--]=l.value,l=a.next()}}function za(e,t){const n=Nr(e).values();let r=n.next();for(;!r.done;){const s=za(r.value,t);if(s!==void 0)return s;r=n.next()}const o=t(e);if(o!==void 0)return o}function Ha(e,t,n){let r=e.get(n);return r||(r=N(()=>Pf(n,t,o=>Ha(e,t,o))),e.set(n,r)),r.get()}function Cf(e){const t=new WeakMap;return{walk:n=>Ha(t,e,n)}}function Pf(e,t,n){let r;const o=t(e),s=Nr(e),i=s.values();let a=i.next();if(o===void 0&&s.size===1)return n(a.value);for(;!a.done;){const l=n(a.value);if(l){r||(r=new Map);const c=l.keys();let u=c.next();for(;!u.done;){const f=u.value,d=l.get(f);r.set(f,d),u=c.next()}}a=i.next()}return o!==void 0&&(r||(r=new Map),r.set(o,e)),r}const Co=new WeakMap,Po=new WeakSet,qa=S("attachToRootStore",(e,t)=>{const n=[];Ka(t,o=>{Po.has(o)||(Po.add(o),o instanceof Jt&&o.onAttachedToRootStore&&(xo(o,"onAttachedToRootStore",wt.OnAttachedToRootStore),n.push(o)))},_n.ParentFirst);const r=n.length;for(let o=0;o<r;o++){const s=n[o],i=s.onAttachedToRootStore(e);i&&Co.set(s,i)}}),Ja=S("detachFromRootStore",e=>{const t=[];Ka(e,r=>{if(!Po.delete(r))return;const o=Co.get(r);if(o){const s=ee({nameOrNameFn:wt.OnAttachedToRootStoreDisposer,fn:o,actionType:U.Sync}).bind(r);Co.delete(r),t.push(s)}},_n.ChildrenFirst);const n=t.length;for(let r=0;r<n;r++)t[r]()}),If=new WeakMap,as=e=>Ce(If,e,()=>({atom:Be("rootStore"),is:!1}));S("registerRootStore",e=>{$(e,"node");const t=as(e);if(t.is)throw p("object already registered as root store");if(!Fd(e))throw p("a root store must not have a parent");return t.is=!0,qa(e,e),t.atom.reportChanged(),e});S("unregisterRootStore",e=>{if(!kf(e))throw p("not a root store");const t=as(e);t.is=!1,Ja(e),t.atom.reportChanged()});function kf(e){return $(e,"node"),Xn(e)}function Xn(e){const t=as(e);return t.atom.reportObserved(),t.is}const Un=[];class Xa{constructor(){b(this,"patches",Un),b(this,"invPatches",Un)}reset(){this.patches=Un,this.invPatches=Un}record(t,n){this.patches=t,this.invPatches=n}emit(t){Ya(t,this.patches,this.invPatches,!0),this.reset()}}const Io=new WeakMap,Qs=[];function Ef(e,t){$(e,"subtreeRoot"),Qo(t,"listener"),Qt(t)||(t=S(t.name||"onPatchesListener",t));let n=Io.get(e);return n||(n=[],Io.set(e,n)),n.push(t),()=>{Fc(n,t)}}function Ya(e,t,n,r){if(t.length<=0&&n.length<=0)return;if(r)for(let i=0;i<Qs.length;i++){const a=Qs[i];a(e,t,n)}const o=Io.get(e);if(o)for(let i=0;i<o.length;i++){const a=o[i];a(t,n)}const s=qe(e);if(s){const i=s.path,a=t.map(c=>Zs(c,i)),l=n.map(c=>Zs(c,i));Ya(s.parent,a,l,!1)}}function Zs(e,t){return{...e,path:[t,...e.path]}}function q(e,t,n){(e[t]!==n||n===void 0&&!(t in e))&&rt(e,t,n)}function Qa(e){if(us(e))return e.constructor[Wt];if(zt(e))return e[Wt];throw p("modelClassOrInstance must be a model class or instance")}const ei=new WeakMap;function ls(e){if(!zt(e)&&typeof e=="function"){const t=e;return he(()=>ls(t()),r=>new ti(r,t()))}else{const t=e,n=ei.get(t);if(n)return n;const r=s=>new ti(s,t),o=he(()=>{const s=te.get(t),i=`DataModelData(${s.name})`,a=Qa(t).dataType;if(!a)throw p(`type checking cannot be performed over data model data of type '${s.name}' since that model type has no data type declared, consider adding a data type or using types.unchecked() instead`);const l=M(a),c=new L(V.Object,(u,f,d)=>l.check(u,f,d),()=>i,r,u=>l.snapshotType(u)?c:null,u=>l.fromSnapshotProcessor(u),u=>l.toSnapshotProcessor(u));return c},r);return ei.set(t,o),o}}class ti extends W{constructor(t,n){super(t),b(this,"modelClass"),b(this,"_props",ve(()=>{const r=tn(this.modelClass),o={};return Object.keys(r).forEach(s=>{const i=r[s],a=i._typeChecker;let l;a&&(l=be(a));let c=!1,u;i._defaultFn!==H?(u=i._defaultFn,c=!0):i._defaultValue!==H&&(u=i._defaultValue,c=!0),o[s]={type:a,typeInfo:l,hasDefault:c,default:u}}),o})),this.modelClass=n}get props(){return this._props()}get modelType(){return te.get(this.modelClass).name}}const xf=S("newModel",(e,t,n)=>{const{modelClass:r}=n,o=r,s=e;if(!te.get(o))throw p(`no model info for class ${o.name} could be found - did you forget to add the @model decorator?`);if(s.$=t,Va(o,s),Mr()&&Qa(o).dataType){const a=s.typeCheck();a&&a.throw()}return s}),jf=new WeakMap;class fr{constructor(t){if(b(this,wa),b(this,"$"),!ie(t))throw p("data models can only work over data objects");const{modelClass:n}=arguments[1],r=n;let o;if(_o(t))o=t;else{if(!te.get(r))throw p(`no model info for class ${r.name} could be found - did you forget to add the @model decorator?`);const c=tn(r),u=Object.assign({},t),f=Object.keys(c);for(let d=0;d<f.length;d++){const h=f[d],v=c[h];let m=u[h],w=!1;v._transform&&(w=!0,m=v._transform.untransform(m,this,h)),m==null&&(v._defaultFn!==H?(w=!0,m=v._defaultFn()):v._defaultValue!==H&&(w=!0,m=v._defaultValue)),w&&(u[h]=m)}o=ps(u)}const s=Ce(jf,r,()=>new WeakMap),i=s.get(o);if(i)return i;s.set(o,this),Object.setPrototypeOf(this,r.prototype);const a=this;delete a[lr],xf(this,o,{modelClass:r})}typeCheck(){const t=ls(this.constructor);return ss(t,this.$)}toString(t){const n={withData:!0,...t},r=te.get(this.constructor),o=`${this.constructor.name}#${r.name}`;return n.withData?`[${o} ${JSON.stringify(z(this))}]`:`[${o}]`}}wa=lr;const Df=new Set(["onLazyInit","$","typeCheck"]);function us(e){return e instanceof fr}function zt(e){return!(typeof e!="function"||e!==fr&&!(e.prototype instanceof fr))}var bn;(function(e){e.DevModeOnly="devModeOnly",e.On="on",e.Off="off"})(bn||(bn={}));const Za="$frozen";class $r{constructor(t,n=bn.DevModeOnly){b(this,"data");const r=n===bn.On||Ca;r&&Yn(t),this.data=t,r&&Object.freeze(this.data),_e(this,void 0)}}function el(e,t=bn.DevModeOnly){return new $r(e,t)}function Yn(e){if(!Q(e)){if(Array.isArray(e)){const t=e.length;for(let n=0;n<t;n++){const r=e[n];if(r===void 0&&!Rr().allowUndefinedArrayElements)throw p("undefined is not supported inside arrays since it is not serializable in JSON, consider using null instead");Yn(r)}Object.freeze(e);return}if(Re(e)){const t=Object.keys(e),n=t.length;for(let r=0;r<n;r++){const o=t[r],s=e[o];Yn(o),Yn(s)}Object.freeze(e);return}throw p(`frozen data must be plainly serializable to JSON, but ${e} is not`)}}function cs(e){return Re(e)&&Za in e}var Ht;(function(e){e[e.Model=0]="Model",e[e.Array=1]="Array",e[e.PlainObject=2]="PlainObject",e[e.Frozen=3]="Frozen"})(Ht||(Ht={}));function Rf(e,t){return bt.set(e,void 0),He({value:e,parentPath:t,indexChangeAllowed:!1,isDataObject:!1,cloneIfApplicable:!1}),rs(e,{[Za]:!0,data:e.data},void 0,!0),e}function Mf(){Fr(Ht.Frozen,(e,t)=>{if(e instanceof $r)return Rf(e,t)})}function Nf(e,t,n=0){const r=$f(e,t,n);return r?r.parent:void 0}function $f(e,t,n=0){$(e,"child");const r=[];let o=e,s=0,i;for(;i=qe(o);){if(r.unshift(i.path),o=i.parent,t(o))return{parent:o,path:r};if(s++,n>0&&s===n)break}}let Qn=!0;function fs(e){let t=Qn;Qn=!1;try{e()}finally{Qn=t}}function Vf(){return Qn}var Me;(function(e){e[e.Array=0]="Array",e[e.Frozen=1]="Frozen",e[e.Model=2]="Model",e[e.PlainObject=3]="PlainObject"})(Me||(Me={}));function Ff(e,t,n){if(!J(e))return Ze(t);const r=z(e);return fs(()=>{e.length>t.length&&e.splice(t.length,e.length-t.length);for(let o=0;o<e.length;o++){const s=e[o],i=$e(s,t[o],n,e);ds(i,s,n),q(e,o,i)}for(let o=e.length;o<t.length;o++)e.push($e(void 0,t[o],n,e))}),Mn(e,void 0,r),e}function Lf(){Vr(Me.Array,(e,t,n)=>{if(J(t))return Ff(e,t,n)})}function Bf(e,t){return e instanceof $r&&e.data===t.data?e:el(t.data)}function Uf(){Vr(Me.Frozen,(e,t)=>{if(cs(t))return Bf(e,t)})}function Gf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wf=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;for(o of t.entries())if(!e(o[1],n.get(o[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(t[o]!==n[o])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[o]))return!1;for(o=r;o--!==0;){var i=s[o];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n};const Kf=Gf(Wf);function tl(e,t){return e+" "+t}class nl{constructor(t){b(this,"pool");var n;t=(n=en.get(t))!=null?n:t,this.pool=zf(Of(t))}findModelByTypeAndId(t,n){return n?this.pool.get(tl(t,n)):void 0}findModelForSnapshot(t){if(!Ur(t))return;const n=t[T],r=Dn(n),o=gt(r.class);return o?this.findModelByTypeAndId(n,t[o]):void 0}}const zf=Ga({initData(){return new Map},addNode(e,t){if(X(e)){const n=e[ce];n&&t.set(tl(e[T],n),e)}}});function ko(e,t){$(e,"node"),kt(t,"snapshot"),Hf().call(e,t)}function rl(e){const t=this,n=()=>{const r=new nl(t);$e(t,e,r,void 0)};if(J(e)){if(!J(t))throw p("if the snapshot is an array the target must be an array too");return n()}if(cs(e))throw p("applySnapshot cannot be used over frozen objects");if(Re(e)&&e[T]===void 0&&X(t)){const r=te.get(t.constructor);e={...e,[T]:r.name}}if(Ur(e)){const r=e[T],o=Dn(r);if(!o)throw p(`model with name "${r}" not found in the registry`);if(!X(t))throw p("the target for a model snapshot must be a model instance");if(t[T]!==r)throw p(`snapshot model type '${r}' does not match target model type '${t[T]}'`);const s=gt(o.class);if(s){const i=e[s];if(t[ce]!==i)throw p(`snapshot model id '${i}' does not match target model id '${t[ce]}'`)}return n()}if(Re(e)){if(!Re(t)&&!F(t))throw p("if the snapshot is an object the target must be an object too");return n()}throw Pr(e)?p("a snapshot must not contain maps"):Ir(e)?p("a snapshot must not contain sets"):p(`unsupported snapshot - ${e}`)}const Hf=ve(()=>ee({nameOrNameFn:se.ApplySnapshot,fn:rl,actionType:U.Sync}));function qf(e,t){const n=typeof e=="function"?e:()=>e,r=n();$(r,"node");let o=z(r);return Bt(()=>z(n()),s=>{const i=o;o=s,t(s,i)})}function Eo(e,t){return e===t?!0:(_o(e)?e=z(e):Ue(e)&&(e=vo(e)),_o(t)?t=z(t):Ue(t)&&(t=vo(t)),Kf(e,t))}xn()>=6;function Jf(e,t,n,r){const o=t[T],s=Dn(o);if(!s)throw p(`model with name "${o}" not found in the registry`);const i=n.findModelForSnapshot(t);if(i&&(e=i),!X(e)||e[T]!==o)return Ze(t);const a=s.class,l=tn(a),c=gt(a);if(c){const d=t[c];if(e[ce]!==d)return Ze(t)}else if(J(r)&&!Eo(e,t))return Ze(t);const u=e,f=z(u);return fs(()=>{const d=u.constructor,h=d.fromSnapshotProcessor?d.fromSnapshotProcessor(t):t,v=u.$,m=Object.keys(v),w=m.length;for(let g=0;g<w;g++){const _=m[g];if(!(_ in h)){const C=l[_],D=C?ur(C):H;D===H?Ae(v,_):q(v,_,D)}}const j=Object.keys(h),x=j.length;for(let g=0;g<x;g++){const _=j[g];if(!Aa(_)){const C=h[_],D=v[_];let Z=$e(D,C,n,u);if(Z==null){const at=l[_],gs=at?ur(at):H;gs!==H&&(Z=gs)}ds(Z,D,n),q(v,_,Z)}}}),Mn(u,void 0,f),u}function Xf(){Vr(Me.Model,(e,t,n,r)=>{if(Ur(t))return Jf(e,t,n,r)})}function Yf(e,t,n){if(!Re(e)&&!F(e))return Ze(t);const r=e,o=z(r);return fs(()=>{const s=Object.keys(r),i=s.length;for(let c=0;c<i;c++){const u=s[c];u in t||Ae(r,u)}const a=Object.keys(t),l=a.length;for(let c=0;c<l;c++){const u=a[c],f=t[u],d=r[u],h=$e(d,f,n,r);ds(h,d,n),q(r,u,h)}}),Mn(r,void 0,o),r}function Qf(){Vr(Me.PlainObject,(e,t,n)=>{if(Re(t))return Yf(e,t,n)})}let ni=!1;function Zf(){ni||(ni=!0,Lf(),Uf(),Xf(),Qf())}const dr=[];function Vr(e,t){dr.push({priority:e,reconciler:t}),dr.sort((n,r)=>n.priority-r.priority)}function $e(e,t,n,r){if(Q(t))return t;if(z(e)===t)return e;Zf();const o=dr.length;for(let s=0;s<o;s++){const{reconciler:i}=dr[s],a=i(e,t,n,r);if(a!==void 0)return a}throw Pr(t)?p("a snapshot must not contain maps"):Ir(t)?p("a snapshot must not contain sets"):p(`unsupported snapshot - ${t}`)}function ds(e,t,n){if(e!==t&&X(e)&&n.findModelByTypeAndId(e[T],e[ce])){const r=ms(e);r&&rt(r.parent,r.path,null)}}function qt(e,t,n=!1){$(e,"node"),!(t.length<=0)&&ed().call(e,t,n)}function ol(e,t=!1){const n=this,r=new nl(n);if(t){let o=e.length;for(;o--;){const s=e[o];if(!J(s))Gn(n,s,r);else{let i=s.length;for(;i--;)Gn(n,s[i],r)}}}else{const o=e.length;for(let s=0;s<o;s++){const i=e[s];if(!J(i))Gn(n,i,r);else{const a=i.length;for(let l=0;l<a;l++)Gn(n,i[l],r)}}}}const ed=ve(()=>ee({nameOrNameFn:se.ApplyPatches,fn:ol,actionType:U.Sync}));function Gn(e,t,n){const{target:r,prop:o}=td(e,t.path);if(J(r))switch(t.op){case"add":{const s=+o,i=$e(void 0,t.value,n,r);r.splice(s,0,i);break}case"remove":{const s=+o;r.splice(s,1);break}case"replace":{if(o==="length")r.length=t.value;else{const s=+o,i=$e(r[s],t.value,n,r);q(r,s,i)}break}default:throw p(`unsupported patch operation: ${t.op}`)}else switch(t.op){case"add":{const s=$e(void 0,t.value,n,r);q(r,o,s);break}case"remove":{Ae(r,o);break}case"replace":{const s=$e(r[o],t.value,n,r);q(r,o,s);break}default:throw p(`unsupported patch operation: ${t.op}`)}}function td(e,t){let n=yn(e);if(t.length===0)return{target:n};for(let r=0;r<=t.length-2;r++)n=yn(n[t[r]]);return{target:n,prop:t[t.length-1]}}function Mn(e,t,n){if(Vf()&&(ef(e),Mr())){const r=nd(e);if(r){const o=r.typeCheck();o&&(Hc(()=>{t?ol.call(e,t.invPatches,!0):n&&rl.call(e,n)}),o.throw())}}}function nd(e){const t=Gt(e);return e!==t&&(e=t,X(e)&&Kt(e).dataType)?e:Nf(e,n=>X(n)&&!!Kt(n).dataType)}function hs(e,t,n,r,o){const s=e,i=F(s)?s:I.object({},void 0,rd);let a,l;const c=()=>{a(),l()};bt.set(i,c),He({value:i,parentPath:t,indexChangeAllowed:!1,isDataObject:o,cloneIfApplicable:!1});let u={};const f=Object.keys(s),d=f.length;for(let v=0;v<d;v++){const m=f[v],w=s[m];if(Q(w))r||q(i,m,w),u[m]=w;else{const j={parent:i,path:m};let x;r?(x=w,He({value:x,parentPath:j,indexChangeAllowed:!1,isDataObject:!1,cloneIfApplicable:!1})):(x=_e(w,j),q(i,m,x));const g=Ie(x);u[m]=g.transformed}}let h;if(n){u[T]=n;const v=Dn(n);if(!v)throw p(`model with name "${n}" not found in the registry`);const m=v.class.toSnapshotProcessor;m&&(h=w=>m(w,Gt(i)))}return rs(o?Gt(i):i,u,h),a=Zt(i,ud),l=Pt(i,id),i}const rd={deep:!1};function od(e,t,n){n[e]=t}function sd(e,t){delete t[e]}const Nt=new Xa;function id(e){const t=e.object,n=Gt(t);let r=Ie(n).untransformed;Nt.reset();let o;switch(e.type){case"add":case"update":o=ld(e,r);break;case"remove":o=ad(e,r);break}Mn(t,Nt),!dn&&o&&(os(n,o),Nt.emit(n))}function ad(e,t){const n=e.name,r=t[n],o=sd.bind(void 0,n),s=[n];return Nt.record([{op:"remove",path:s}],[{op:"add",path:s,value:ue(r)}]),o}function ld(e,t){const n=e.name,r=e.newValue,o=t[n];let s;Q(r)?s=r:s=Ie(r).transformed;const i=od.bind(void 0,n,s),a=[n];return e.type==="add"?Nt.record([{op:"add",path:a,value:ue(s)}],[{op:"remove",path:a}]):Nt.record([{op:"replace",path:a,value:ue(s)}],[{op:"replace",path:a,value:ue(o)}]),i}function ud(e){if(Fa(),typeof e.name=="symbol")throw p("symbol properties are not supported");switch(e.type){case"add":e.newValue=_e(e.newValue,{parent:e.object,path:""+e.name});break;case"remove":{const t=e.object[e.name];_e(t,void 0);break}case"update":{const t=e.object[e.name];e.newValue!==t&&(_e(t,void 0),e.newValue=_e(e.newValue,{parent:e.object,path:""+e.name}));break}}return e}function cd(){Fr(Ht.PlainObject,(e,t)=>{if(F(e)||Re(e))return hs(e,t,void 0,!1,!1)})}let ri=!1;function fd(){ri||(ri=!0,Od(),Mf(),Md(),cd())}function ps(e,t){let n,r,o;if(arguments.length===1?(o=!1,n=e):(r=e,o=!0,n=t),!ie(n))throw p("only objects can be turned into tree nodes");if(o&&Mr()){const s=ss(r,n);s&&s.throw()}return Ke(n,!0)?n:_e(n,void 0)}const hr=[];function Fr(e,t){hr.push({priority:e,tweaker:t}),hr.sort((n,r)=>n.priority-r.priority)}function dd(e,t){if(Q(e))return e;if(Ke(e,!0))return e=He({value:e,parentPath:t,indexChangeAllowed:!1,isDataObject:!1,cloneIfApplicable:!0}),e;if(us(e))throw p("data models are not directly supported. you may insert the data in the tree instead ('$' property).");fd();const n=hr.length;for(let r=0;r<n;r++){const{tweaker:o}=hr[r],s=o(e,t);if(s!==void 0)return s}throw Pr(e)?p("maps are not directly supported. consider using 'ObjectMap' / 'asMap' instead."):Ir(e)?p("sets are not directly supported. consider using 'ArraySet' / 'asSet' instead."):p(`tweak can only work over models, observable objects/arrays, or primitives, but got ${e} instead`)}const _e=S("tweak",dd);function hd(e){if(Q(e))return;const t=bt.get(e);if(!t)return;const n=Array.from(Nr(e).values());for(let r=0;r<n.length;r++)He({value:n[r],parentPath:void 0,indexChangeAllowed:!1,isDataObject:!1,cloneIfApplicable:!1});return()=>{t(),bt.delete(e),ff(e)}}function sl(e,t,n){const r=e,o=r.length,s=Y(r)?r:I.array(void 0,Sd);s!==r&&(s.length=r.length);let i,a;const l=()=>{i(),a()};bt.set(s,l),He({value:s,parentPath:t,indexChangeAllowed:!1,isDataObject:!1,cloneIfApplicable:!1});const c=[];c.length=o;for(let u=0;u<o;u++){const f=r[u];if(Q(f))n||q(s,u,f),c[u]=f;else{const d={parent:s,path:u};let h;n?(h=f,He({value:h,parentPath:d,indexChangeAllowed:!1,isDataObject:!1,cloneIfApplicable:!1})):(h=_e(f,d),q(s,u,h));const v=Ie(h);c[u]=v.transformed}}return rs(s,c,void 0),i=Zt(s,bd.bind(void 0,s)),a=Pt(s,md),s}function pd(e,t,n){n[e]=t}function vd(e,t,n,r){r.splice(e,t,...n)}const hn=new Xa;function md(e){const t=e.object;let n=Ie(t).untransformed;hn.reset();let r;switch(e.type){case"splice":r=_d(e,n);break;case"update":r=yd(e,n);break}Mn(t,hn),!dn&&r&&(os(t,r),hn.emit(t))}function yd(e,t){const n=e.index,r=e.newValue,o=t[n];let s;Q(r)?s=r:s=Ie(r).transformed;const i=pd.bind(void 0,n,s),a=[n];return hn.record([{op:"replace",path:a,value:ue(s)}],[{op:"replace",path:a,value:ue(o)}]),i}function _d(e,t){const n=e.index,r=e.addedCount,o=e.removedCount;let s=[];s.length=r;for(let u=0;u<r;u++){const f=e.added[u];Q(f)?s[u]=f:s[u]=Ie(f).transformed}const i=t.length,a=vd.bind(void 0,n,o,s),l=[],c=[];if(r===o){const u=[],f=[];let d=0;for(let h=0;h<r;h++){const v=n+h,m=oi(t,v,n,o,s),w=t[v];if(m!==w){const j=[v-d];l.push({op:"remove",path:j}),c.push({op:"remove",path:j}),d++;const x=[v];u.push({op:"add",path:x,value:ue(m)}),f.push({op:"add",path:x,value:ue(w)})}}l.push(...u),c.push(...f),c.reverse()}else{const u=i-o;if(o>0){const f=n>=u;f&&l.push({op:"replace",path:["length"],value:u});for(let d=o-1;d>=0;d--){const h=n+d,v=[h];f||l.push({op:"remove",path:v}),c.push({op:"add",path:v,value:ue(t[h])})}}if(r>0){const f=n>=u;f&&c.push({op:"replace",path:["length"],value:u});for(let d=0;d<r;d++){const h=n+d,v=[h];l.push({op:"add",path:v,value:ue(oi(t,h,n,o,s))}),f||c.push({op:"remove",path:v})}}}return hn.record(l,c),a}function bd(e,t){switch(Fa(),t.type){case"splice":wd(t);break;case"update":gd(t,e);break}return t}function gd(e,t){const n=t[e.index];_e(n,void 0),e.newValue=_e(e.newValue,{parent:t,path:e.index})}function wd(e){for(let r=0;r<e.removedCount;r++){const o=e.object[e.index+r];_e(o,void 0)}for(let r=0;r<e.added.length;r++)e.added[r]=_e(e.added[r],{parent:e.object,path:e.index+r});const t=e.index+e.removedCount,n=e.index+e.added.length;if(t!==n)for(let r=t,o=n;r<e.object.length;r++,o++)He({value:e.object[r],parentPath:{parent:e.object,path:o},indexChangeAllowed:!0,isDataObject:!1,cloneIfApplicable:!1})}function Od(){Fr(Ht.Array,(e,t)=>{if(J(e))return sl(e,t,!1)})}const Sd={deep:!1};function oi(e,t,n,r,o){const s=t-n;return s<0?e[t]:s<o.length?o[s]:e[t-o.length+r]}function Ad(e,t){const n=I.array([],vs),r=e.length;for(let o=0;o<r;o++)n.push(Br(e[o],t));return sl(n,void 0,!0)}function Td(){Lr(Me.Array,(e,t)=>{if(J(e))return Ad(e,t)})}function Cd(){Lr(Me.Frozen,e=>{if(cs(e))return el(e.data)})}function Pd(e,t){const n=e[T];if(!n)throw p(`a model snapshot must contain a type key (${T}), but none was found`);const r=Dn(n);if(!r)throw p(`model with name "${n}" not found in the registry`);const o=gt(r.class);if(o&&e[o]===void 0)throw p(`a model snapshot of type '${n}' must contain an id key (${o}), but none was found`);return new r.class(void 0,{snapshotInitialData:{unprocessedSnapshot:e,snapshotToInitialData:t.snapshotToInitialData},generateNewIds:t.options.generateNewIds})}function Id(){Lr(Me.Model,(e,t)=>{if(Ur(e))return Pd(e,t)})}function kd(e,t){const n=I.object({},void 0,vs),r=Object.keys(e),o=r.length;for(let s=0;s<o;s++){const i=r[s],a=e[i];rt(n,i,Br(a,t))}return hs(n,void 0,void 0,!0,!1)}function Ed(){Lr(Me.PlainObject,(e,t)=>{if(Re(e))return kd(e,t)})}let si=!1;function xd(){si||(si=!0,Td(),Cd(),Id(),Ed())}const pr=[];function Lr(e,t){pr.push({priority:e,snapshotter:t}),pr.sort((n,r)=>n.priority-r.priority)}function Ze(e,t,n){let r,o;if(ts(e)||e instanceof L||on(e)){const s=M(e);r=s.fromSnapshotProcessor?s.fromSnapshotProcessor(t):t,o=n}else r=e,o=t;return jd(r,o)}const jd=S("fromSnapshot",(e,t)=>{const r={options:{generateNewIds:!1,overrideRootModelId:void 0,...t}};return r.snapshotToInitialData=Dd.bind(void 0,r),Br(e,r)});function Br(e,t){if(Q(e))return e;xd();const n=pr.length;for(let r=0;r<n;r++){const{snapshotter:o}=pr[r],s=o(e,t);if(s!==void 0)return s}throw Pr(e)?p("a snapshot must not contain maps"):Ir(e)?p("a snapshot must not contain sets"):p(`unsupported snapshot - ${e}`)}function Dd(e,t){const n=I.object({},void 0,vs),r=Object.keys(t),o=r.length;for(let s=0;s<o;s++){const i=r[s];if(!Aa(i)){const a=t[i];rt(n,i,Br(a,e))}}return n}const vs={deep:!1};function Rd(e,t){$(e,"node");const n={generateNewIds:!0,...t},r=z(e);return Ze(r,n)}const He=S("setParent",({value:e,parentPath:t,indexChangeAllowed:n,isDataObject:r,cloneIfApplicable:o})=>{if(Q(e))return e;let s=qe(e);if(Wc(s,t))return e;if(Xn(e))throw p("root stores cannot be attached to any parents");if(r)return en.set(e,t.parent),e;if(t){const l=Gt(t.parent);t.parent!==l&&(t={parent:l,path:t.path})}if(o&&(t!=null&&t.parent)&&(s!=null&&s.parent)&&X(e)&&Kt(e).valueType&&(e=Rd(e,{generateNewIds:!0}),s=qe(e)),s&&t){if(s.parent===t.parent&&n)return yo.set(e,t),Gs(e),e;throw p("an object cannot be assigned a new parent when it already has one")}let i;t||(i=hd(e));const a=()=>{s!=null&&s.parent&&Af(s.parent,e),yo.set(e,t),t!=null&&t.parent&&Sf(t.parent,e),Gs(e)};if(e instanceof Jt){const l=vr(e),c=Xn(l)?l:void 0;a();const u=vr(e),f=Xn(u)?u:void 0;c!==f&&(c||f)&&gf(()=>{c&&Ja(e),f&&qa(f,e)})}else a();return i==null||i(),e});function il(e,t){return bt.set(e,void 0),He({value:e,parentPath:t,indexChangeAllowed:!1,isDataObject:!1,cloneIfApplicable:!0}),e}function Md(){Fr(Ht.Model,(e,t)=>{if(X(e))return il(e,t)})}const ii=S("newModel",(e,t,n)=>{const r=t?"new":"fromSnapshot",{modelClass:o,snapshotInitialData:s,generateNewIds:i}=n,a=o,l=e,c=te.get(a);if(!c)throw p(`no model info for class ${a.name} could be found - did you forget to add the @model decorator?`);const u=gt(a),f=tn(a),d=u?f[u]:void 0;let h;if(s){let m=s.unprocessedSnapshot;d&&u&&(i?h=d._defaultFn():h=m[u]),a.fromSnapshotProcessor&&(m=a.fromSnapshotProcessor(m)),t=s.snapshotToInitialData(m)}else d&&u&&(t[u]?h=t[u]:h=d._defaultFn());l[T]=c.name;const v=Object.keys(f);for(let m=0;m<v.length;m++){const w=v[m];if(w===u)continue;const j=f[w];let x=t[w],g=!1;if(r==="new"&&j._transform&&(g=!0,x=j._transform.untransform(x,l,w)),x==null){const _=ur(j);_!==H?(g=!0,x=_):w in t||(g=!0)}g&&rt(t,w,x)}if(u&&rt(t,u,h),il(l,void 0),l.$=hs(t,{parent:l,path:"$"},l[T],!1,!0),Va(a,l),Mr()&&Kt(a).dataType){const m=l.typeCheck();m&&m.throw()}return l}),ai=Symbol("modelIdPropertyName");class Jt{constructor(t){b(this,Rs),b(this,Ms),b(this,Ns),b(this,$s),b(this,Vs),b(this,"$");let n=t;const{snapshotInitialData:r,modelClass:o,generateNewIds:s}=arguments[1];Object.setPrototypeOf(this,o.prototype);const i=this;delete i[lr],delete i[Bs],delete i[Us],delete i[ai],r?ii(this,void 0,{modelClass:o,snapshotInitialData:r,generateNewIds:s}):(kt(n,"initialData"),ii(this,I.object(n,void 0,{deep:!1}),{modelClass:o,generateNewIds:!0}))}get[(Rs=lr,Ms=Bs,Ns=Us,$s=ai,Vs=T,ce)](){const t=gt(this.constructor);return t?this.$[t]:void 0}set[ce](t){const n=gt(this.constructor);if(!n)throw p("$modelId cannot be set when there is no idProp set in the model");this.$[n]=t}getRefId(){return this[ce]}typeCheck(){const t=kr(this.constructor);return ss(t,this)}toString(t){const n={withData:!0,...t},r=`${this.constructor.name}#${this[T]}`;return n.withData?`[${r} ${JSON.stringify(z(this))}]`:`[${r}]`}}const Nd=new Set([T,ce,"onInit","$","getRefId","onAttachedToRootStore","typeCheck"]);function X(e){return e instanceof Jt}function on(e){return!(typeof e!="function"||e!==Jt&&!(e.prototype instanceof Jt))}function Ur(e){return Re(e)&&T in e}function qe(e){return Kc(e),yo.get(e)}function ms(e){const t=en.get(e);if(t)return{parent:t,path:"$"};const n=qe(e);return n&&X(n.parent)?{parent:n.parent.$,path:n.path}:n}function gn(e){var t;return(t=qe(e))==null?void 0:t.parent}function $d(e){var t;return(t=ms(e))==null?void 0:t.parent}function Vd(e){let t=e,n=[],r=[e],o;for(;o=qe(t);)t=o.parent,n.unshift(o.path),r.unshift(o.parent);return{root:t,path:n,pathObjects:r}}function vr(e){let t=e,n;for(;n=qe(t);)t=n.parent;return t}function Fd(e){return $(e,"value"),!gn(e)}const Xr={resolved:!1};function Yr(e,t){let n=e,r=t.length;for(let o=0;o<r;o++){if(!ie(n))return Xr;const s=t[o];if(J(n)&&+s>=n.length)return Xr;if(X(n)){const i=yn(n);if(s in i)n=i;else if(!(s in n))return Xr}n=n[s]}return{resolved:!0,value:n}}const al=Symbol("skipIdChecking");function Qr(e,t,n){var r;let o=yn(e),s=t.length;for(let i=0;i<s;i++){if(!ie(o))return{resolved:!1};const a=t[i];if(J(o)&&+a>=o.length)return{resolved:!1};const l=o[a];o=yn(l);const c=n[i];if(c!==al){const u=X(l)&&(r=l[ce])!=null?r:null;if(c!==u)return{resolved:!1}}}return{resolved:!0,value:Gt(o)}}const Ld=new WeakMap,li=new WeakMap;function Bd(e){let t=li.get(e);return t||(t={[Symbol.iterator](){let n=e;function r(){const a=n?Ld.get(n):void 0;if(!(!a||a.length<=0))return a[Symbol.iterator]()}function o(){let a;for(;n&&!a;)n=gn(n),a=r();return a}let s=r();return s||(s=o()),{next(){if(!s)return{value:void 0,done:!0};let a=s.next();return a.done?(s=o(),this.next()):a}}}},li.set(e,t)),t}function ee({nameOrNameFn:e,fn:t,actionType:n,overrideContext:r,isFlowFinisher:o=!1}){let s=!1;const i=function(){const a=typeof e=="function"?e():e;s||(s=!0,t=S(a,t));const l=this,c=Cr(),u={actionName:a,type:n,target:l,args:Array.from(arguments),parentContext:c,data:{},rootContext:void 0};r&&r(u,this),u.rootContext||(u.previousAsyncStepContext?u.rootContext=u.previousAsyncStepContext.rootContext:u.parentContext?u.rootContext=u.parentContext.rootContext:u.rootContext=u),Fs(u);let f=t.bind(l,...arguments);const d=Bd(u.target)[Symbol.iterator]();let h=d.next();for(;!h.done;){const v=h.value;(v.filter?v.filter(u):!0)&&(f=v.middleware.bind(void 0,u,f)),h=d.next()}try{const v=f();if(o){const m=v,w=m.value;return m.resolution==="accept"?m.accepter(w):m.rejecter(w),w}else return v}finally{Fs(u.parentContext),wf()}};return i[Sa]=!0,i}function xo(e,t,n){const r=e[t];if(Xo(r))return;const o=ee({nameOrNameFn:n,fn:r,actionType:U.Sync}),s=Object.getPrototypeOf(e);s[t]===r?s[t]=o:e[t]=o}function Ud(e){$(e,"node"),Gd().call(e)}const Gd=ve(()=>ee({nameOrNameFn:se.Detach,fn:Wd,actionType:U.Sync}));function Wd(){const t=ms(this);if(!t)return;const{parent:n,path:r}=t;if(Y(n))n.splice(+r,1);else if(F(n))Ae(n,""+r);else throw p("parent must be an observable object or an observable array")}const Zr=Symbol("unboundMethod"),ui=(e,t)=>{const n=Zr in e?e[Zr]:e,r=n.bind(t);return Object.getOwnPropertySymbols(n).forEach(o=>{r[o]=n[o]}),r[Zr]=n,r};function Kd(e,t,n){if(typeof t[1]!="object"){const r=t[0],o=t[1],s=t[2],i=eo(r,o,!0),a=()=>{Ia(r,Pa,l=>{const c=n(i,l[o]);l[o]=ui(c,l)})};if(s){if(s.get!==void 0)throw p(`@${e} cannot be used with getters`);if(s.value)return{enumerable:!1,writable:!0,configurable:!0,value:n(i,s.value)};a()}else a()}else{const r=t[1];if(r.name,r.static,r.kind!=="method"&&r.kind!=="field")throw p(`@${e} can only be used on fields or methods}`);if(r.kind==="method"){const o=t[0],s=r.name;let i=!1;r.addInitializer(function(){if(i)return;i=!0;const a=this;let l=this,c=Object.getPrototypeOf(l);for(;c&&c[s]===o;)l=c,c=Object.getPrototypeOf(l);l[s]=n(eo(a,s,!1),l[s])})}else if(r.kind==="field"){const o=r.name;let s;return function(i){const a=this;s||(s=eo(a,o,!1));const l=n(s,i);return ui(l,a)}}}}const zd=(e,t)=>{e.target=t.$};function eo(e,t,n){if(zt(e)||us(e)){const r=zt(e)?e:e.constructor;let o;const s=i=>{const a=te.get(i);o=`fn::${a.name}::${t}`,$c(o,a.class,t)};return n?Ia(r,bo,s):s(r),{actionName:()=>o,overrideContext:zd}}else return{actionName:t,overrideContext:void 0}}const ll=Symbol("modelFlow");function Hd({nameOrNameFn:e,generator:t,overrideContext:n}){const r=function(...o){const s=typeof e=="function"?e():e,i=this;let a;const l=v=>(m,w)=>{n&&n(m,w),m.previousAsyncStepContext=a,m.spawnAsyncStepContext=a?a.spawnAsyncStepContext:m,m.asyncStepType=v,m.args=o,a=m};let c=!1;const u=ee({nameOrNameFn:s,fn:()=>(c=!0,t.apply(i,o)),actionType:U.Async,overrideContext:l(Xe.Spawn)}).apply(i);if(!c)return u instanceof Promise?u:Promise.resolve(u);const f=u.next.bind(u),d=u.throw.bind(u);return new Promise(function(v,m){function w(g){let _;try{_=ee({nameOrNameFn:s,fn:f,actionType:U.Async,overrideContext:l(Xe.Resume)}).call(i,g)}catch(C){ee({nameOrNameFn:s,fn:D=>({value:D,resolution:"reject",accepter:v,rejecter:m}),actionType:U.Async,overrideContext:l(Xe.Throw),isFlowFinisher:!0}).call(i,C);return}x(_)}function j(g){let _;try{_=ee({nameOrNameFn:s,fn:d,actionType:U.Async,overrideContext:l(Xe.ResumeError)}).call(i,g)}catch(C){ee({nameOrNameFn:s,fn:D=>({value:D,resolution:"reject",accepter:v,rejecter:m}),actionType:U.Async,overrideContext:l(Xe.Throw),isFlowFinisher:!0}).call(i,C);return}x(_)}function x(g){g&&typeof g.then=="function"?g.then(x,m):g.done?ee({nameOrNameFn:s,fn:_=>({value:_,resolution:"accept",accepter:v,rejecter:m}),actionType:U.Async,overrideContext:l(Xe.Return),isFlowFinisher:!0}).call(i,g.value):Promise.resolve(g.value).then(w,j)}w(void 0)})};return r[ll]=!0,r}function qd(e){return typeof e=="function"&&ll in e}const ci=new Map;function Jd(e,t,n){if(Qo(t,e),ci.has(e)&&ka("warn",`an standalone action with name "${e}" already exists (if you are using hot-reloading you may safely ignore this warning)`,`duplicateActionName - ${e}`),Xo(t))throw p("the standalone action must not be previously marked as an action");if(qd(t))throw p("the standalone action must not be previously marked as a flow action");const r=n?Hd({nameOrNameFn:e,generator:t}):ee({nameOrNameFn:e,fn:t,actionType:U.Sync}),o=(s,...i)=>(zc(s,"target"),r.call(s,s,...i));return ci.set(e,o),o}function Xd(e,t){$(e,"node",!0),Qd().call(e,t)}function Yd(e){Ae(this,""+e)}const Qd=ve(()=>ee({nameOrNameFn:se.ApplyDelete,fn:Yd,actionType:U.Sync}));function Zd(e,t,...n){return $(e,"node"),th().call(e,t,n)}function eh(e,t){return this[e](...t)}const th=ve(()=>ee({nameOrNameFn:se.ApplyMethodCall,fn:eh,actionType:U.Sync}));function ys(e,t,n){$(e,"node",!0),rh().call(e,t,n)}function nh(e,t){!X(this)&&Ue(this)?q(this,e,t):this[e]=t}const rh=ve(()=>ee({nameOrNameFn:se.ApplySet,fn:nh,actionType:U.Sync}));se.ApplySnapshot+"",se.ApplyPatches+"",se.Detach+"",se.ApplySet+"",se.ApplyDelete+"",se.ApplyMethodCall+"";function K(...e){return Kd("modelAction",e,(t,n)=>{if(Xo(n))return n;if(typeof n!="function")throw p("modelAction has to be used over functions");return ee({nameOrNameFn:t.actionName,fn:n,actionType:U.Sync,overrideContext:t.overrideContext})})}function oh(e,t){var n;const r=[];let o=e;for(let s=0;s<t.length;s++){o=o[t[s]];const i=X(o)&&(n=o[ce])!=null?n:null;r.push(i)}return r}var fi;(function(e){e.Return="return",e.Throw="throw"})(fi||(fi={}));function k(e,t,n,r){var o=arguments.length,s=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function ul(e,t,n){return Qo(e,"objFn"),he(()=>{const r=e();kt(r,"objectSchema");const o=Object.entries(r),s=(...l)=>{const c=[];for(const[u,f]of o){const d=M(f);let h="...";l.includes(d)||(h=d.getTypeName(...l,d)),c.push(`${u}: ${h};`)}return`{ ${c.join(" ")} }`},i=(l,c)=>{const u={},f=Object.keys(l);for(let d=0;d<f.length;d++){const h=f[d],v=r[h];if(v){const m=M(v);u[h]=c==="from"?m.fromSnapshotProcessor(l[h]):m.toSnapshotProcessor(l[h])}else u[h]=l[h]}return u},a=new L(V.Object,(l,c,u)=>{if(!ie(l)||t&&!(l instanceof $r))return new re(c,s(a),l,u);for(const[f,d]of o){const h=M(d),v=l[f],m=h.check(v,[...c,f],u);if(m)return m}return null},s,n,l=>{if(!ie(l))return null;for(const[c,u]of o){const f=M(u),d=l[c];if(!f.snapshotType(d))return null}return a},l=>i(l,"from"),l=>i(l,"to"));return a},n)}function Nn(e){return ul(e,!1,n=>new sh(n,e))}class sh extends W{constructor(t,n){super(t),b(this,"_objTypeFn"),b(this,"_props",ve(()=>{const r=this._objTypeFn(),o={};return Object.keys(r).forEach(s=>{const i=ge(r[s]);o[s]={type:i,typeInfo:be(i)}}),o})),this._objTypeFn=n}get props(){return this._props()}}function ih(e){return ul(()=>({data:e}),!0,t=>new ah(t,ge(e)))}class ah extends W{constructor(t,n){super(t),b(this,"dataType"),this.dataType=n}get dataTypeInfo(){return be(this.dataType)}}const cl=new L(V.Any,null,()=>"any",e=>new lh(e),()=>cl,Te,Te);function Ot(){return cl}class lh extends W{}function $n(e,...t){const n=t.slice();let r;const o=$a(e);if(o)n.unshift(o);else{const i=e;r=a=>{const l=i(a);return M(l)}}if(n.length<=0)throw p("or type must have at least 1 possible type");const s=i=>new uh(i,n.map(ge));return he(()=>{const i=n.map(M);if(i.some(u=>u.unchecked))return Ot();const a=(...u)=>i.map(d=>u.includes(d)?"...":d.getTypeName(...u,d)).join(" | ");let l;i.some(u=>u.baseType!==i[0].baseType)?l=V.Any:l=i[0].baseType;const c=new L(l,(u,f,d)=>i.some(v=>!v.check(u,f,d))?null:new re(f,a(c),u,d),a,s,u=>{const f=Zc(u),d=i.filter(h=>h.baseType===f||h.baseType===V.Any);if(d.length===1&&d[0].baseType===f)return d[0];for(let h=0;h<d.length;h++){const v=d[h].snapshotType(u);if(v)return v}return null},u=>{const f=r?r(u):c.snapshotType(u);if(!f)throw p(`snapshot '${JSON.stringify(u)}' does not match the following type: ${a(c)}`);return f.fromSnapshotProcessor(u)},u=>{const f=r?r(u):c.snapshotType(u);if(!f)throw p(`snapshot '${JSON.stringify(u)}' does not match the following type: ${a(c)}`);return f.toSnapshotProcessor(u)});return c},s)}class uh extends W{constructor(t,n){super(t),b(this,"orTypes"),b(this,"_orTypeInfos",ve(()=>this.orTypes.map(be))),this.orTypes=n}get orTypeInfos(){return this._orTypeInfos()}}const ch=Symbol("noDefaultValue"),di=new WeakMap;function fh(e,t,n){let r=di.get(e);r||(r=new Map,di.set(e,r));let o=r.get(t);return o||(o=n(),r.set(t,o)),o}function fe(e,t){switch(typeof e){case"string":return fe(ze,e);case"number":return fe(Rn,e);case"boolean":return fe(Dr,e)}const n=arguments.length>=2,r=ge(e);return fh(r,n?t:ch,()=>{const o=n?$n(r,xr,jr):r,s=Object.create(n?go(t):go());return Object.assign(s,{_typeChecker:r,_fromSnapshotProcessor:dh.bind(void 0,o),_toSnapshotProcessor:hh.bind(void 0,r)}),s})}function dh(e,t){const n=M(e).fromSnapshotProcessor;return n?n(t):t}function hh(e,t){const n=M(e).toSnapshotProcessor;return n?n(t):t}function hi(...e){const t=e.filter(r=>!!r);return t.length<=0?void 0:(r,...o)=>{let s=r;for(let i=0;i<t.length;i++)s=t[i](s,...o);return s}}function pi(e,t,n="must be a class or data model class"){if(!on(e)&&!zt(e))throw p(`${t} ${n}`)}function ph(e,t,n){const r=e.$[n];return t._transform?t._transform.transform(r,e,n,o=>{ys(e.$,n,o)}):r}function vh(e,t,n,r){if(!(Ea in e))return;if(t._setter==="assign"&&!Cr()){ys(e,n,r);return}let o=t._transform?t._transform.untransform(r,e,n):r;if(o==null){const s=ur(t);s!==H&&(o=s)}e.$[n]=o}const fl=()=>Rr().modelIdGenerator(),dl=fe(ze,fl);dl._isId=!0;const hl=go(fl);hl._isId=!0;function mh({modelProps:e,baseModel:t,type:n,valueType:r,fromSnapshotProcessor:o,toSnapshotProcessor:s}){if(kt(e,"modelProps"),e=Object.assign(Object.create(null),e),t){pi(t,"baseModel");const g=t[Jn];g&&(t=g,pi(t,"baseModel"))}const i=e;if(t){const g=tn(t);for(const _ of Object.keys(g))e[_]||(i[_]=g[_])}const a=Object.keys(i).filter(g=>i[g]._isId);if(n==="class"){if(a.length>1)throw p(`expected at most one idProp but got many: ${JSON.stringify(a)}`)}else if(a.length>=1)throw p(`expected no idProp but got some: ${JSON.stringify(a)}`);const l=Object.values(i).some(g=>!!g._typeChecker);let c;if(a.length>=1){c=a[0];const g=i[c];let _=l?dl:hl;switch(g==null?void 0:g._setter){case!0:_=_.withSetter();break;case"assign":_=_.withSetter("assign");break}i[c]=_}let u;if(l){const g={};for(const[_,C]of Object.entries(i))g[_]=C._typeChecker?C._typeChecker:Ot();u=Nn(()=>g)}const f=t??(n==="class"?Jt:fr),d=n==="class"?Nd:Df;let h;function v(g,_){var C;const D=(C=_==null?void 0:_.modelClass)!=null?C:this.constructor,Z=new f(g,{..._,modelClass:D});return h||(h=Object.keys(i).filter(at=>!d.has(at)&&Object.hasOwn(Z,at))),h.forEach(at=>delete Z[at]),Z}Object.assign(v,f);const m=f[Ao];if(m&&(v[Ao]=m.slice()),Jc(v,i),n==="class"){const g={dataType:u,modelIdProperty:c,valueType:r};v[Wt]=g}else{const g={dataType:u};v[Wt]=g}const w=Object.create(f.prototype);v.prototype=new Proxy(w,{get(g,_,C){if(C===v.prototype)return g[_];const D=!d.has(_)&&i[_];return D?ph(C,D,_):Reflect.get(g,_,C)},set(g,_,C,D){if(D===v.prototype)return g[_]=C,!0;const Z=!d.has(_)&&i[_];return Z?(vh(D,Z,_,C),!0):Reflect.set(g,_,C,D)},has(g,_){return!!(!d.has(_)&&i[_])||Reflect.has(g,_)}}),w.constructor=v;for(const[g,_]of Object.entries(e))if(_._setter===!0){const C=Uc(g),D=K(w,C,{value:function(Z){this[g]=Z},writable:!0,enumerable:!1,configurable:!0});Object.defineProperty(w,C,D)}const j=yh(i),x=_h(i);if(o){const g=o;o=_=>({...g(_),[T]:_[T]})}if(s){const g=s;s=(_,C)=>({...g(_,C),[T]:_[T]})}return v.fromSnapshotProcessor=hi(o,j),v.toSnapshotProcessor=hi(x,s),v}function yh(e){const t=Object.entries(e).filter(([n,r])=>r._fromSnapshotProcessor);if(!(t.length<=0))return n=>{const r={...n};for(const[o,s]of t)s._fromSnapshotProcessor&&(r[o]=s._fromSnapshotProcessor(n[o]));return r}}function _h(e){const t=Object.entries(e).filter(([n,r])=>r._toSnapshotProcessor);if(!(t.length<=0))return n=>{const r={...n};for(const[o,s]of t)s._toSnapshotProcessor&&(r[o]=s._toSnapshotProcessor(n[o]));return r}}function sn(e,t){const n=typeof e=="function"?e():e;return bh(n,void 0,t)}function bh(e,t,n){var r;return mh({modelProps:e,baseModel:t,type:"class",valueType:(r=n==null?void 0:n.valueType)!=null?r:!1,fromSnapshotProcessor:n==null?void 0:n.fromSnapshotProcessor,toSnapshotProcessor:n==null?void 0:n.toSnapshotProcessor})}const an=e=>(t,...n)=>{const r=typeof n[1]=="object"?n[1]:void 0;return wh(e,t,r==null?void 0:r.addInitializer)},pl=new WeakMap,vl=(e,t)=>{ar(t,Pa);const n=pl.get(e);if(!n.makeObservableFailed&&xn()>=6)try{Zo.makeObservable(t)}catch(r){n.makeObservableFailed=!0;const o=r;if(o.message!=="[MobX] No annotations were passed to makeObservable, but no decorator members have been found either"&&o.message!=="[MobX] No annotations were passed to makeObservable, but no decorated members have been found either")throw o}Ta(t,Ea,!0,!1),ar(t,Bc),n.type==="class"&&t.onInit&&(xo(t,"onInit",wt.OnInit),t.onInit()),n.type==="data"&&t.onLazyInit&&(xo(t,"onLazyInit",wt.OnLazyInit),t.onLazyInit())},gh={construct(e,t){const n=new e(...t);return vl(e,n),n}},wh=(e,t,n)=>{const r=on(t)?"class":zt(t)?"data":void 0;if(!r)throw p("clazz must be a class that extends from Model/DataModel");if(qn[e]&&Rr().showDuplicateModelNameWarnings&&ka("warn",`a model with name "${e}" already exists (if you are using hot-reloading you may safely ignore this warning)`,`duplicateModelName - ${e}`),Jn in t&&t[Jn]===t)throw p("a class already decorated with `@model` cannot be re-decorated");if(t.toString=()=>`class ${t.name}#${e}`,r==="class"&&(t[T]=e),pl.set(t,{makeObservableFailed:!1,type:r}),n){n(function(){vl(t,this)});const o={name:e,class:t};qn[e]=o,te.set(t,o),ar(t,bo);return}else{const o=new Proxy(t,gh);o.prototype.constructor=o,o[Jn]=t;const s={name:e,class:o};return qn[e]=s,te.set(o,s),te.set(t,s),ar(t,bo),o}};function dt(e){const t=n=>new Oh(n,ge(e));return he(()=>{const n=M(e),r=(...s)=>`Array<${n.getTypeName(...s,n)}>`,o=new L(V.Array,(s,i,a)=>{if(!J(s))return new re(i,r(o),s,a);if(!n.unchecked)for(let l=0;l<s.length;l++){const c=n.check(s[l],[...i,l],a);if(c)return c}return null},r,t,s=>{if(!J(s))return null;if(!n.unchecked){for(let i=0;i<s.length;i++)if(!n.snapshotType(s[i]))return null}return o},s=>n.unchecked?s:s.map(i=>n.fromSnapshotProcessor(i)),s=>n.unchecked?s:s.map(i=>n.toSnapshotProcessor(i)));return o},t)}class Oh extends W{constructor(t,n){super(t),b(this,"itemType"),this.itemType=n}get itemTypeInfo(){return be(this.itemType)}}var mr;(function(e){e.Single="single",e.Group="group"})(mr||(mr={}));function yr(e,t){if(e.type===mr.Single)return[e];{const n=[];for(const r of e.events)t?n.unshift(...yr(r,!0)):n.push(...yr(r,!1));return n}}let ot=class extends sn({undoEvents:fe(dt(Ot()),()=>[]),redoEvents:fe(dt(Ot()),()=>[])}){constructor(){super(...arguments),b(this,"_groupStack",[])}_clearUndo(){ut(()=>{this.undoEvents.length=0})}_clearRedo(){ut(()=>{this.redoEvents.length=0})}enforceMaxLevels({maxUndoLevels:t,maxRedoLevels:n}){if(t!==void 0)for(;this.undoEvents.length>t;)this.undoEvents.shift();if(n!==void 0)for(;this.redoEvents.length>n;)this.redoEvents.shift()}_undo({maxRedoLevels:t}){ut(()=>{const n=this.undoEvents.pop();this.redoEvents.push(n),this.enforceMaxLevels({maxRedoLevels:t})})}_redo({maxUndoLevels:t}){ut(()=>{const n=this.redoEvents.pop();this.undoEvents.push(n),this.enforceMaxLevels({maxUndoLevels:t})})}_addUndo({event:t,maxUndoLevels:n}){ut(()=>{this.undoEvents.push(t),this.redoEvents.length=0,this.enforceMaxLevels({maxUndoLevels:n})})}_addUndoToParentGroup(t,n){t.events.push(n)}get _currentGroup(){return this._groupStack[this._groupStack.length-1]}_startGroup(t,n,r){var o;let s=!1,i=!1;const a=this._currentGroup,l={type:mr.Group,groupName:t,events:[]},c=a||(o=r==null?void 0:r.attachedState)==null?void 0:o.save(),u={pause:()=>{if(i)throw p("cannot pause a group when it is already ended");if(!s)throw p("cannot pause a group when it is not running");if(this._currentGroup!==l)throw p("group out of order");this._groupStack.pop(),s=!1},resume:()=>{if(i)throw p("cannot resume a group when it is already ended");if(s)throw p("cannot resume a group when it is already running");this._groupStack.push(l),s=!0},end:()=>{var f;s&&u.pause(),i=!0,a?this._addUndoToParentGroup(a,l):this._addUndo({event:{...l,attachedState:{beforeEvent:c,afterEvent:(f=r==null?void 0:r.attachedState)==null?void 0:f.save()}},maxUndoLevels:r==null?void 0:r.maxUndoLevels})}};return n&&u.resume(),u}};k([K],ot.prototype,"_clearUndo",null);k([K],ot.prototype,"_clearRedo",null);k([K],ot.prototype,"_undo",null);k([K],ot.prototype,"_redo",null);k([K],ot.prototype,"_addUndo",null);ot=k([an(`${jn}/UndoStore`)],ot);class Ne{constructor(t,n,r,o){b(this,"disposer"),b(this,"subtreeRoot"),b(this,"options"),b(this,"store"),b(this,"_isUndoRecordingDisabled",!1),this.disposer=t,this.subtreeRoot=n,this.options=o,xn()>=6&&Zo.makeObservable(this),this.store=r??new ot({})}get undoQueue(){return this.store.undoEvents}get redoQueue(){return this.store.redoEvents}get undoLevels(){return this.undoQueue.length}get canUndo(){return this.undoLevels>0}clearUndo(){this.store._clearUndo()}get redoLevels(){return this.redoQueue.length}get canRedo(){return this.redoLevels>0}clearRedo(){this.store._clearRedo()}undo(){var t;if(!this.canUndo)throw p("nothing to undo");const n=this.undoQueue[this.undoQueue.length-1];ut(()=>{var r,o,s;yr(n,!0).forEach(i=>{qt(this.subtreeRoot,i.inversePatches,!0)}),(r=n.attachedState)!=null&&r.beforeEvent&&((s=(o=this.options)==null?void 0:o.attachedState)==null||s.restore(n.attachedState.beforeEvent))}),this.store._undo({maxRedoLevels:(t=this.options)==null?void 0:t.maxRedoLevels})}redo(){var t;if(!this.canRedo)throw p("nothing to redo");const n=this.redoQueue[this.redoQueue.length-1];ut(()=>{var r,o,s;yr(n,!1).forEach(i=>{qt(this.subtreeRoot,i.patches)}),(r=n.attachedState)!=null&&r.afterEvent&&((s=(o=this.options)==null?void 0:o.attachedState)==null||s.restore(n.attachedState.afterEvent))}),this.store._redo({maxUndoLevels:(t=this.options)==null?void 0:t.maxUndoLevels})}dispose(){this.disposer()}get isUndoRecordingDisabled(){return this._isUndoRecordingDisabled}withoutUndo(t){const n=this._isUndoRecordingDisabled;this._isUndoRecordingDisabled=!0;try{return t()}finally{this._isUndoRecordingDisabled=n}}createGroup(t){const n=this.store._startGroup(t,!1,this.options);return{continue(r){n.resume();try{return r()}finally{n.pause()}},end(){n.end()}}}withGroup(t,n){let r,o;typeof t=="string"?(r=t,o=n):o=t;const s=this.store._startGroup(r,!0,this.options);try{return o()}finally{s.end()}}withGroupFlow(t,n){let r,o;typeof t=="string"?(r=t,o=n):o=t;const s=o(),i=this.store._startGroup(r,!1,this.options),a=s.next.bind(s),l=s.throw.bind(s);return new Promise(function(u,f){function d(m){i.resume();let w;try{w=a(m)}catch(j){i.end(),f(j);return}i.pause(),v(w)}function h(m){i.resume();let w;try{w=l(m)}catch(j){i.end(),f(j);return}i.pause(),v(w)}function v(m){m&&typeof m.then=="function"?m.then(v,f):m.done?(i.end(),u(m.value)):Promise.resolve(m.value).then(d,h)}d(void 0)})}}k([N],Ne.prototype,"undoQueue",null);k([N],Ne.prototype,"redoQueue",null);k([N],Ne.prototype,"undoLevels",null);k([N],Ne.prototype,"canUndo",null);k([S],Ne.prototype,"clearUndo",null);k([N],Ne.prototype,"redoLevels",null);k([N],Ne.prototype,"canRedo",null);k([S],Ne.prototype,"clearRedo",null);k([S],Ne.prototype,"undo",null);k([S],Ne.prototype,"redo",null);let to=!1;function ut(e){const t=to;to=!0;try{return e()}finally{to=t}}function no(e){return e.type==="value"?e.value:e.value.get()}const Sh=()=>Be("contextValue");class Ah{constructor(t){b(this,"defaultContextValue",I.box(void 0,{deep:!1})),b(this,"overrideContextValue",I.box(void 0,{deep:!1})),b(this,"nodeContextValue",new WeakMap),b(this,"nodeAtom",new WeakMap),b(this,"setDefault",S(n=>{this.defaultContextValue.set({type:"value",value:n})})),b(this,"setDefaultComputed",S(n=>{this.defaultContextValue.set({type:"computed",value:N(n)})})),b(this,"set",S((n,r)=>{$(n,"node"),this.nodeContextValue.set(n,{type:"value",value:r}),this.getNodeAtom(n).reportChanged()})),b(this,"setComputed",S((n,r)=>{this._setComputed(n,N(r))})),b(this,"unset",S(n=>{$(n,"node"),this.nodeContextValue.delete(n),this.getNodeAtom(n).reportChanged()})),b(this,"apply",S((n,r)=>{const o=this.overrideContextValue.get();this.overrideContextValue.set({type:"value",value:r});try{const s=n();return Ke(s,!0)&&this.set(s,r),s}finally{this.overrideContextValue.set(o)}})),b(this,"applyComputed",S((n,r)=>{const o=N(r),s=this.overrideContextValue.get();this.overrideContextValue.set({type:"computed",value:o});try{const i=n();return Ke(i,!0)&&this._setComputed(i,o),i}finally{this.overrideContextValue.set(s)}})),this.setDefault(t)}getNodeAtom(t){return Ce(this.nodeAtom,t,Sh)}fastGet(t){this.getNodeAtom(t).reportObserved();const n=this.nodeContextValue.get(t);if(n)return no(n);const r=gn(t);if(!r){const o=this.overrideContextValue.get();return o?no(o):this.getDefault()}return this.fastGet(r)}get(t){return $(t,"node"),this.fastGet(t)}fastGetProviderNode(t){if(this.getNodeAtom(t).reportObserved(),this.nodeContextValue.get(t))return t;const r=gn(t);if(r)return this.fastGetProviderNode(r)}getProviderNode(t){return $(t,"node"),this.fastGetProviderNode(t)}getDefault(){return no(this.defaultContextValue.get())}_setComputed(t,n){$(t,"node"),this.nodeContextValue.set(t,{type:"computed",value:n}),this.getNodeAtom(t).reportChanged()}}function Gr(e){return new Ah(e)}Gr(!1);class ln extends sn({id:fe(ze)}){get maybeCurrent(){return this.resolve()}get isValid(){return!!this.maybeCurrent}get current(){const t=this.maybeCurrent;if(!t)throw p(`a reference of type '${this[T]}' could not resolve an object with id '${this.id}'`);return t}}k([N],ln.prototype,"maybeCurrent",null);k([N],ln.prototype,"isValid",null);k([N],ln.prototype,"current",null);const vi=new WeakMap;function ml(e,t,n,r){let o=class extends ln{constructor(){super(...arguments),b(this,"resolver"),b(this,"savedOldTarget")}resolve(){return this.resolver||(this.resolver=t(this)),this.resolver(this)}internalForceUpdateBackRefs(l){const c=this.savedOldTarget;this.savedOldTarget=l,Ph(this,i,l,c)}forceUpdateBackRefs(){this.internalForceUpdateBackRefs(this.maybeCurrent)}onInit(){let l,c=!0;Bt(()=>this.maybeCurrent,u=>{this.internalForceUpdateBackRefs(u);const f=l,d=c;l=u,c=!1,!d&&r&&u!==f&&r(this,u,f)},{fireImmediately:!0})}};k([S],o.prototype,"forceUpdateBackRefs",null),o=k([an(e)],o);const s=a=>{let l;if(typeof a=="string"?l=a:(kt(a,"target"),l=n(a)),typeof l!="string")throw p("ref target object must have an id of string type");return new o({id:l})};s.refClass=o;const i=s;return i}function _s(e){if(X(e)&&e.getRefId){const t=e.getRefId();if(t!==void 0&&typeof t!="string")throw p("'getRefId()' must return a string or undefined when present");return t}}const Th=new WeakMap;function Ch(e,t,n=_s){const o=Ce(Th,n,()=>Cf(s=>n(s))).walk(e);return o?o.get(t):void 0}function Wn(e,t){let n=vi.get(e);if(n||(n={all:I.set(void 0,{deep:!1}),byType:new WeakMap},vi.set(e,n)),t){let r=n.byType.get(t);return r||(r=I.set(void 0,{deep:!1}),n.byType.set(t,r)),r}else return n.all}const Ph=S("updateBackRefs",(e,t,n,r)=>{n!==r&&(r&&(Wn(r).delete(e),Wn(r,t).delete(e)),n&&(Wn(n).add(e),Wn(n,t).add(e)))});Ga({initData(){return{all:new Set,byType:new WeakMap}},addNode(e,t){e instanceof ln&&(t.all.add(e),Ce(t.byType,e.constructor,()=>new Set).add(e))}});S("customRef",(e,t)=>{var n;const r=(n=t.getId)!=null?n:_s;return ml(e,()=>t.resolve,r,t.onResolvedValueChange)});S("rootRef",(e,t)=>{var n;const r=(n=t==null?void 0:t.getId)!=null?n:_s,o=t==null?void 0:t.onResolvedValueChange;return ml(e,i=>{let a;return()=>{const l=vr(i);if(Ih(i,l,a,r))return a;const c=Ch(l,i.id,r);return c&&(a=c),c}},r,o)});function Ih(e,t,n,r){return!(!n||e.id!==r(n)||t!==vr(n))}function B(e,t){return Jd(e,t,!1)}function kh(e,...t){return e.splice(...t)}const oe=`${jn}/arrayActions`;B(`${oe}::set`,(e,t,n)=>{q(e,t,n)}),B(`${oe}::delete`,(e,t)=>Ae(e,""+t)),B(`${oe}::setLength`,(e,t)=>{e.length=t}),B(`${oe}::concat`,(e,...t)=>e.concat(...t)),B(`${oe}::copyWithin`,(e,t,n,r)=>e.copyWithin(t,n,r)),B(`${oe}::fill`,(e,t,n,r)=>e.fill(t,n,r)),B(`${oe}::pop`,e=>e.pop()),B(`${oe}::push`,(e,...t)=>e.push(...t)),B(`${oe}::reverse`,e=>e.reverse()),B(`${oe}::shift`,e=>e.shift()),B(`${oe}::slice`,(e,t,n)=>e.slice(t,n)),B(`${oe}::sort`,(e,t)=>e.sort(t)),B(`${oe}::splice`,kh),B(`${oe}::unshift`,(e,...t)=>e.unshift(...t)),B(`${oe}::swap`,(e,t,n)=>{if(t<0||n<0||t>=e.length||n>=e.length)return!1;n<t&&([t,n]=[n,t]);const[r]=e.splice(t,1),[o]=e.splice(n-1,1);return e.splice(t,0,o),e.splice(n,0,r),!0});const Kn=`${jn}/objectActions`;B(`${Kn}::set`,(e,t,n)=>{Ue(e)?q(e,t,n):e[t]=n}),B(`${Kn}::assign`,(e,t)=>{kt(t,"partialObject");const n=Object.keys(t);if(Ue(e))for(const r of n){const o=t[r];q(e,r,o)}else for(const r of n)e[r]=t[r]}),B(`${Kn}::delete`,(e,t)=>Ae(e,t)),B(`${Kn}::call`,(e,t,...n)=>e[t](...n));S(e=>{const t=I.map();t.dataObject=e;const n=Object.keys(e);for(let s=0;s<n.length;s++){const i=n[s];t.set(i,e[i])}let r=!1,o=!1;return Pt(e,S(s=>{if(!r){o=!0;try{switch(s.type){case"add":case"update":{t.set(s.name,s.newValue);break}case"remove":{t.delete(s.name);break}}}finally{o=!1}}})),Zt(t,S(s=>{if(r)return null;if(o)return s;r=!0;try{switch(s.type){case"add":case"update":{q(e,s.name,s.newValue);break}case"delete":{Ae(e,s.name);break}}return s}finally{r=!1}})),t});S(e=>{let t;if(xn()>=6?t=I.map(e):(t=I.map(),e.forEach(([o,s])=>{t.set(o,s)})),t.dataObject=e,t.size!==e.length)throw p("arrays backing a map cannot contain duplicate keys");let n=!1,r=!1;return Pt(e,S(o=>{if(!n){r=!0;try{switch(o.type){case"splice":{{const s=o.removed;for(let i=0;i<s.length;i++)t.delete(s[i][0])}{const s=o.added;for(let i=0;i<s.length;i++)t.set(s[i][0],s[i][1])}break}case"update":{t.delete(o.oldValue[0]),t.set(o.newValue[0],o.newValue[1]);break}}}finally{r=!1}}})),Zt(t,S(o=>{if(n)return null;if(r)return o;n=!0;try{switch(o.type){case"update":{const s=e.findIndex(i=>i[0]===o.name);e[s]=[o.name,o.newValue];break}case"add":{e.push([o.name,o.newValue]);break}case"delete":{const s=e.findIndex(i=>i[0]===o.name);s>=0&&e.splice(s,1);break}}return o}finally{n=!1}})),t});S(e=>{let t;if(xn()>=6?t=I.set(e):(t=I.set(),e.forEach(o=>{t.add(o)})),t.dataObject=e,t.size!==e.length)throw p("arrays backing a set cannot contain duplicate values");let n=!1,r=!1;return Pt(e,S(o=>{if(!n){r=!0;try{switch(o.type){case"splice":{{const s=o.removed;for(let i=0;i<s.length;i++)t.delete(s[i])}{const s=o.added;for(let i=0;i<s.length;i++)t.add(s[i])}break}case"update":{t.delete(o.oldValue),t.add(o.newValue);break}}}finally{r=!1}}})),Zt(t,S(o=>{if(n)return null;if(r)return o;n=!0;try{switch(o.type){case"add":{e.push(o.newValue);break}case"delete":{const s=e.indexOf(o.oldValue);s>=0&&e.splice(s,1);break}}return o}finally{n=!1}})),t});class un{constructor(t){b(this,"data"),b(this,"originalData"),$(t,"original"),this.originalData=t,this.data=Ze(this.originalSnapshot,{generateNewIds:!1})}commit(){ko(this.originalData,z(this.data))}commitByPath(t){const n=Yr(this.data,t);if(!n.resolved)throw p(`path ${JSON.stringify(t)} could not be resolved in draft object`);const r=ro(this.data,t);if(!Qr(this.originalData,t,r).resolved)throw p(`path ${JSON.stringify(t)} could not be resolved in original object`);qt(this.originalData,[{path:t,op:"replace",value:z(n.value)}])}reset(){ko(this.data,this.originalSnapshot)}resetByPath(t){const n=Yr(this.originalData,t);if(!n.resolved)throw p(`path ${JSON.stringify(t)} could not be resolved in original object`);const r=ro(this.originalData,t);if(!Qr(this.data,t,r).resolved)throw p(`path ${JSON.stringify(t)} could not be resolved in draft object`);qt(this.data,[{path:t,op:"replace",value:z(n.value)}])}get isDirty(){return!Eo(z(this.data),this.originalSnapshot)}isDirtyByPath(t){const n=Yr(this.data,t);if(!n.resolved)throw p(`path ${JSON.stringify(t)} could not be resolved in draft object`);const r=ro(this.data,t),o=Qr(this.originalData,t,r);return o.resolved?!Eo(n.value,o.value):!0}get originalSnapshot(){return z(this.originalData)}}k([S],un.prototype,"commit",null);k([S],un.prototype,"commitByPath",null);k([S],un.prototype,"reset",null);k([S],un.prototype,"resetByPath",null);k([N],un.prototype,"isDirty",null);k([N],un.prototype,"originalSnapshot",null);function ro(e,t){const n=oh(e,t);return n.length>=1&&(n[n.length-1]=al),n}Gr();function mi(...e){const t=n=>new Eh(n,e.map(ge));return he(()=>{const n=e.map(M),r=(...s)=>"["+n.map(a=>s.includes(a)?"...":a.getTypeName(...s,a)).join(", ")+"]",o=new L(V.Array,(s,i,a)=>{if(!J(s)||s.length!==e.length)return new re(i,r(o),s,a);for(let l=0;l<s.length;l++){const c=n[l].check(s[l],[...i,l],a);if(c)return c}return null},r,t,s=>{if(!J(s)||s.length!==e.length)return null;for(let i=0;i<s.length;i++)if(!n[i].snapshotType(s[i]))return null;return o},s=>s.map((i,a)=>n[a].fromSnapshotProcessor(i)),s=>s.map((i,a)=>n[a].toSnapshotProcessor(i)));return o},t)}class Eh extends W{constructor(t,n){super(t),b(this,"itemTypes"),b(this,"_itemTypeInfos",ve(()=>this.itemTypes.map(be))),this.itemTypes=n}get itemTypeInfos(){return this._itemTypeInfos()}}let St=class extends sn({[ce]:es,items:fe(dt(Ot()),()=>[])}){add(t){const n=this.items;return n.includes(t)||n.push(t),this}clear(){this.items.length=0}delete(t){const n=this.items,r=n.findIndex(o=>o===t);return r>=0?(n.splice(r,1),!0):!1}forEach(t,n){const r=this.items,o=r.length;for(let s=0;s<o;s++){const i=r[s];t.call(n,i,i,this)}}has(t){return this.items.includes(t)}get size(){return this.items.length}keys(){return this.values()}values(){const t=this.items;return Go(t)[Symbol.iterator]()}entries(){return this.items.map(n=>[n,n]).values()}[Symbol.iterator](){return this.values()}get[Symbol.toStringTag](){return"ArraySet"}};k([K],St.prototype,"add",null);k([K],St.prototype,"clear",null);k([K],St.prototype,"delete",null);St=k([an(`${jn}/ArraySet`)],St);function xh(e){const t=n=>new jh(n,ge(e));return he(()=>{const n=te.get(St),r=M(e),o=(...a)=>`ArraySet<${r.getTypeName(...a,r)}>`,s=Nn(()=>({items:dt(r)})),i=new L(V.Object,(a,l,c)=>a instanceof St?M(s).check(a.$,l,c):new re(l,o(i),a,c),o,t,a=>ie(a)?a[T]!==void 0?a[T]===n.name?i:null:M(s).snapshotType(a)?i:null:null,a=>({...a,[T]:n.name,items:a.items.map(l=>r.fromSnapshotProcessor(l))}),a=>({...a,items:a.items.map(c=>r.toSnapshotProcessor(c))}));return i},t)}class jh extends W{constructor(t,n){super(t),b(this,"valueType"),this.valueType=n}get valueTypeInfo(){return be(this.valueType)}}function _r(e){const t=n=>new Dh(n,ge(e));return he(()=>{const n=M(e),r=(...i)=>`Record<${n.getTypeName(...i,n)}>`,o=(i,a)=>{if(n.unchecked)return i;const l={},c=Object.keys(i);for(let u=0;u<c.length;u++){const f=c[u],d=a==="from"?n.fromSnapshotProcessor(i[f]):n.toSnapshotProcessor(i[f]);l[f]=d}return l},s=new L(V.Object,(i,a,l)=>{if(!ie(i))return new re(a,r(s),i,l);if(!n.unchecked){const c=Object.keys(i);for(let u=0;u<c.length;u++){const f=c[u],d=i[f],h=n.check(d,[...a,f],l);if(h)return h}}return null},r,t,i=>{if(!ie(i))return null;if(!n.unchecked){const a=Object.keys(i);for(let l=0;l<a.length;l++){const c=a[l],u=i[c];if(!n.snapshotType(u))return null}}return s},i=>o(i,"from"),i=>o(i,"to"));return s},t)}class Dh extends W{constructor(t,n){super(t),b(this,"valueType"),this.valueType=n}get valueTypeInfo(){return be(this.valueType)}}let At=class extends sn({[ce]:es,items:fe(_r(Ot()),()=>({}))}){clear(){const t=this.items,n=Object.keys(t),r=n.length;for(let o=0;o<r;o++){const s=n[o];Ae(t,s)}}delete(t){return this.has(t)?(Ae(this.items,t),!0):!1}forEach(t,n){const r=this.items,o=Object.keys(r),s=o.length;for(let i=0;i<s;i++){const a=o[i];t.call(n,r[a],a,this)}}get(t){return ua(this.items,t)}has(t){return Wo(this.items,t)}set(t,n){return q(this.items,t,n),this}get size(){return _t(this.items).length}keys(){return _t(this.items)[Symbol.iterator]()}values(){return Go(this.items)[Symbol.iterator]()}entries(){return la(this.items)[Symbol.iterator]()}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return"ObjectMap"}};k([K],At.prototype,"clear",null);k([K],At.prototype,"delete",null);k([K],At.prototype,"set",null);At=k([an(`${jn}/ObjectMap`)],At);function Rh(e){const t=n=>new Mh(n,ge(e));return he(()=>{const n=te.get(At),r=M(e),o=(...l)=>`ObjectMap<${r.getTypeName(...l,r)}>`,s=Nn(()=>({items:_r(r)})),i=M(s),a=new L(V.Object,(l,c,u)=>l instanceof At?i.check(l.$,c,u):new re(c,o(a),l,u),o,t,l=>ie(l)?l[T]!==void 0?l[T]===n.name?a:null:i.snapshotType(l)?a:null:null,l=>{const c={};for(const u of Object.keys(l.items))c[u]=r.fromSnapshotProcessor(l.items[u]);return{...l,[T]:n.name,items:c}},l=>{const c={};for(const f of Object.keys(l.items))c[f]=r.toSnapshotProcessor(l.items[f]);return{...l,items:c}});return a},t)}class Mh extends W{constructor(t,n){super(t),b(this,"valueType"),this.valueType=n}get valueTypeInfo(){return be(this.valueType)}}function Nh(e){const t="Ref",n=te.get(e.refClass),r=M(Nn(()=>({id:ze}))),o=new L(V.Object,(s,i,a)=>s instanceof ln?r.check(s.$,i,a):new re(i,t,s,a),()=>t,s=>new $h(s),s=>ie(s)?s[T]!==void 0?s[T]===n.name?o:null:r.snapshotType(s)?o:null:null,s=>s[T]?s:{...s,[T]:n.name},s=>s);return o}class $h extends W{}function Vh(e){const t=[];for(const n of Object.keys(e)){const r=e[n];!t.includes(r)&&(typeof r!="string"&&r!==+n||e[r]!==+n)&&t.push(r)}return t}function Fh(e){kt(e,"enumObject");const t=Vh(e).map(n=>Er(n));return $n(...t)}function bs(e,t,n){const r=o=>new Lh(o,ge(e),t,n);return he(()=>{const o=M(e),s=(...a)=>{const l=o.getTypeName(...a,o);return`${n||"refinementOf"}<${l}>`},i=new L(o.baseType,(a,l,c)=>{const u=o.check(a,l,c);if(u)return u;const f=t(a);return f===!0||f==null?null:f===!1?new re(l,s(i),a,c):new re(f.path,f.expectedTypeName,f.actualValue,c)},s,r,a=>o.snapshotType(a),a=>o.fromSnapshotProcessor(a),a=>o.toSnapshotProcessor(a));return i},r)}class Lh extends W{constructor(t,n,r,o){super(t),b(this,"baseType"),b(this,"checkFunction"),b(this,"typeName"),this.baseType=n,this.checkFunction=r,this.typeName=o}get baseTypeInfo(){return be(this.baseType)}}const yi=bs(Rn,e=>Number.isInteger(e),"integer"),_i=bs(ze,e=>e!=="","nonEmpty");function Bh(e){return $n(e,xr)}function Uh(e){return $n(e,jr)}function Gh(e,t,n){const r=o=>new Wh(o,ge(e),t,n);return he(()=>{const o=M(e),s=(...a)=>{const l=o.getTypeName(...a,o);return`${n||"tagged"}<${l}>`};return new L(o.baseType,(a,l,c)=>o.check(a,l,c),s,r,a=>o.snapshotType(a),a=>o.fromSnapshotProcessor(a),a=>o.toSnapshotProcessor(a))},r)}class Wh extends W{constructor(t,n,r,o){super(t),b(this,"baseType"),b(this,"tag"),b(this,"typeName"),this.baseType=n,this.tag=r,this.typeName=o}get baseTypeInfo(){return be(this.baseType)}}const pn={literal:Er,undefined:xr,null:jr,boolean:Dr,number:Rn,string:ze,or:$n,maybe:Bh,maybeNull:Uh,array:dt,record:_r,unchecked:Ot,model:kr,dataModelData:ls,object:Nn,ref:Nh,frozen:ih,enum:Fh,tag:Gh,refinement:bs,integer:yi,nonEmptyString:_i,objectMap:Rh,arraySet:xh,tuple:mi,mapArray(e){return dt(mi(ze,e))},setArray(e){return dt(e)},mapObject(e){return _r(e)},dateString:_i,dateTimestamp:yi};function P(e,t,...n){const r=typeof e=="string"?document.createElement(e,{is:t==null?void 0:t.is}):new e;if(t)for(const[o,s]of Object.entries(t)){let i=function(a){if(s instanceof Array){const[l,c]=s;l.registerDisposer(Bt(c,a,{fireImmediately:!0}))}else s instanceof Function?Bt(s,a,{fireImmediately:!0}):console.error("bad 'obs-...' attribute")};if(!o.includes(":"))typeof e=="string"&&o==="is"||r.setAttribute(o,s);else{const[a,l]=o.split(":");switch(a){case"prop":r[l]=s;break;case"style":r.style[l]=s;break;case"class":r.classList.toggle(l,s);break;case"obs":i(c=>r.setAttribute(l,c));break;case"obs-prop":i(c=>r[l]=c);break;case"obs-style":i(c=>r.style[l]=c);break;case"obs-class":i(c=>r.classList.toggle(l,c));break;case"on":r.addEventListener(l,c=>{c.preventDefault(),c.stopImmediatePropagation(),s(c)});break;case"on_":r.addEventListener(l,s);break;default:throw new Error("unsupported qualifier: "+a)}}}for(const o of n)r.append(o);return r}const Kh=DocumentFragment,yl=Text;var zh=Object.defineProperty,Hh=Object.getOwnPropertyDescriptor,ke=(e,t,n,r)=>{for(var o=r>1?void 0:r?Hh(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&zh(t,n,o),o};const _l=Gr(()=>!0),bl=Gr();let Tt=class extends sn({text:fe(pn.string),completed:fe(pn.boolean,!1).withSetter()}){get isVisible(){return _l.get(this)(this)}remove(){var e;(e=bl.get(this))==null||e(this)}edit(e){const t=e.trim();if(t!==this.text){if(!t.length){this.remove();return}this.text=t}}};ke([N],Tt.prototype,"isVisible",1);ke([K],Tt.prototype,"remove",1);ke([K],Tt.prototype,"edit",1);Tt=ke([an("TodoApp/Todo")],Tt);var et=(e=>(e.SHOW_ALL="SHOW_ALL",e.SHOW_ACTIVE="SHOW_ACTIVE",e.SHOW_COMPLETED="SHOW_COMPLETED",e))(et||{});const qh={SHOW_ALL:()=>!0,SHOW_ACTIVE:e=>!e.completed,SHOW_COMPLETED:e=>e.completed};let Je=class extends sn({todos:fe(pn.array(pn.model(Tt)),()=>[]),filter:fe(pn.enum(et),"SHOW_ACTIVE").withSetter()}){onInit(){_l.setComputed(this,()=>qh[this.filter]),bl.set(this,e=>this.removeTodo(e))}get completedCount(){return this.todos.reduce((e,t)=>e+Number(t.completed),0)}get activeCount(){return this.todos.length-this.completedCount}addTodo(e){e.trim()!==""&&this.todos.push(new Tt({text:e}))}removeTodo(e){const t=this.todos.indexOf(e);t!==-1&&this.todos.splice(t,1)}completeAll(){const e=!this.todos.every(t=>t.completed);this.todos.forEach(t=>t.completed=e)}clearCompleted(){for(const e of[...this.todos])e.completed&&this.removeTodo(e)}};ke([N],Je.prototype,"completedCount",1);ke([N],Je.prototype,"activeCount",1);ke([K],Je.prototype,"addTodo",1);ke([K],Je.prototype,"removeTodo",1);ke([K],Je.prototype,"completeAll",1);ke([K],Je.prototype,"clearCompleted",1);Je=ke([an("TodoApp/TodoStore")],Je);var $t;class gl extends HTMLElement{constructor(){super(...arguments);Wr(this,$t,[])}registerDisposer(n){Et(this,$t).push(n)}disconnectedCallback(){this.replaceChildren(),Et(this,$t).forEach(n=>n()),Et(this,$t).length=0}}$t=new WeakMap;function Jh(e,t,n={}){var i;const r=new DocumentFragment,o=e.map(t);o.push(new Comment("#")),r.append(...o);const s=Pt(e,a=>{switch(a.type){case"splice":{const{index:l,removedCount:c,added:u}=a,f=u.map(t);o.splice(l,c,...f).forEach(d=>{d.remove()}),o[l+u.length].before(...f);break}case"update":{const{index:l,newValue:c}=a,u=o[l],f=t(c);o[l]=f,u.parentNode.replaceChild(f,u);break}default:throw new Error("unexpected array-change type: "+a.type)}});return(i=n.registry)==null||i.registerDisposer(s),r}class Xh extends HTMLElement{constructor(){super(...arguments);lt(this,"create")}connectedCallback(){let n;const r=()=>{this.create(n.value),n.value=""};this.append(P("form",{"on:submit":r},n=P("input",{class:"new-todo",placeholder:"What needs to be done?",autofocus:!0})))}}customElements.define("new-todo-form",Xh);class Yh extends gl{constructor(){super(...arguments);lt(this,"todo")}connectedCallback(){const n=I.box(!1);let r,o;const s=()=>{n.set(!0),o.value=this.todo.text,o.focus()},i=()=>{n.set(!1),this.todo.edit(o.value)};this.registerDisposer(Bt(()=>this.todo.isVisible,a=>{this.replaceChildren(a?P("li",{"obs-class:editing":[this,()=>n.get()]},P("div",{class:"view"},r=P("input",{type:"checkbox",class:"toggle","on:change":()=>this.todo.setCompleted(r.checked),"obs-prop:checked":[this,()=>this.todo.completed]}),P("label",{"on:dblclick":s},P(yl,{"obs-prop:data":[this,()=>this.todo.text]})),P("button",{class:"destroy","on:click":()=>this.todo.remove()})),P("form",{"style:display":"contents","on:submit":i},o=P("input",{class:"edit","on:blur":i}))):P(Kh,null))},{fireImmediately:!0}))}}customElements.define("todo-item",Yh);class Qh extends gl{constructor(){super(...arguments);lt(this,"todos")}connectedCallback(){this.append(P("ul",{class:"todo-list"},Jh(this.todos,n=>P("todo-item",{"prop:todo":n}),{registry:this})))}}customElements.define("todo-list",Qh);var On;class Zh extends HTMLElement{constructor(){super(...arguments);lt(this,"href");lt(this,"myFilter");Wr(this,On,I.box())}set currentFilter(n){Et(this,On).set(n)}get currentFilter(){return Et(this,On).get()}connectedCallback(){this.style.boxShadow="none",this.attachShadow({mode:"closed"}).append(P("style",null,`
        li {
          display: inline;
        }
        li a {
          color: inherit;
          margin: 3px;
          padding: 3px 7px;
          text-decoration: none;
          border: 1px solid transparent;
          border-radius: 3px;
        }
        li a:hover {
          border-color: #DB7676;
        }
        li a.selected {
          border-color: #CE4646;
        }
        li a:focus {
          box-shadow: 0 0 2px 2px #CF7D7D;
          outline: 0;
        }
      `),P("li",null,P("a",{href:this.href,"obs-class:selected":()=>this.currentFilter===this.myFilter},P("slot",null))))}}On=new WeakMap;customElements.define("filter-selector",Zh);class ep extends HTMLElement{constructor(){super(...arguments);lt(this,"store")}connectedCallback(){const n=`toggle-all-${Date.now().toString(36)}-${(Math.random()*9007199254740992).toString(36)}`;this.append(P("section",{class:"todoapp"},P("header",{class:"header"},P("h1",null,"todos"),P("new-todo-form",{"prop:create":r=>this.store.addTodo(r),"on:new-todo":r=>this.store.addTodo(r.detail)})),P("section",{class:"main"},P("input",{type:"checkbox",id:n,class:"toggle-all","on:change":()=>this.store.completeAll()}),P("label",{for:n,"obs-class:hidden":()=>this.store.todos.length===0},"Mark all as complete"),P("todo-list",{"prop:todos":this.store.todos})),P("footer",{class:"footer","obs-class:hidden":()=>this.store.todos.length===0},P("span",{class:"todo-count"},P(yl,{"obs-prop:data":()=>`${this.store.activeCount}
              item${this.store.activeCount===1?"":"s"} left!`})),P("ul",{class:"filters"},P("filter-selector",{"prop:href":"#/","prop:myFilter":et.SHOW_ALL,"obs-prop:currentFilter":()=>this.store.filter},"All"),P("filter-selector",{"prop:href":"#/active","prop:myFilter":et.SHOW_ACTIVE,"obs-prop:currentFilter":()=>this.store.filter},"Active"),P("filter-selector",{"prop:href":"#/completed","prop:myFilter":et.SHOW_COMPLETED,"obs-prop:currentFilter":()=>this.store.filter},"Completed")),P("button",{class:"clear-completed","obs-class:hidden":()=>this.store.completedCount===0,"on:click":()=>this.store.clearCompleted()},"Clear completed"))))}}customElements.define("todo-app",ep);document.body.append(P("style",null,".hidden.hidden {display: none;}"));ra({enforceActions:"never",computedRequiresReaction:!1,reactionRequiresObservable:!1,observableRequiresReaction:!1,disableErrorBoundaries:!1});yf({modelAutoTypeChecking:ft.AlwaysOff});const wn=new Je({todos:Ze(JSON.parse(localStorage.getItem("todos-mk")??"[]"))});qf(wn.todos,e=>{localStorage.setItem("todos-mk",JSON.stringify(e))});{const e=new BroadcastChannel("todos-mk");let t=!1;Ef(wn.todos,n=>{t||e.postMessage(n)}),e.onmessage=n=>{try{t=!0,qt(wn.todos,n.data)}finally{t=!1}}}{let e=function(){const{hash:t}=document.location;wn.setFilter(t==="#/active"?et.SHOW_ACTIVE:t==="#/completed"?et.SHOW_COMPLETED:et.SHOW_ALL)};window.addEventListener("hashchange",e),e()}document.getElementById("root").append(P("todo-app",{"prop:store":wn}));
